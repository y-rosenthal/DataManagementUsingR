<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>20&nbsp; regular expressions (regex) – Data Management With R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./000260-PracticeWithRegulaExpressions-v003.html" rel="next">
<link href="./0000025-introToBash-v007.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">

<meta http-equiv="Pragma" content="no-cache">

<meta http-equiv="Expires" content="0">


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./0200200-introToRegularExpressions-v036.html">Regular Expressions</a></li><li class="breadcrumb-item"><a href="./0200200-introToRegularExpressions-v036.html"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">regular expressions (regex)</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data Management With R</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intro</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Some computer basics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro00100-operatingSystems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">What is an “operating system”</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro00120-files.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Working with files</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro00130-chromeExtensions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Chrome Extensions</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Intro to R packages</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000022-InstallingRPackages-v003.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Intro to R packages</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Intro to Quarto</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000017-introToQuarto-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Intro to Quarto</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Into to Coding With AI</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./aiCoding00100-overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Coding with AI - an overview</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Intro to tidyverse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0400050-whatIsTidyverse-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">What is the “tidyverse”</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0400050-tibbles-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">tibbles and tribbles</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0400100-usingPipes-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Using pipes, i.e. %&gt;% and |&gt;</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0400200-stringr-tutorials-v003.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">stringr tutorial</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Working with files</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000055-workingWithFiles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Working with files</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">JSON data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000075-whatIsJsonData.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Intro to JSON data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000080-editingAndValidatingJsonFiles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Creating, editing and validating JSON files</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000085-jsonDataTypes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">DATA TYPES IN JSON</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000088-nestedDataframes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Nested Dataframes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000090-usingJsonInR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Using JSON in R</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Bash</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000011-WhatIsACli-v010.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Intro to Command Line Interfaces (CLIs)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000013-HowToRunTheBashShellCli-v011.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">How to run the Bash Shell</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000025-introToBash-v007.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Working with the Bash Shell.</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">Regular Expressions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0200200-introToRegularExpressions-v036.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">regular expressions (regex)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./000260-PracticeWithRegulaExpressions-v003.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Practice with Regular Expressions</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">visualizations with ggplot2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./050050-tdyvrsGgplot2-v0001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Intro to ggplot2</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true">
 <span class="menu-text">Intro to dplyr and to SQL</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0500100-tdyvrsDplyr-v005.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Intro to dplyr</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0500400-sqlSelectIntro-v003.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">SQL Select</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true">
 <span class="menu-text">Relational databases and SQL (no dplyr knowledge needed)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0006-introToDatabases-v023.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">“databases” and “database management systems”</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0014-theBooksDatabase-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Get the data - “books database” and other tables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0010-introToSql-v023.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Relational Databases and SQL (using R)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0035-workingWithMultipleTables-v012.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Inner Joins.</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0030-sqlFunctions_aggregateFunctions_groupBy_having-v019.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">aggregate functions, group by, having</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0040-crossJoin-leftJoin-subquery-selfJoins-v023.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">more joins (cross/left/right/full), subqueries, set operations, case, self joins</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0050-commonTableExpressions-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Common Table Expressions (CTE)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0200-otherSqlCommands-v002.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">other commands: update/delete, create/drop/insert</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0900-sqlWindowFunctions-v002.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">SQL “window” functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0950-workingWithDatabasesInR-v010.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Working directly with databases in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0600100-introToDb-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">What is a Database?</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true">
 <span class="menu-text">Web Scraping</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./web-000300-internetArchitecture-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">How a webpage gets to your browser</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./web-000400-webscrapingContinued-015.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Web Scraping with R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./web-000130-WebscrapingJavascriptSites-v003.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Scraping Dynamic (JavaScript) Websites</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./web-000420-practiceWithWebScraping-v001-ANSWERS-v002.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">CSS Selector questions and answers</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true">
 <span class="menu-text">Questions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0990100-cleaningData-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">“Cleaning” data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000100-topics-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Topics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000200-bibliography-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Bibliography</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000300-whereToFindDatasets-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Where to find datasets</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000310-whereToFindApis-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">Where to find APIs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0999000-toDo-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">45</span>&nbsp; <span class="chapter-title">Additional topics</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#data-for-examples" id="toc-data-for-examples" class="nav-link active" data-scroll-target="#data-for-examples"><span class="header-section-number">20.1</span> Data for examples</a>
  <ul class="collapse">
  <li><a href="#stringr-package" id="toc-stringr-package" class="nav-link" data-scroll-target="#stringr-package"><span class="header-section-number">20.1.1</span> stringr package</a></li>
  </ul></li>
  <li><a href="#grep-function" id="toc-grep-function" class="nav-link" data-scroll-target="#grep-function"><span class="header-section-number">20.2</span> grep function</a></li>
  <li><a href="#grep-and-grepl" id="toc-grep-and-grepl" class="nav-link" data-scroll-target="#grep-and-grepl"><span class="header-section-number">20.3</span> grep and grepl</a></li>
  <li><a href="#regex-patterns-do-not-understand-numbers" id="toc-regex-patterns-do-not-understand-numbers" class="nav-link" data-scroll-target="#regex-patterns-do-not-understand-numbers"><span class="header-section-number">20.4</span> regex patterns do NOT understand “numbers”</a></li>
  <li><a href="#case-sensitivity" id="toc-case-sensitivity" class="nav-link" data-scroll-target="#case-sensitivity"><span class="header-section-number">20.5</span> case sensitivity</a></li>
  <li><a href="#str_view-from-the-stringr-package" id="toc-str_view-from-the-stringr-package" class="nav-link" data-scroll-target="#str_view-from-the-stringr-package"><span class="header-section-number">20.6</span> str_view from the stringr package</a></li>
  <li><a href="#sub-and-gsub-functions" id="toc-sub-and-gsub-functions" class="nav-link" data-scroll-target="#sub-and-gsub-functions"><span class="header-section-number">20.7</span> sub and gsub functions</a></li>
  <li><a href="#strsplit-function" id="toc-strsplit-function" class="nav-link" data-scroll-target="#strsplit-function"><span class="header-section-number">20.8</span> strsplit function</a>
  <ul class="collapse">
  <li><a href="#practice" id="toc-practice" class="nav-link" data-scroll-target="#practice"><span class="header-section-number">20.8.1</span> — practice —</a></li>
  </ul></li>
  <li><a href="#anchors-and" id="toc-anchors-and" class="nav-link" data-scroll-target="#anchors-and"><span class="header-section-number">20.9</span> “anchors” ^ and $</a></li>
  <li><a href="#periods" id="toc-periods" class="nav-link" data-scroll-target="#periods"><span class="header-section-number">20.10</span> periods</a></li>
  <li><a href="#character-classes-eg.-abc" id="toc-character-classes-eg.-abc" class="nav-link" data-scroll-target="#character-classes-eg.-abc"><span class="header-section-number">20.11</span> “character classes” eg. [abc]</a>
  <ul class="collapse">
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples"><span class="header-section-number">20.11.1</span> Examples</a></li>
  <li><a href="#dashes-e.g.-a-d" id="toc-dashes-e.g.-a-d" class="nav-link" data-scroll-target="#dashes-e.g.-a-d"><span class="header-section-number">20.11.2</span> dashes, e.g.&nbsp;[a-d]</a></li>
  <li><a href="#examples-1" id="toc-examples-1" class="nav-link" data-scroll-target="#examples-1"><span class="header-section-number">20.11.3</span> Examples</a></li>
  <li><a href="#combine-multiple-ranges-one-brackets" id="toc-combine-multiple-ranges-one-brackets" class="nav-link" data-scroll-target="#combine-multiple-ranges-one-brackets"><span class="header-section-number">20.11.4</span> combine multiple ranges one [brackets]</a></li>
  <li><a href="#abc" id="toc-abc" class="nav-link" data-scroll-target="#abc"><span class="header-section-number">20.11.5</span> [^abc]</a></li>
  <li><a href="#metachars-lose-special-meaning-in-brackets-eg.-." id="toc-metachars-lose-special-meaning-in-brackets-eg.-." class="nav-link" data-scroll-target="#metachars-lose-special-meaning-in-brackets-eg.-."><span class="header-section-number">20.11.6</span> metachars lose special meaning in brackets eg. [.$*]</a></li>
  <li><a href="#special-cases--" id="toc-special-cases--" class="nav-link" data-scroll-target="#special-cases--"><span class="header-section-number">20.11.7</span> Special cases: ^ - ]</a></li>
  <li><a href="#matching-inside-square-brackets" id="toc-matching-inside-square-brackets" class="nav-link" data-scroll-target="#matching-inside-square-brackets"><span class="header-section-number">20.11.8</span> matching ^ inside [square brackets]</a></li>
  <li><a href="#matching-a---inside-square-brackets" id="toc-matching-a---inside-square-brackets" class="nav-link" data-scroll-target="#matching-a---inside-square-brackets"><span class="header-section-number">20.11.9</span> Matching a - inside [square brackets]</a></li>
  <li><a href="#matching-a-inside-square-brackets" id="toc-matching-a-inside-square-brackets" class="nav-link" data-scroll-target="#matching-a-inside-square-brackets"><span class="header-section-number">20.11.10</span> Matching a ] inside [square brackets]</a></li>
  </ul></li>
  <li><a href="#searching-with-regular-expressions-in-a-text-editor" id="toc-searching-with-regular-expressions-in-a-text-editor" class="nav-link" data-scroll-target="#searching-with-regular-expressions-in-a-text-editor"><span class="header-section-number">20.12</span> Searching with regular expressions in a “text editor”</a></li>
  <li><a href="#matching-meta-characters" id="toc-matching-meta-characters" class="nav-link" data-scroll-target="#matching-meta-characters"><span class="header-section-number">20.13</span> Matching meta-characters</a>
  <ul class="collapse">
  <li><a href="#reminder-of-how-backslashes-are-used-in-r" id="toc-reminder-of-how-backslashes-are-used-in-r" class="nav-link" data-scroll-target="#reminder-of-how-backslashes-are-used-in-r"><span class="header-section-number">20.13.1</span> Reminder of how backslashes () are used in R</a></li>
  <li><a href="#to-search-for-an-actual-backslash-you-must-use-4-backslashes-in-the-pattern" id="toc-to-search-for-an-actual-backslash-you-must-use-4-backslashes-in-the-pattern" class="nav-link" data-scroll-target="#to-search-for-an-actual-backslash-you-must-use-4-backslashes-in-the-pattern"><span class="header-section-number">20.13.2</span> To search for an actual backslash you must use 4 backslashes in the pattern</a></li>
  </ul></li>
  <li><a href="#matching-quotes" id="toc-matching-quotes" class="nav-link" data-scroll-target="#matching-quotes"><span class="header-section-number">20.14</span> Matching QUOTES</a></li>
  <li><a href="#different-flavors-or-dialects-of-regular-expressions." id="toc-different-flavors-or-dialects-of-regular-expressions." class="nav-link" data-scroll-target="#different-flavors-or-dialects-of-regular-expressions."><span class="header-section-number">20.15</span> Different “flavors” or “dialects” of regular expressions.</a>
  <ul class="collapse">
  <li><a href="#digit-vs-d---different-shorthand-notations-for-character-classes" id="toc-digit-vs-d---different-shorthand-notations-for-character-classes" class="nav-link" data-scroll-target="#digit-vs-d---different-shorthand-notations-for-character-classes"><span class="header-section-number">20.15.1</span> [[:digit:]] vs \d - different shorthand notations for character classes</a></li>
  <li><a href="#practice-1" id="toc-practice-1" class="nav-link" data-scroll-target="#practice-1"><span class="header-section-number">20.15.2</span> — practice —</a></li>
  </ul></li>
  <li><a href="#word-boundries" id="toc-word-boundries" class="nav-link" data-scroll-target="#word-boundries"><span class="header-section-number">20.16</span> WORD BOUNDRIES: ::</a></li>
  <li><a href="#pattern1pattern2-matches-pattern1-or-pattern2" id="toc-pattern1pattern2-matches-pattern1-or-pattern2" class="nav-link" data-scroll-target="#pattern1pattern2-matches-pattern1-or-pattern2"><span class="header-section-number">20.17</span> “pattern1|pattern2” matches pattern1 OR pattern2</a></li>
  <li><a href="#breaking-up-long-patterns-with-paste0" id="toc-breaking-up-long-patterns-with-paste0" class="nav-link" data-scroll-target="#breaking-up-long-patterns-with-paste0"><span class="header-section-number">20.18</span> breaking up long patterns with paste0</a>
  <ul class="collapse">
  <li><a href="#example" id="toc-example" class="nav-link" data-scroll-target="#example"><span class="header-section-number">20.18.1</span> example</a></li>
  <li><a href="#example-1" id="toc-example-1" class="nav-link" data-scroll-target="#example-1"><span class="header-section-number">20.18.2</span> example</a></li>
  <li><a href="#example-2" id="toc-example-2" class="nav-link" data-scroll-target="#example-2"><span class="header-section-number">20.18.3</span> example</a></li>
  <li><a href="#example-3" id="toc-example-3" class="nav-link" data-scroll-target="#example-3"><span class="header-section-number">20.18.4</span> example</a></li>
  <li><a href="#example-4" id="toc-example-4" class="nav-link" data-scroll-target="#example-4"><span class="header-section-number">20.18.5</span> example</a></li>
  </ul></li>
  <li><a href="#quantifiers-nm-n-n" id="toc-quantifiers-nm-n-n" class="nav-link" data-scroll-target="#quantifiers-nm-n-n"><span class="header-section-number">20.19</span> Quantifiers: {n,m} {n} {n,} + * ?</a>
  <ul class="collapse">
  <li><a href="#quantifiers-with-curly-braces-eg.-3-25-3" id="toc-quantifiers-with-curly-braces-eg.-3-25-3" class="nav-link" data-scroll-target="#quantifiers-with-curly-braces-eg.-3-25-3"><span class="header-section-number">20.19.1</span> Quantifiers with {curly braces} eg. {3} {2,5} {3,}</a></li>
  </ul></li>
  <li><a href="#quantifiers-with-and" id="toc-quantifiers-with-and" class="nav-link" data-scroll-target="#quantifiers-with-and"><span class="header-section-number">20.20</span> Quantifiers with * + and ?</a></li>
  <li><a href="#gsub-works-with-patterns" id="toc-gsub-works-with-patterns" class="nav-link" data-scroll-target="#gsub-works-with-patterns"><span class="header-section-number">20.21</span> gsub works with patterns</a></li>
  <li><a href="#backreferences-1-2-etc" id="toc-backreferences-1-2-etc" class="nav-link" data-scroll-target="#backreferences-1-2-etc"><span class="header-section-number">20.22</span> backreferences \1 \2 etc</a></li>
  <li><a href="#greedy-vs-non-greedy-quantifiers" id="toc-greedy-vs-non-greedy-quantifiers" class="nav-link" data-scroll-target="#greedy-vs-non-greedy-quantifiers"><span class="header-section-number">20.23</span> “greedy” vs “non-greedy” quantifiers</a>
  <ul class="collapse">
  <li><a href="#examples-2" id="toc-examples-2" class="nav-link" data-scroll-target="#examples-2"><span class="header-section-number">20.23.1</span> examples</a></li>
  </ul></li>
  <li><a href="#the-complete-list-of-quantifiers" id="toc-the-complete-list-of-quantifiers" class="nav-link" data-scroll-target="#the-complete-list-of-quantifiers"><span class="header-section-number">20.24</span> The complete list of quantifiers</a>
  <ul class="collapse">
  <li><a href="#examples-3" id="toc-examples-3" class="nav-link" data-scroll-target="#examples-3"><span class="header-section-number">20.24.1</span> examples</a></li>
  </ul></li>
  <li><a href="#challenges" id="toc-challenges" class="nav-link" data-scroll-target="#challenges"><span class="header-section-number">20.25</span> Challenges</a></li>
  <li><a href="#more-practice-with-regex---see-the-following-websites" id="toc-more-practice-with-regex---see-the-following-websites" class="nav-link" data-scroll-target="#more-practice-with-regex---see-the-following-websites"><span class="header-section-number">20.26</span> More practice with regex - see the following websites</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./0200200-introToRegularExpressions-v036.html">Regular Expressions</a></li><li class="breadcrumb-item"><a href="./0200200-introToRegularExpressions-v036.html"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">regular expressions (regex)</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">regular expressions (regex)</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list=</span><span class="fu">ls</span>())</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">#@ Intro to Regular Expressions (Also Known As "regex") ####</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">#@ - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">#@ Regular expressions are used to slice and dice character (i.e. textual)</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co">#@ data in a variety of ways. There are many different features. The best </span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">#@ way to understand is just to dive right in.</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Relevant help pages</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># ?regex     ####</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># ?grep      ####</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># ?strsplit  ####</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Also, see this tutorial for more info:</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   https://ryanstutorials.net/regular-expressions-tutorial/  ####</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="data-for-examples" class="level2" data-number="20.1">
<h2 data-number="20.1" class="anchored" data-anchor-id="data-for-examples"><span class="header-section-number">20.1</span> Data for examples</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># SAMPLE DATA ####</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Before we start, let's define some data to be used with examples in this file.</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># (</span><span class="al">NOTE</span><span class="co">: I made up N. American apple and S. Korean Fig </span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">#        so that I can use them in some examples.)</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>fruit <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"apple"</span>, <span class="st">"N. American apple"</span>, <span class="st">"S. Korean Fig"</span>, <span class="st">"fig"</span>, </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>          <span class="st">"star fruit"</span>, <span class="st">"pear"</span>, <span class="st">"prickly pear"</span>, </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Beurre Hardy pear"</span>, <span class="st">"cherry"</span>, <span class="st">"black cherry"</span>, <span class="st">"peach"</span>, <span class="st">"plum"</span>,</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>          <span class="st">"kumquat"</span>, <span class="st">"banana"</span>, <span class="st">"blueberry"</span>, <span class="st">"strawberry"</span>, <span class="st">"honeydew"</span>, </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>          <span class="st">"strawberries"</span>, <span class="st">"yumberry"</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>fruit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "apple"             "N. American apple" "S. Korean Fig"    
 [4] "fig"               "star fruit"        "pear"             
 [7] "prickly pear"      "Beurre Hardy pear" "cherry"           
[10] "black cherry"      "peach"             "plum"             
[13] "kumquat"           "banana"            "blueberry"        
[16] "strawberry"        "honeydew"          "strawberries"     
[19] "yumberry"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>addresses <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"12345 Sesame Street"</span>, </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>              <span class="st">"One Micro$oft Way"</span>,                 <span class="co"># notice the $ sign</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>              <span class="st">"3 Olive St."</span>, </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Two 1st Ave."</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>              <span class="st">"5678 Park Place"</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Forty Five 2nd Street"</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Ninety Nine Cone St. apartment 7"</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>              <span class="st">"9 Main St. apt. 623"</span>, </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Five Google Drive"</span>, </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>              <span class="st">"4</span><span class="sc">\\</span><span class="st">2 Rechov Yafo"</span>,                   <span class="co"># note the backslash (\)</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Fifteen Watchamacallit Boulevard"</span>,   <span class="co"># some long words</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Nineteen Watchamacallit Boulevard"</span>,  <span class="co"># some longer words</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>              <span class="st">"One Main Street Apt 12b"</span>,</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Two Main Street Apt 123c"</span>,</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Three Main Street Apt 12343"</span>,</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>              <span class="st">"City Hall Lockport, NY"</span>)</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>addresses</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"               "One Micro$oft Way"                
 [3] "3 Olive St."                       "Two 1st Ave."                     
 [5] "5678 Park Place"                   "Forty Five 2nd Street"            
 [7] "Ninety Nine Cone St. apartment 7"  "9 Main St. apt. 623"              
 [9] "Five Google Drive"                 "4\\2 Rechov Yafo"                 
[11] "Fifteen Watchamacallit Boulevard"  "Nineteen Watchamacallit Boulevard"
[13] "One Main Street Apt 12b"           "Two Main Street Apt 123c"         
[15] "Three Main Street Apt 12343"       "City Hall Lockport, NY"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># show each address, one per line</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(addresses, <span class="at">sep=</span><span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>12345 Sesame Street
One Micro$oft Way
3 Olive St.
Two 1st Ave.
5678 Park Place
Forty Five 2nd Street
Ninety Nine Cone St. apartment 7
9 Main St. apt. 623
Five Google Drive
4\2 Rechov Yafo
Fifteen Watchamacallit Boulevard
Nineteen Watchamacallit Boulevard
One Main Street Apt 12b
Two Main Street Apt 123c
Three Main Street Apt 12343
City Hall Lockport, NY</code></pre>
</div>
</div>
<section id="stringr-package" class="level3" data-number="20.1.1">
<h3 data-number="20.1.1" class="anchored" data-anchor-id="stringr-package"><span class="header-section-number">20.1.1</span> stringr package</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#-------------------------------------------------------------------------.</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co"> - most of the examples in this file were created using the data above.</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># The stringr package also contains some data that can be used to experiment</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># with these functions. </span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#-------------------------------------------------------------------------.</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(stringr)){<span class="fu">install.packages</span>(<span class="st">"stringr"</span>);<span class="fu">require</span>(stringr)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: stringr</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'stringr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked _by_ '.GlobalEnv':

    fruit</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>stringr<span class="sc">::</span>words</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] "a"           "able"        "about"       "absolute"    "accept"     
  [6] "account"     "achieve"     "across"      "act"         "active"     
 [11] "actual"      "add"         "address"     "admit"       "advertise"  
 [16] "affect"      "afford"      "after"       "afternoon"   "again"      
 [21] "against"     "age"         "agent"       "ago"         "agree"      
 [26] "air"         "all"         "allow"       "almost"      "along"      
 [31] "already"     "alright"     "also"        "although"    "always"     
 [36] "america"     "amount"      "and"         "another"     "answer"     
 [41] "any"         "apart"       "apparent"    "appear"      "apply"      
 [46] "appoint"     "approach"    "appropriate" "area"        "argue"      
 [51] "arm"         "around"      "arrange"     "art"         "as"         
 [56] "ask"         "associate"   "assume"      "at"          "attend"     
 [61] "authority"   "available"   "aware"       "away"        "awful"      
 [66] "baby"        "back"        "bad"         "bag"         "balance"    
 [71] "ball"        "bank"        "bar"         "base"        "basis"      
 [76] "be"          "bear"        "beat"        "beauty"      "because"    
 [81] "become"      "bed"         "before"      "begin"       "behind"     
 [86] "believe"     "benefit"     "best"        "bet"         "between"    
 [91] "big"         "bill"        "birth"       "bit"         "black"      
 [96] "bloke"       "blood"       "blow"        "blue"        "board"      
[101] "boat"        "body"        "book"        "both"        "bother"     
[106] "bottle"      "bottom"      "box"         "boy"         "break"      
[111] "brief"       "brilliant"   "bring"       "britain"     "brother"    
[116] "budget"      "build"       "bus"         "business"    "busy"       
[121] "but"         "buy"         "by"          "cake"        "call"       
[126] "can"         "car"         "card"        "care"        "carry"      
[131] "case"        "cat"         "catch"       "cause"       "cent"       
[136] "centre"      "certain"     "chair"       "chairman"    "chance"     
[141] "change"      "chap"        "character"   "charge"      "cheap"      
[146] "check"       "child"       "choice"      "choose"      "Christ"     
[151] "Christmas"   "church"      "city"        "claim"       "class"      
[156] "clean"       "clear"       "client"      "clock"       "close"      
[161] "closes"      "clothe"      "club"        "coffee"      "cold"       
[166] "colleague"   "collect"     "college"     "colour"      "come"       
[171] "comment"     "commit"      "committee"   "common"      "community"  
[176] "company"     "compare"     "complete"    "compute"     "concern"    
[181] "condition"   "confer"      "consider"    "consult"     "contact"    
[186] "continue"    "contract"    "control"     "converse"    "cook"       
[191] "copy"        "corner"      "correct"     "cost"        "could"      
[196] "council"     "count"       "country"     "county"      "couple"     
[201] "course"      "court"       "cover"       "create"      "cross"      
[206] "cup"         "current"     "cut"         "dad"         "danger"     
[211] "date"        "day"         "dead"        "deal"        "dear"       
[216] "debate"      "decide"      "decision"    "deep"        "definite"   
[221] "degree"      "department"  "depend"      "describe"    "design"     
[226] "detail"      "develop"     "die"         "difference"  "difficult"  
[231] "dinner"      "direct"      "discuss"     "district"    "divide"     
[236] "do"          "doctor"      "document"    "dog"         "door"       
[241] "double"      "doubt"       "down"        "draw"        "dress"      
[246] "drink"       "drive"       "drop"        "dry"         "due"        
[251] "during"      "each"        "early"       "east"        "easy"       
[256] "eat"         "economy"     "educate"     "effect"      "egg"        
[261] "eight"       "either"      "elect"       "electric"    "eleven"     
[266] "else"        "employ"      "encourage"   "end"         "engine"     
[271] "english"     "enjoy"       "enough"      "enter"       "environment"
[276] "equal"       "especial"    "europe"      "even"        "evening"    
[281] "ever"        "every"       "evidence"    "exact"       "example"    
[286] "except"      "excuse"      "exercise"    "exist"       "expect"     
[291] "expense"     "experience"  "explain"     "express"     "extra"      
[296] "eye"         "face"        "fact"        "fair"        "fall"       
[301] "family"      "far"         "farm"        "fast"        "father"     
[306] "favour"      "feed"        "feel"        "few"         "field"      
[311] "fight"       "figure"      "file"        "fill"        "film"       
[316] "final"       "finance"     "find"        "fine"        "finish"     
[321] "fire"        "first"       "fish"        "fit"         "five"       
[326] "flat"        "floor"       "fly"         "follow"      "food"       
[331] "foot"        "for"         "force"       "forget"      "form"       
[336] "fortune"     "forward"     "four"        "france"      "free"       
[341] "friday"      "friend"      "from"        "front"       "full"       
[346] "fun"         "function"    "fund"        "further"     "future"     
[351] "game"        "garden"      "gas"         "general"     "germany"    
[356] "get"         "girl"        "give"        "glass"       "go"         
[361] "god"         "good"        "goodbye"     "govern"      "grand"      
[366] "grant"       "great"       "green"       "ground"      "group"      
[371] "grow"        "guess"       "guy"         "hair"        "half"       
[376] "hall"        "hand"        "hang"        "happen"      "happy"      
[381] "hard"        "hate"        "have"        "he"          "head"       
[386] "health"      "hear"        "heart"       "heat"        "heavy"      
[391] "hell"        "help"        "here"        "high"        "history"    
[396] "hit"         "hold"        "holiday"     "home"        "honest"     
[401] "hope"        "horse"       "hospital"    "hot"         "hour"       
[406] "house"       "how"         "however"     "hullo"       "hundred"    
[411] "husband"     "idea"        "identify"    "if"          "imagine"    
[416] "important"   "improve"     "in"          "include"     "income"     
[421] "increase"    "indeed"      "individual"  "industry"    "inform"     
[426] "inside"      "instead"     "insure"      "interest"    "into"       
[431] "introduce"   "invest"      "involve"     "issue"       "it"         
[436] "item"        "jesus"       "job"         "join"        "judge"      
[441] "jump"        "just"        "keep"        "key"         "kid"        
[446] "kill"        "kind"        "king"        "kitchen"     "knock"      
[451] "know"        "labour"      "lad"         "lady"        "land"       
[456] "language"    "large"       "last"        "late"        "laugh"      
[461] "law"         "lay"         "lead"        "learn"       "leave"      
[466] "left"        "leg"         "less"        "let"         "letter"     
[471] "level"       "lie"         "life"        "light"       "like"       
[476] "likely"      "limit"       "line"        "link"        "list"       
[481] "listen"      "little"      "live"        "load"        "local"      
[486] "lock"        "london"      "long"        "look"        "lord"       
[491] "lose"        "lot"         "love"        "low"         "luck"       
[496] "lunch"       "machine"     "main"        "major"       "make"       
[501] "man"         "manage"      "many"        "mark"        "market"     
[506] "marry"       "match"       "matter"      "may"         "maybe"      
[511] "mean"        "meaning"     "measure"     "meet"        "member"     
[516] "mention"     "middle"      "might"       "mile"        "milk"       
[521] "million"     "mind"        "minister"    "minus"       "minute"     
[526] "miss"        "mister"      "moment"      "monday"      "money"      
[531] "month"       "more"        "morning"     "most"        "mother"     
[536] "motion"      "move"        "mrs"         "much"        "music"      
[541] "must"        "name"        "nation"      "nature"      "near"       
[546] "necessary"   "need"        "never"       "new"         "news"       
[551] "next"        "nice"        "night"       "nine"        "no"         
[556] "non"         "none"        "normal"      "north"       "not"        
[561] "note"        "notice"      "now"         "number"      "obvious"    
[566] "occasion"    "odd"         "of"          "off"         "offer"      
[571] "office"      "often"       "okay"        "old"         "on"         
[576] "once"        "one"         "only"        "open"        "operate"    
[581] "opportunity" "oppose"      "or"          "order"       "organize"   
[586] "original"    "other"       "otherwise"   "ought"       "out"        
[591] "over"        "own"         "pack"        "page"        "paint"      
[596] "pair"        "paper"       "paragraph"   "pardon"      "parent"     
[601] "park"        "part"        "particular"  "party"       "pass"       
[606] "past"        "pay"         "pence"       "pension"     "people"     
[611] "per"         "percent"     "perfect"     "perhaps"     "period"     
[616] "person"      "photograph"  "pick"        "picture"     "piece"      
[621] "place"       "plan"        "play"        "please"      "plus"       
[626] "point"       "police"      "policy"      "politic"     "poor"       
[631] "position"    "positive"    "possible"    "post"        "pound"      
[636] "power"       "practise"    "prepare"     "present"     "press"      
[641] "pressure"    "presume"     "pretty"      "previous"    "price"      
[646] "print"       "private"     "probable"    "problem"     "proceed"    
[651] "process"     "produce"     "product"     "programme"   "project"    
[656] "proper"      "propose"     "protect"     "provide"     "public"     
[661] "pull"        "purpose"     "push"        "put"         "quality"    
[666] "quarter"     "question"    "quick"       "quid"        "quiet"      
[671] "quite"       "radio"       "rail"        "raise"       "range"      
[676] "rate"        "rather"      "read"        "ready"       "real"       
[681] "realise"     "really"      "reason"      "receive"     "recent"     
[686] "reckon"      "recognize"   "recommend"   "record"      "red"        
[691] "reduce"      "refer"       "regard"      "region"      "relation"   
[696] "remember"    "report"      "represent"   "require"     "research"   
[701] "resource"    "respect"     "responsible" "rest"        "result"     
[706] "return"      "rid"         "right"       "ring"        "rise"       
[711] "road"        "role"        "roll"        "room"        "round"      
[716] "rule"        "run"         "safe"        "sale"        "same"       
[721] "saturday"    "save"        "say"         "scheme"      "school"     
[726] "science"     "score"       "scotland"    "seat"        "second"     
[731] "secretary"   "section"     "secure"      "see"         "seem"       
[736] "self"        "sell"        "send"        "sense"       "separate"   
[741] "serious"     "serve"       "service"     "set"         "settle"     
[746] "seven"       "sex"         "shall"       "share"       "she"        
[751] "sheet"       "shoe"        "shoot"       "shop"        "short"      
[756] "should"      "show"        "shut"        "sick"        "side"       
[761] "sign"        "similar"     "simple"      "since"       "sing"       
[766] "single"      "sir"         "sister"      "sit"         "site"       
[771] "situate"     "six"         "size"        "sleep"       "slight"     
[776] "slow"        "small"       "smoke"       "so"          "social"     
[781] "society"     "some"        "son"         "soon"        "sorry"      
[786] "sort"        "sound"       "south"       "space"       "speak"      
[791] "special"     "specific"    "speed"       "spell"       "spend"      
[796] "square"      "staff"       "stage"       "stairs"      "stand"      
[801] "standard"    "start"       "state"       "station"     "stay"       
[806] "step"        "stick"       "still"       "stop"        "story"      
[811] "straight"    "strategy"    "street"      "strike"      "strong"     
[816] "structure"   "student"     "study"       "stuff"       "stupid"     
[821] "subject"     "succeed"     "such"        "sudden"      "suggest"    
[826] "suit"        "summer"      "sun"         "sunday"      "supply"     
[831] "support"     "suppose"     "sure"        "surprise"    "switch"     
[836] "system"      "table"       "take"        "talk"        "tape"       
[841] "tax"         "tea"         "teach"       "team"        "telephone"  
[846] "television"  "tell"        "ten"         "tend"        "term"       
[851] "terrible"    "test"        "than"        "thank"       "the"        
[856] "then"        "there"       "therefore"   "they"        "thing"      
[861] "think"       "thirteen"    "thirty"      "this"        "thou"       
[866] "though"      "thousand"    "three"       "through"     "throw"      
[871] "thursday"    "tie"         "time"        "to"          "today"      
[876] "together"    "tomorrow"    "tonight"     "too"         "top"        
[881] "total"       "touch"       "toward"      "town"        "trade"      
[886] "traffic"     "train"       "transport"   "travel"      "treat"      
[891] "tree"        "trouble"     "true"        "trust"       "try"        
[896] "tuesday"     "turn"        "twelve"      "twenty"      "two"        
[901] "type"        "under"       "understand"  "union"       "unit"       
[906] "unite"       "university"  "unless"      "until"       "up"         
[911] "upon"        "use"         "usual"       "value"       "various"    
[916] "very"        "video"       "view"        "village"     "visit"      
[921] "vote"        "wage"        "wait"        "walk"        "wall"       
[926] "want"        "war"         "warm"        "wash"        "waste"      
[931] "watch"       "water"       "way"         "we"          "wear"       
[936] "wednesday"   "wee"         "week"        "weigh"       "welcome"    
[941] "well"        "west"        "what"        "when"        "where"      
[946] "whether"     "which"       "while"       "white"       "who"        
[951] "whole"       "why"         "wide"        "wife"        "will"       
[956] "win"         "wind"        "window"      "wish"        "with"       
[961] "within"      "without"     "woman"       "wonder"      "wood"       
[966] "word"        "work"        "world"       "worry"       "worse"      
[971] "worth"       "would"       "write"       "wrong"       "year"       
[976] "yes"         "yesterday"   "yet"         "you"         "young"      </code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stringr<span class="sc">::</span>words, <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] "a"           "able"        "about"       "absolute"    "accept"     
  [6] "account"     "achieve"     "across"      "act"         "active"     
 [11] "actual"      "add"         "address"     "admit"       "advertise"  
 [16] "affect"      "afford"      "after"       "afternoon"   "again"      
 [21] "against"     "age"         "agent"       "ago"         "agree"      
 [26] "air"         "all"         "allow"       "almost"      "along"      
 [31] "already"     "alright"     "also"        "although"    "always"     
 [36] "america"     "amount"      "and"         "another"     "answer"     
 [41] "any"         "apart"       "apparent"    "appear"      "apply"      
 [46] "appoint"     "approach"    "appropriate" "area"        "argue"      
 [51] "arm"         "around"      "arrange"     "art"         "as"         
 [56] "ask"         "associate"   "assume"      "at"          "attend"     
 [61] "authority"   "available"   "aware"       "away"        "awful"      
 [66] "baby"        "back"        "bad"         "bag"         "balance"    
 [71] "ball"        "bank"        "bar"         "base"        "basis"      
 [76] "be"          "bear"        "beat"        "beauty"      "because"    
 [81] "become"      "bed"         "before"      "begin"       "behind"     
 [86] "believe"     "benefit"     "best"        "bet"         "between"    
 [91] "big"         "bill"        "birth"       "bit"         "black"      
 [96] "bloke"       "blood"       "blow"        "blue"        "board"      </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The stringr pacakge also includes many functions. For example one of </span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># those functions is str_length.</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># The str_length function is part of the stringr package.</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co"># To use it you must install stringr (or install tidyverse, which is a </span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co"># collection of packages one of which is stringr)</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="fu">str_length</span>(<span class="fu">c</span>(<span class="st">"abc"</span>, <span class="st">"hello"</span>, <span class="st">"I like ice cream!"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3  5 17</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This function is very similar to the</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co"># nchar function that is built into base R.</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(<span class="fu">c</span>(<span class="st">"abc"</span>, <span class="st">"hello"</span>, <span class="st">"I like ice cream!"</span>))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3  5 17</code></pre>
</div>
</div>
</section>
</section>
<section id="grep-function" class="level2" data-number="20.2">
<h2 data-number="20.2" class="anchored" data-anchor-id="grep-function"><span class="header-section-number">20.2</span> grep function</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show all words that</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># "start with a p, end with a y (with anything in the middle)"</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(stringr<span class="sc">::</span>words, <span class="at">pattern=</span><span class="st">"^p.*y$"</span>, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "party"  "pay"    "play"   "policy" "pretty"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Starts with a p, ends with a y, nothing in the middle.</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Only matches "py". </span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># There are no words that match.</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(stringr<span class="sc">::</span>words, <span class="at">pattern=</span><span class="st">"^py$"</span>, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>character(0)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># match any word that start with p, ends with y and has a single</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co"># character between them</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(stringr<span class="sc">::</span>words, <span class="at">pattern=</span><span class="st">"^p.y$"</span>, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "pay"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># match any word that start with p, ends with y and</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co"># has exactly two characters between them.</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(stringr<span class="sc">::</span>words, <span class="at">pattern=</span><span class="st">"^p..y$"</span>, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "play"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># match any word that start with p, ends with y and</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="co"># has exactly four characters between them.</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(stringr<span class="sc">::</span>words, <span class="at">pattern=</span><span class="st">"^p....y$"</span>, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "policy" "pretty"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># match any sequence of characters between the p and the y</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(stringr<span class="sc">::</span>words, <span class="at">pattern=</span><span class="st">"^p.*y$"</span>, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "party"  "pay"    "play"   "policy" "pretty"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># starts with a p</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(stringr<span class="sc">::</span>words, <span class="at">pattern=</span><span class="st">"^p"</span>, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "pack"       "page"       "paint"      "pair"       "paper"     
 [6] "paragraph"  "pardon"     "parent"     "park"       "part"      
[11] "particular" "party"      "pass"       "past"       "pay"       
[16] "pence"      "pension"    "people"     "per"        "percent"   
[21] "perfect"    "perhaps"    "period"     "person"     "photograph"
[26] "pick"       "picture"    "piece"      "place"      "plan"      
[31] "play"       "please"     "plus"       "point"      "police"    
[36] "policy"     "politic"    "poor"       "position"   "positive"  
[41] "possible"   "post"       "pound"      "power"      "practise"  
[46] "prepare"    "present"    "press"      "pressure"   "presume"   
[51] "pretty"     "previous"   "price"      "print"      "private"   
[56] "probable"   "problem"    "proceed"    "process"    "produce"   
[61] "product"    "programme"  "project"    "proper"     "propose"   
[66] "protect"    "provide"    "public"     "pull"       "purpose"   
[71] "push"       "put"       </code></pre>
</div>
</div>
</section>
<section id="grep-and-grepl" class="level2" data-number="20.3">
<h2 data-number="20.3" class="anchored" data-anchor-id="grep-and-grepl"><span class="header-section-number">20.3</span> grep and grepl</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># When value=FALSE grep returns the positions in the vector of </span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co"># values that matched</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(stringr<span class="sc">::</span>words, <span class="at">pattern=</span><span class="st">"^p.*y$"</span>, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "party"  "pay"    "play"   "policy" "pretty"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(stringr<span class="sc">::</span>words, <span class="at">pattern=</span><span class="st">"^p.*y$"</span>, <span class="at">value=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 604 607 623 628 643</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># default is value=FALSE</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(stringr<span class="sc">::</span>words, <span class="at">pattern=</span><span class="st">"^p.*y$"</span>, <span class="at">value=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 604 607 623 628 643</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co">#@ grep and grepl</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co">#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="co">#@ grep stands for "Globally search for a Regular Expression and Print the result"</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co">#@</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="co">#@ Grep will search through the entries in a character vector and display those</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="co">#@ entries that match a specified pattern (see examples below). These patterns</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co">#@ are known as regular expressions or "regex".</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="co">#@</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="co">#@ The history of grep started with a a command that was used on the Unix operating</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="co">#@ system. It has been adapted for use with many programming environments. R has</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a><span class="co">#@ its own version.</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a><span class="co">#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a><span class="co"># grep ####</span></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a><span class="co"># grep returns character values or the indexes (i.e. position numbers) </span></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all fruit whose name contains the letter "h"</span></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="at">pattern=</span><span class="st">"h"</span>, <span class="at">x=</span>fruit, <span class="at">value=</span><span class="cn">TRUE</span>)   <span class="co"># value=TRUE, show the acutal values that match the pattern </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "cherry"       "black cherry" "peach"        "honeydew"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="at">pattern=</span><span class="st">"h"</span>, <span class="at">x=</span>fruit, <span class="at">value=</span><span class="cn">FALSE</span>)  <span class="co"># value=FALSE, show the index (ie. position) of the values that match </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  9 10 11 17</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># grepl ####</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="co"># grepl returns logical values (i.e. TRUE/FALSE vectors)</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="fu">grepl</span>(<span class="at">pattern=</span><span class="st">"h"</span>, <span class="at">x=</span>fruit)    <span class="co"># find which values include an "h"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE FALSE
[13] FALSE FALSE FALSE FALSE  TRUE FALSE FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary: 3 ways to use grep or grepl</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="co"># - grep ( regexPattern , value=TRUE)  # returns the actual values that match  </span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="co"># - grep ( regexPattern , value=FALSE) # returns the index numbers of the values that match  </span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co"># - grepl ( regexPattern )              # returns a logical vector that indicate which values match  </span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a><span class="co"># For now, let's focus on grep(... , value=TRUE) as it is easier to understand the results. </span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a><span class="co"># The pattern is searched for in the entire entry ####</span></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a><span class="co"># The pattern is considered "matched" if it appears anywhere in the data value.</span></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a><span class="co"># For example:   grep("h", fruit)</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a><span class="co"># returns all fruit that contain an "h", no matter whether the h is at the </span></span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a><span class="co"># beginning, end or middle of the word.</span></span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a><span class="co"># You can change this behavior with the ^ and $ metacharacters (see below)</span></span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-26"><a href="#cb46-26" aria-hidden="true" tabindex="-1"></a><span class="co"># spaces in regex patterns are meaningful ####</span></span>
<span id="cb46-27"><a href="#cb46-27" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb46-28"><a href="#cb46-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Spaces are NOT ignored. Spaces count as part of the pattern </span></span>
<span id="cb46-29"><a href="#cb46-29" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb46-30"><a href="#cb46-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-31"><a href="#cb46-31" aria-hidden="true" tabindex="-1"></a><span class="co"># fruits that contain a space</span></span>
<span id="cb46-32"><a href="#cb46-32" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="at">pattern=</span><span class="st">" "</span>, <span class="at">x=</span>fruit, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># all fruit that contain a space</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "N. American apple" "S. Korean Fig"     "star fruit"       
[4] "prickly pear"      "Beurre Hardy pear" "black cherry"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># serach for "k"  (i.e. JUST a "k")</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"k"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># "prickly pear"  "black cherry"  "kumquat"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "prickly pear" "black cherry" "kumquat"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"ck"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># "prickly pear"  "black cherry"  "kumquat"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "prickly pear" "black cherry"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># search for "k "  (i.e. k followed by a space)</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"k "</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># "black cherry"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "black cherry"</code></pre>
</div>
</div>
</section>
<section id="regex-patterns-do-not-understand-numbers" class="level2" data-number="20.4">
<h2 data-number="20.4" class="anchored" data-anchor-id="regex-patterns-do-not-understand-numbers"><span class="header-section-number">20.4</span> regex patterns do NOT understand “numbers”</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># regex patterns do NOT understand "numbers" ####</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Digits are NOT treated as numbers. They are treated the same as any</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="co"># other character. Therefore grep("12", SOME_VECTOR) will match any value</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="co"># that contains a 1 followed by a 2, including "123" and "34321234".</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>addresses <span class="co"># show all the addresses</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"               "One Micro$oft Way"                
 [3] "3 Olive St."                       "Two 1st Ave."                     
 [5] "5678 Park Place"                   "Forty Five 2nd Street"            
 [7] "Ninety Nine Cone St. apartment 7"  "9 Main St. apt. 623"              
 [9] "Five Google Drive"                 "4\\2 Rechov Yafo"                 
[11] "Fifteen Watchamacallit Boulevard"  "Nineteen Watchamacallit Boulevard"
[13] "One Main Street Apt 12b"           "Two Main Street Apt 123c"         
[15] "Three Main Street Apt 12343"       "City Hall Lockport, NY"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"23"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># matches anything that contains 23</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "12345 Sesame Street"         "9 Main St. apt. 623"        
[3] "Two Main Street Apt 123c"    "Three Main Street Apt 12343"</code></pre>
</div>
</div>
</section>
<section id="case-sensitivity" class="level2" data-number="20.5">
<h2 data-number="20.5" class="anchored" data-anchor-id="case-sensitivity"><span class="header-section-number">20.5</span> case sensitivity</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Regular expressions (in R) are case sensitive by default ####</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="co"># By default, R's version of grep is case sensitive.</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="co"># There are a few different approaches for searching case-INsensitively ####.</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="co">#- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="co"># The first way - use ignore.case = TRUE</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a><span class="co">#- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"H"</span>,fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># contains a capital "H"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Beurre Hardy pear"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"h"</span>,fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># contains a lowercase "h"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "cherry"       "black cherry" "peach"        "honeydew"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"h"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>, <span class="at">ignore.case=</span><span class="cn">TRUE</span>) <span class="co"># contains AnY h</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Beurre Hardy pear" "cherry"            "black cherry"     
[4] "peach"             "honeydew"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"H"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>, <span class="at">ignore.case=</span><span class="cn">TRUE</span>) <span class="co"># same thing</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Beurre Hardy pear" "cherry"            "black cherry"     
[4] "peach"             "honeydew"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co">#- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Another way to search for for both CAPITAL and lowercase characters, e.g. [Hh]</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="co"># For example, [hH] indicates that h or H is valid to be matched. </span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="co"># We will describe the exact meaning of the [square brackets] in a lot more </span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="co"># detail below.</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="co">#- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[hH]"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Beurre Hardy pear" "cherry"            "black cherry"     
[4] "peach"             "honeydew"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co">#- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="co"># another way using R's toupper or tolower functions.</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="co">#- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>msg <span class="ot">=</span> <span class="st">"She said 'Hello' to Joe."</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>msg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "She said 'Hello' to Joe."</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">toupper</span>(msg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "SHE SAID 'HELLO' TO JOE."</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tolower</span>(msg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "she said 'hello' to joe."</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"h"</span>, <span class="fu">tolower</span>(fruit), <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "beurre hardy pear" "cherry"            "black cherry"     
[4] "peach"             "honeydew"         </code></pre>
</div>
</div>
</section>
<section id="str_view-from-the-stringr-package" class="level2" data-number="20.6">
<h2 data-number="20.6" class="anchored" data-anchor-id="str_view-from-the-stringr-package"><span class="header-section-number">20.6</span> str_view from the stringr package</h2>
<p>The str_view function from the stringr package can be very helpful when you’re trying to understand a regular expression. str_view shows exactly what parts of a string match the pattern. See the example below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># str_view is part of the stringr package</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>greetings <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"hi there"</span>, <span class="st">"yo dude"</span>, <span class="st">"shalom"</span>, <span class="st">"bon jour"</span>)</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(greetings, <span class="at">sep=</span><span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>hi there
yo dude
shalom
bon jour</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># match the letter h in each greeting</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(greetings, <span class="st">"h"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ &lt;h&gt;i t&lt;h&gt;ere
[3] │ s&lt;h&gt;alom</code></pre>
</div>
</div>
</section>
<section id="sub-and-gsub-functions" class="level2" data-number="20.7">
<h2 data-number="20.7" class="anchored" data-anchor-id="sub-and-gsub-functions"><span class="header-section-number">20.7</span> sub and gsub functions</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co">#@ sub and gsub functions ####</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="co">#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="co">#@</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="co">#@ sub (SOME_REGEX_PATTERN, REPLACMENT, SOME_VECTOR)</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="co">#@    sub returns a new vector. The return value is the same as SOME_VECTOR</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a><span class="co">#@    except that the FIRST match of the pattern in each entry of SOME_VECTOR</span></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a><span class="co">#@    is replaced with REPLACEMENT - see the examples below.</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a><span class="co">#@</span></span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a><span class="co">#@ gsub (SOME_REGEX_PATTERN, REPLACMENT, SOME_VECTOR)</span></span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a><span class="co">#@    same as sub but ALL matches of the pattern are replaced (not just the</span></span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a><span class="co">#@    first in each entry of the the vector - see the exmaples below</span></span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a><span class="co">#@</span></span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a><span class="co">#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-16"><a href="#cb80-16" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb80-17"><a href="#cb80-17" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb80-18"><a href="#cb80-18" aria-hidden="true" tabindex="-1"></a><span class="co"># replace the first letter "e" that appears in any fruit with the letter "X"</span></span>
<span id="cb80-19"><a href="#cb80-19" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb80-20"><a href="#cb80-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-21"><a href="#cb80-21" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb80-22"><a href="#cb80-22" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="at">pattern=</span><span class="st">"e"</span>, <span class="at">replacement=</span><span class="st">"X"</span>, <span class="at">x=</span>fruit)  <span class="co"># "applX"    "N. AmXrican apple"     etc</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "applX"             "N. AmXrican apple" "S. KorXan Fig"    
 [4] "fig"               "star fruit"        "pXar"             
 [7] "prickly pXar"      "BXurre Hardy pear" "chXrry"           
[10] "black chXrry"      "pXach"             "plum"             
[13] "kumquat"           "banana"            "bluXberry"        
[16] "strawbXrry"        "honXydew"          "strawbXrries"     
[19] "yumbXrry"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="co"># replace ALL of the "e"s that appears in any fruit with the letter "x"</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="at">pattern=</span><span class="st">"e"</span>, <span class="at">replacement=</span><span class="st">"X"</span>, fruit)   <span class="co"># "applX"    "N. AmXrican applX"     etc</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "applX"             "N. AmXrican applX" "S. KorXan Fig"    
 [4] "fig"               "star fruit"        "pXar"             
 [7] "prickly pXar"      "BXurrX Hardy pXar" "chXrry"           
[10] "black chXrry"      "pXach"             "plum"             
[13] "kumquat"           "banana"            "bluXbXrry"        
[16] "strawbXrry"        "honXydXw"          "strawbXrriXs"     
[19] "yumbXrry"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="co"># remove all spaces from the addresses</span></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="at">pattern=</span><span class="st">" "</span>, <span class="at">replacement=</span><span class="st">""</span>, addresses)   <span class="co"># "12345SesameStreet"   "OneMicro$oftWay"   etc.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345SesameStreet"               "OneMicro$oftWay"                
 [3] "3OliveSt."                       "Two1stAve."                     
 [5] "5678ParkPlace"                   "FortyFive2ndStreet"             
 [7] "NinetyNineConeSt.apartment7"     "9MainSt.apt.623"                
 [9] "FiveGoogleDrive"                 "4\\2RechovYafo"                 
[11] "FifteenWatchamacallitBoulevard"  "NineteenWatchamacallitBoulevard"
[13] "OneMainStreetApt12b"             "TwoMainStreetApt123c"           
[15] "ThreeMainStreetApt12343"         "CityHallLockport,NY"            </code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We will revisit sub and gsub later with more complex examples ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="strsplit-function" class="level2" data-number="20.8">
<h2 data-number="20.8" class="anchored" data-anchor-id="strsplit-function"><span class="header-section-number">20.8</span> strsplit function</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################.</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="co"># strsplit </span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="co"># strsplit is used to split a string based on a "delimeter" that appears</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a><span class="co"># between the different values. This "delimeter" can be a regular expression.</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a><span class="co"># We'll come back to strsplit later, but let's introduce it here.</span></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a><span class="do">##################################################################.</span></span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Example</span></span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a>sentences <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"He said hi. She said bye. We went to the park."</span>,</span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>              <span class="st">"I like ice cream! Do you? Sue likes pizza."</span>)</span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a>sentences</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "He said hi. She said bye. We went to the park."
[2] "I like ice cream! Do you? Sue likes pizza."    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION - </span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Use strsplit to split the values in the sentences vector by </span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="co"># splitting based on spaces. Assign the result to the varible "sentenceWords".</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Write code to get the 3rd "word" from the 1st entry in the sentences </span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a><span class="co"># vector.</span></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>?strsplit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>starting httpd help server ... done</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>sentenceWords <span class="ot">=</span> <span class="fu">strsplit</span>(sentences, <span class="at">split=</span><span class="st">" "</span>)</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>sentenceWords</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
 [1] "He"    "said"  "hi."   "She"   "said"  "bye."  "We"    "went"  "to"   
[10] "the"   "park."

[[2]]
[1] "I"      "like"   "ice"    "cream!" "Do"     "you?"   "Sue"    "likes" 
[9] "pizza."</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Notice that the result is a LIST:</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(sentenceWords)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 2
 $ : chr [1:11] "He" "said" "hi." "She" ...
 $ : chr [1:9] "I" "like" "ice" "cream!" ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the 3rd word in the 1st sentence</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>sentenceWords[[<span class="dv">1</span>]][<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hi."</code></pre>
</div>
</div>
<section id="practice" class="level3" data-number="20.8.1">
<h3 data-number="20.8.1" class="anchored" data-anchor-id="practice"><span class="header-section-number">20.8.1</span> — practice —</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION - split each entry in the sentences variable into individual </span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="co"># sententces. </span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">WARNING</span><span class="co"> - the value of the split argument is interpreted as a</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a><span class="co"># regular expression pattern. Be careful.</span></span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 1st attempt - doesn't work. </span></span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(sentences, <span class="st">"."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
 [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
[26] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""

[[2]]
 [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
[26] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""</code></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This doesn't work since the 2nd argument is a regular expression.</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The following will split based on periods.</span></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>sentences</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "He said hi. She said bye. We went to the park."
[2] "I like ice cream! Do you? Sue likes pizza."    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(sentences, <span class="st">"</span><span class="sc">\\</span><span class="st">."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "He said hi"           " She said bye"        " We went to the park"

[[2]]
[1] "I like ice cream! Do you? Sue likes pizza"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use a "regular expression" to instead split on any of a period, </span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="co"># question mark, or exclamation point.</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>sentences</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "He said hi. She said bye. We went to the park."
[2] "I like ice cream! Do you? Sue likes pizza."    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">strsplit</span>(sentences, <span class="st">"[.?!]"</span>)  <span class="co"># split on any one of .?!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "He said hi"           " She said bye"        " We went to the park"

[[2]]
[1] "I like ice cream" " Do you"          " Sue likes pizza"</code></pre>
</div>
</div>
</section>
</section>
<section id="anchors-and" class="level2" data-number="20.9">
<h2 data-number="20.9" class="anchored" data-anchor-id="anchors-and"><span class="header-section-number">20.9</span> “anchors” ^ and $</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ^ and $    ####</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Regular Expressions use special characters to control what is matched.</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a><span class="co"># These characters are called "meta-characters".</span></span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   ^  "matches" the start of the character value</span></span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   $  "matches" the end of the character value</span></span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   The [square brackets] described above are also "meta characters" in</span></span>
<span id="cb107-10"><a href="#cb107-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   regular expressions. (We will describe those in more detail next)</span></span>
<span id="cb107-11"><a href="#cb107-11" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb107-12"><a href="#cb107-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-13"><a href="#cb107-13" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="at">pattern=</span><span class="st">"^a"</span>, <span class="at">x=</span>fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># find fruits that START with an "a"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "apple"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"a$"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># find fruits that </span><span class="re">END</span><span class="co"> with an "a"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "banana"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Write a command using grep to display all the fruits that start with</span></span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="co"># with a c or an s. Make your search case insensitive.</span></span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb111-6"><a href="#cb111-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-7"><a href="#cb111-7" aria-hidden="true" tabindex="-1"></a><span class="co">#         ANSWERS ####</span></span>
<span id="cb111-8"><a href="#cb111-8" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^[csCS]"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "S. Korean Fig" "star fruit"    "cherry"        "strawberry"   
[5] "strawberries" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^[cs]"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "S. Korean Fig" "star fruit"    "cherry"        "strawberry"   
[5] "strawberries" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^[cs]"</span>, <span class="fu">tolower</span>(fruit), <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "s. korean fig" "star fruit"    "cherry"        "strawberry"   
[5] "strawberries" </code></pre>
</div>
</div>
</section>
<section id="periods" class="level2" data-number="20.10">
<h2 data-number="20.10" class="anchored" data-anchor-id="periods"><span class="header-section-number">20.10</span> periods</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># . (i.e. a period) ####</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a><span class="co"># a period (ie  .  ) "matches" any single character.</span></span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^.a"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># 2nd letter is a</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "banana"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^..a"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># 3rd letter is a</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "star fruit"   "pear"         "black cherry" "peach"       </code></pre>
</div>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"a.$"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># 2nd to last letter is an a</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "pear"              "prickly pear"      "Beurre Hardy pear"
[4] "kumquat"          </code></pre>
</div>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"...."</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># all fruit that are AT LEAST 4 characters long</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "apple"             "N. American apple" "S. Korean Fig"    
 [4] "star fruit"        "pear"              "prickly pear"     
 [7] "Beurre Hardy pear" "cherry"            "black cherry"     
[10] "peach"             "plum"              "kumquat"          
[13] "banana"            "blueberry"         "strawberry"       
[16] "honeydew"          "strawberries"      "yumberry"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^....$"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># all fruit that are EXACTLY 4 characters long</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "pear" "plum"</code></pre>
</div>
</div>
</section>
<section id="character-classes-eg.-abc" class="level2" data-number="20.11">
<h2 data-number="20.11" class="anchored" data-anchor-id="character-classes-eg.-abc"><span class="header-section-number">20.11</span> “character classes” eg. [abc]</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co"># [abc] matches a SINGLE "a", "b" or "c".    ####</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="co"># characters in [square brackets] match a single copy of</span></span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a><span class="co"># any of those characters, e.g.</span></span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a><span class="co">#  [abc]    matches exactly one of a,b or c</span></span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a><span class="co"># DEFINITION: </span></span>
<span id="cb127-8"><a href="#cb127-8" aria-hidden="true" tabindex="-1"></a><span class="co"># The [square brackets] with the characters in them are often referred to as </span></span>
<span id="cb127-9"><a href="#cb127-9" aria-hidden="true" tabindex="-1"></a><span class="co"># "character classes" or "character sets"</span></span>
<span id="cb127-10"><a href="#cb127-10" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="examples" class="level3" data-number="20.11.1">
<h3 data-number="20.11.1" class="anchored" data-anchor-id="examples"><span class="header-section-number">20.11.1</span> Examples</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[qbxz]"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># find fruit that contain q,b,x or z</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "black cherry" "kumquat"      "banana"       "blueberry"    "strawberry"  
[6] "strawberries" "yumberry"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[aeiou][aeiou]"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># two vowels in a row</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "S. Korean Fig"     "star fruit"        "pear"             
[4] "prickly pear"      "Beurre Hardy pear" "peach"            
[7] "kumquat"           "blueberry"         "strawberries"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^.[aeiou][aeiou]"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># vowels in the 2nd and 3rd positions</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "pear"              "Beurre Hardy pear" "peach"            </code></pre>
</div>
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[aeiou][aeiou].$"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># 2nd &amp; 3rd to last characters are vowels</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "star fruit"        "pear"              "prickly pear"     
[4] "Beurre Hardy pear" "kumquat"           "strawberries"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[aeiou][aeiou][aeiou]"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># 3 vowels in a row</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>character(0)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="co"># replace the FIRST vowel that appears in any fruit with the letter "X"</span></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-8"><a href="#cb138-8" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb138-9"><a href="#cb138-9" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb138-10"><a href="#cb138-10" aria-hidden="true" tabindex="-1"></a><span class="co"># replace ALL vowels that appears in any fruit with the letter "X"</span></span>
<span id="cb138-11"><a href="#cb138-11" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb138-12"><a href="#cb138-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-13"><a href="#cb138-13" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb138-14"><a href="#cb138-14" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[aeiouAEIOU]"</span>, <span class="st">"X"</span>, fruit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "XpplX"             "N. XmXrXcXn XpplX" "S. KXrXXn FXg"    
 [4] "fXg"               "stXr frXXt"        "pXXr"             
 [7] "prXckly pXXr"      "BXXrrX HXrdy pXXr" "chXrry"           
[10] "blXck chXrry"      "pXXch"             "plXm"             
[13] "kXmqXXt"           "bXnXnX"            "blXXbXrry"        
[16] "strXwbXrry"        "hXnXydXw"          "strXwbXrrXXs"     
[19] "yXmbXrry"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a><span class="co"># remove ALL of the vowels that appear in any fruit</span></span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-6"><a href="#cb140-6" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb140-7"><a href="#cb140-7" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[aeiouAEIOU]"</span>, <span class="st">""</span>, fruit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "ppl"         "N. mrcn ppl" "S. Krn Fg"   "fg"          "str frt"    
 [6] "pr"          "prckly pr"   "Brr Hrdy pr" "chrry"       "blck chrry" 
[11] "pch"         "plm"         "kmqt"        "bnn"         "blbrry"     
[16] "strwbrry"    "hnydw"       "strwbrrs"    "ymbrry"     </code></pre>
</div>
</div>
</section>
<section id="dashes-e.g.-a-d" class="level3" data-number="20.11.2">
<h3 data-number="20.11.2" class="anchored" data-anchor-id="dashes-e.g.-a-d"><span class="header-section-number">20.11.2</span> dashes, e.g.&nbsp;[a-d]</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify ranges with dash, e.g. [a-d] or [0-3] or [a-d0-3], etc ####</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify ranges with dash, e.g. [a-d] is same as [abcd], [0-3] is same as [0123] ####</span></span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="examples-1" class="level3" data-number="20.11.3">
<h3 data-number="20.11.3" class="anchored" data-anchor-id="examples-1"><span class="header-section-number">20.11.3</span> Examples</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[j-m]"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># fruits that contain any of j,k,l,m</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "apple"             "N. American apple" "prickly pear"     
[4] "black cherry"      "plum"              "kumquat"          
[7] "blueberry"         "yumberry"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>addresses  <span class="co"># this was defined above</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"               "One Micro$oft Way"                
 [3] "3 Olive St."                       "Two 1st Ave."                     
 [5] "5678 Park Place"                   "Forty Five 2nd Street"            
 [7] "Ninety Nine Cone St. apartment 7"  "9 Main St. apt. 623"              
 [9] "Five Google Drive"                 "4\\2 Rechov Yafo"                 
[11] "Fifteen Watchamacallit Boulevard"  "Nineteen Watchamacallit Boulevard"
[13] "One Main Street Apt 12b"           "Two Main Street Apt 123c"         
[15] "Three Main Street Apt 12343"       "City Hall Lockport, NY"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[0-9]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># contains a digit</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"              "3 Olive St."                     
 [3] "Two 1st Ave."                     "5678 Park Place"                 
 [5] "Forty Five 2nd Street"            "Ninety Nine Cone St. apartment 7"
 [7] "9 Main St. apt. 623"              "4\\2 Rechov Yafo"                
 [9] "One Main Street Apt 12b"          "Two Main Street Apt 123c"        
[11] "Three Main Street Apt 12343"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[6-9]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># contains 6,7,8 or 9</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "5678 Park Place"                  "Ninety Nine Cone St. apartment 7"
[3] "9 Main St. apt. 623"             </code></pre>
</div>
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[0-9][0-9]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># contains a number with at least 2 digits</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "12345 Sesame Street"         "5678 Park Place"            
[3] "9 Main St. apt. 623"         "One Main Street Apt 12b"    
[5] "Two Main Street Apt 123c"    "Three Main Street Apt 12343"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[0-9][0-9][0-9][0-9]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># contains a # with at least 4 digits </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "12345 Sesame Street"         "5678 Park Place"            
[3] "Three Main Street Apt 12343"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^[6-9]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># contains 6,7,8 or 9 as the first character</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "9 Main St. apt. 623"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^.[6-9]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># 6,7,8 or 9 is second character</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "5678 Park Place"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[0-9]$"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># last character is a digit</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Ninety Nine Cone St. apartment 7" "9 Main St. apt. 623"             
[3] "Three Main Street Apt 12343"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[0-9][0-9][0-9]$"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># ends with at least 3 digits</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "9 Main St. apt. 623"         "Three Main Street Apt 12343"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[0-9][0-9][0-9][0-9]$"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># ends with at least 4 digits</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Three Main Street Apt 12343"</code></pre>
</div>
</div>
</section>
<section id="combine-multiple-ranges-one-brackets" class="level3" data-number="20.11.4">
<h3 data-number="20.11.4" class="anchored" data-anchor-id="combine-multiple-ranges-one-brackets"><span class="header-section-number">20.11.4</span> combine multiple ranges one [brackets]</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a><span class="co"># You can combine multiple ranges and values in a single [brackets]</span></span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb165-4"><a href="#cb165-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-5"><a href="#cb165-5" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[1-3x-z]$"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># ends with 1,2,3,x,y or z</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "One Micro$oft Way"           "9 Main St. apt. 623"        
[3] "Three Main Street Apt 12343"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[of-hq]"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># seraches for any of o,f,g,h,q</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "S. Korean Fig" "fig"           "star fruit"    "cherry"       
[5] "black cherry"  "peach"         "kumquat"       "honeydew"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="co"># REMEMBER THE [BRACKETS]!!!</span></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"of-hq"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># searches for exactly :  "of-hq"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>character(0)</code></pre>
</div>
</div>
</section>
<section id="abc" class="level3" data-number="20.11.5">
<h3 data-number="20.11.5" class="anchored" data-anchor-id="abc"><span class="header-section-number">20.11.5</span> [^abc]</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="co"># [^abc] matches a single character that is NOT a,b or c ####</span></span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a><span class="co"># When ^ is the FIRST character in the [^brackets] it means to match a </span></span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a><span class="co"># single character that is NOT one of the characters in the brackets</span></span>
<span id="cb171-5"><a href="#cb171-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb171-6"><a href="#cb171-6" aria-hidden="true" tabindex="-1"></a><span class="co"># [^abc]  - i.e. a single character that is NOT a,b or c</span></span>
<span id="cb171-7"><a href="#cb171-7" aria-hidden="true" tabindex="-1"></a><span class="co"># [^0-9]  - a non-digit</span></span>
<span id="cb171-8"><a href="#cb171-8" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb171-9"><a href="#cb171-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-10"><a href="#cb171-10" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^[^0-9]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># does NOT start with a digit</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "One Micro$oft Way"                 "Two 1st Ave."                     
 [3] "Forty Five 2nd Street"             "Ninety Nine Cone St. apartment 7" 
 [5] "Five Google Drive"                 "Fifteen Watchamacallit Boulevard" 
 [7] "Nineteen Watchamacallit Boulevard" "One Main Street Apt 12b"          
 [9] "Two Main Street Apt 123c"          "Three Main Street Apt 12343"      
[11] "City Hall Lockport, NY"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[^0-9]$"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># does NOT end with a digit</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"               "One Micro$oft Way"                
 [3] "3 Olive St."                       "Two 1st Ave."                     
 [5] "5678 Park Place"                   "Forty Five 2nd Street"            
 [7] "Five Google Drive"                 "4\\2 Rechov Yafo"                 
 [9] "Fifteen Watchamacallit Boulevard"  "Nineteen Watchamacallit Boulevard"
[11] "One Main Street Apt 12b"           "Two Main Street Apt 123c"         
[13] "City Hall Lockport, NY"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[^0-9]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"               "One Micro$oft Way"                
 [3] "3 Olive St."                       "Two 1st Ave."                     
 [5] "5678 Park Place"                   "Forty Five 2nd Street"            
 [7] "Ninety Nine Cone St. apartment 7"  "9 Main St. apt. 623"              
 [9] "Five Google Drive"                 "4\\2 Rechov Yafo"                 
[11] "Fifteen Watchamacallit Boulevard"  "Nineteen Watchamacallit Boulevard"
[13] "One Main Street Apt 12b"           "Two Main Street Apt 123c"         
[15] "Three Main Street Apt 12343"       "City Hall Lockport, NY"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Contains 5 non-vowels in a row (notice that space counts as a non-vowel)</span></span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[^aeiou][^aeiou][^aeiou][^aeiou][^aeiou]"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>, <span class="at">ignore.case=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "prickly pear"      "Beurre Hardy pear" "black cherry"     </code></pre>
</div>
</div>
</section>
<section id="metachars-lose-special-meaning-in-brackets-eg.-." class="level3" data-number="20.11.6">
<h3 data-number="20.11.6" class="anchored" data-anchor-id="metachars-lose-special-meaning-in-brackets-eg.-."><span class="header-section-number">20.11.6</span> metachars lose special meaning in brackets eg. [.$*]</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="co"># meta characters in [brackets] other than ^ - and ] lose their special meaning ####</span></span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb179-3"><a href="#cb179-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Most meta characters inside of [brackets] are treated like any other character.</span></span>
<span id="cb179-4"><a href="#cb179-4" aria-hidden="true" tabindex="-1"></a><span class="co"># They do NOT have any special meaning in the brackets. Therefore you can use</span></span>
<span id="cb179-5"><a href="#cb179-5" aria-hidden="true" tabindex="-1"></a><span class="co"># them without any problem inside a character class. For example [.$]</span></span>
<span id="cb179-6"><a href="#cb179-6" aria-hidden="true" tabindex="-1"></a><span class="co"># matches either a period or a dollar sign (see exmaples below).</span></span>
<span id="cb179-7"><a href="#cb179-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb179-8"><a href="#cb179-8" aria-hidden="true" tabindex="-1"></a><span class="co"># The only exceptions are ^ - and ] which DO have a special meaning inside of</span></span>
<span id="cb179-9"><a href="#cb179-9" aria-hidden="true" tabindex="-1"></a><span class="co"># the [square brackets] - see more info below.</span></span>
<span id="cb179-10"><a href="#cb179-10" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb179-11"><a href="#cb179-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-12"><a href="#cb179-12" aria-hidden="true" tabindex="-1"></a>stuff <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"This is a period: ."</span>, <span class="st">"apple"</span>, <span class="st">"45 oranges"</span>, <span class="st">"$2"</span>, <span class="st">"This is an open bracket: ["</span>)</span>
<span id="cb179-13"><a href="#cb179-13" aria-hidden="true" tabindex="-1"></a>stuff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "This is a period: ."        "apple"                     
[3] "45 oranges"                 "$2"                        
[5] "This is an open bracket: ["</code></pre>
</div>
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="co"># EXAMPLE</span></span>
<span id="cb181-2"><a href="#cb181-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb181-3"><a href="#cb181-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Match a period, left-square-bracket, or a dollar sign</span></span>
<span id="cb181-4"><a href="#cb181-4" aria-hidden="true" tabindex="-1"></a><span class="co"># You do NOT need backslashes inside of the [brackets]</span></span>
<span id="cb181-5"><a href="#cb181-5" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[.[$]"</span>, stuff, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "This is a period: ."        "$2"                        
[3] "This is an open bracket: ["</code></pre>
</div>
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANOTHER EXAMPLE</span></span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb183-3"><a href="#cb183-3" aria-hidden="true" tabindex="-1"></a><span class="co"># The following matches either a period or a digit.</span></span>
<span id="cb183-4"><a href="#cb183-4" aria-hidden="true" tabindex="-1"></a><span class="co"># You do NOT need to use a backslash before the period.</span></span>
<span id="cb183-5"><a href="#cb183-5" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[.1-9]"</span>, stuff, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "This is a period: ." "45 oranges"          "$2"                 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The backslash will not hurt (but it isn't necessary inside the character class)</span></span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (below we will explain why there are TWO backslashes - for now you can leave</span></span>
<span id="cb185-3"><a href="#cb185-3" aria-hidden="true" tabindex="-1"></a><span class="co"># off both of the backslashes)</span></span>
<span id="cb185-4"><a href="#cb185-4" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[</span><span class="sc">\\</span><span class="st">.1-9]"</span>, stuff, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "This is a period: ." "45 oranges"          "$2"                 </code></pre>
</div>
</div>
</section>
<section id="special-cases--" class="level3" data-number="20.11.7">
<h3 data-number="20.11.7" class="anchored" data-anchor-id="special-cases--"><span class="header-section-number">20.11.7</span> Special cases: ^ - ]</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb187-2"><a href="#cb187-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Special cases:    ^    -    ]</span></span>
<span id="cb187-3"><a href="#cb187-3" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb187-4"><a href="#cb187-4" aria-hidden="true" tabindex="-1"></a><span class="co"># The following characters have to be addressed in a special way inside</span></span>
<span id="cb187-5"><a href="#cb187-5" aria-hidden="true" tabindex="-1"></a><span class="co"># of a character class. </span></span>
<span id="cb187-6"><a href="#cb187-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb187-7"><a href="#cb187-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ^   As we saw above, if the first character in the brackets is ^ the regex will</span></span>
<span id="cb187-8"><a href="#cb187-8" aria-hidden="true" tabindex="-1"></a><span class="co">#     look for characters that are NOT in the brackets. If ^ appears anywhere else</span></span>
<span id="cb187-9"><a href="#cb187-9" aria-hidden="true" tabindex="-1"></a><span class="co">#     inside the brackets it has no special meaning.</span></span>
<span id="cb187-10"><a href="#cb187-10" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb187-11"><a href="#cb187-11" aria-hidden="true" tabindex="-1"></a><span class="co"># -   As we saw above, [a-d] is the same as [abcd]. Therefore the - has a special</span></span>
<span id="cb187-12"><a href="#cb187-12" aria-hidden="true" tabindex="-1"></a><span class="co">#     meaning inside of a character class. If you want to actually search</span></span>
<span id="cb187-13"><a href="#cb187-13" aria-hidden="true" tabindex="-1"></a><span class="co">#     for a -, it must be the first, e.g. [-abc] or last character, eg. [abc-]</span></span>
<span id="cb187-14"><a href="#cb187-14" aria-hidden="true" tabindex="-1"></a><span class="co">#     in the class.</span></span>
<span id="cb187-15"><a href="#cb187-15" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb187-16"><a href="#cb187-16" aria-hidden="true" tabindex="-1"></a><span class="co"># ]   has a special meaning - i.e. to end the character class. Therefore if </span></span>
<span id="cb187-17"><a href="#cb187-17" aria-hidden="true" tabindex="-1"></a><span class="co">#     you want to seach for an actual "]", the "]" should be specified</span></span>
<span id="cb187-18"><a href="#cb187-18" aria-hidden="true" tabindex="-1"></a><span class="co">#     as the very FIRST character in the class, e.g. []abc]</span></span>
<span id="cb187-19"><a href="#cb187-19" aria-hidden="true" tabindex="-1"></a><span class="co">#-------------------------------------------------------------------</span></span>
<span id="cb187-20"><a href="#cb187-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-21"><a href="#cb187-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Examples:</span></span>
<span id="cb187-22"><a href="#cb187-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-23"><a href="#cb187-23" aria-hidden="true" tabindex="-1"></a><span class="co"># . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . </span></span>
<span id="cb187-24"><a href="#cb187-24" aria-hidden="true" tabindex="-1"></a><span class="co"># The "." inside of [brackets] simply means an actual period.</span></span>
<span id="cb187-25"><a href="#cb187-25" aria-hidden="true" tabindex="-1"></a><span class="co"># . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . </span></span>
<span id="cb187-26"><a href="#cb187-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-27"><a href="#cb187-27" aria-hidden="true" tabindex="-1"></a>stuff <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"..."</span>, <span class="st">"def"</span>, <span class="st">"...bbbzzzbz.bzz...z.b"</span>, <span class="st">"^^^"</span>)</span>
<span id="cb187-28"><a href="#cb187-28" aria-hidden="true" tabindex="-1"></a>stuff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "..."                   "def"                   "...bbbzzzbz.bzz...z.b"
[4] "^^^"                  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"[.x]"</span>, stuff, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "..."                   "...bbbzzzbz.bzz...z.b"</code></pre>
</div>
</div>
</section>
<section id="matching-inside-square-brackets" class="level3" data-number="20.11.8">
<h3 data-number="20.11.8" class="anchored" data-anchor-id="matching-inside-square-brackets"><span class="header-section-number">20.11.8</span> matching ^ inside [square brackets]</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="co"># . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . </span></span>
<span id="cb191-2"><a href="#cb191-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The "^" inside of [brackets] has a different meaning if it is in the </span></span>
<span id="cb191-3"><a href="#cb191-3" aria-hidden="true" tabindex="-1"></a><span class="co"># first position or if it is anywhere else. For example:</span></span>
<span id="cb191-4"><a href="#cb191-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb191-5"><a href="#cb191-5" aria-hidden="true" tabindex="-1"></a><span class="co"># [^abc]   matches anything that is NOT an "a","b" or "c"</span></span>
<span id="cb191-6"><a href="#cb191-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb191-7"><a href="#cb191-7" aria-hidden="true" tabindex="-1"></a><span class="co"># [a^bc]   </span></span>
<span id="cb191-8"><a href="#cb191-8" aria-hidden="true" tabindex="-1"></a><span class="co"># [abc^]   both of these examples matches one "a","b","c" or "^" character</span></span>
<span id="cb191-9"><a href="#cb191-9" aria-hidden="true" tabindex="-1"></a><span class="co"># . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . </span></span>
<span id="cb191-10"><a href="#cb191-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-11"><a href="#cb191-11" aria-hidden="true" tabindex="-1"></a>caretStuff <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"^^^"</span>, <span class="st">"hello"</span>, <span class="st">"???"</span>)</span>
<span id="cb191-12"><a href="#cb191-12" aria-hidden="true" tabindex="-1"></a>caretStuff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "^^^"   "hello" "???"  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"[^a-z]"</span>, caretStuff, <span class="at">value=</span><span class="cn">TRUE</span>)   <span class="co"># "^^^" "???"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "^^^" "???"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"[a-z^]"</span>, caretStuff, <span class="at">value=</span><span class="cn">TRUE</span>)   <span class="co"># "^^^" "hello"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "^^^"   "hello"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"[^^]"</span>, caretStuff, <span class="at">value=</span><span class="cn">TRUE</span>)     <span class="co"># "hello" "???"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hello" "???"  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="co"># find all entries that have any symbol that is not a ".", "b" or "z"</span></span>
<span id="cb199-2"><a href="#cb199-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-3"><a href="#cb199-3" aria-hidden="true" tabindex="-1"></a>stuff <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"..."</span>, <span class="st">"def"</span>, <span class="st">"...bbbzzzbz.bzz...z.b"</span>, <span class="st">"^^^"</span>)</span>
<span id="cb199-4"><a href="#cb199-4" aria-hidden="true" tabindex="-1"></a>stuff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "..."                   "def"                   "...bbbzzzbz.bzz...z.b"
[4] "^^^"                  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"[^.bz]"</span>, stuff, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "def" "^^^"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="co">#grep("[a-z.]", c())</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="matching-a---inside-square-brackets" class="level3" data-number="20.11.9">
<h3 data-number="20.11.9" class="anchored" data-anchor-id="matching-a---inside-square-brackets"><span class="header-section-number">20.11.9</span> Matching a - inside [square brackets]</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb204-2"><a href="#cb204-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Matching a dash (i.e. - ) inside a character class</span></span>
<span id="cb204-3"><a href="#cb204-3" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb204-4"><a href="#cb204-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-5"><a href="#cb204-5" aria-hidden="true" tabindex="-1"></a><span class="co"># As we saw earlier, inside of [bracketes] a dash special meaning (to indicate a range).</span></span>
<span id="cb204-6"><a href="#cb204-6" aria-hidden="true" tabindex="-1"></a><span class="co"># To actually match a dash as one of the characters place the dash as either the </span></span>
<span id="cb204-7"><a href="#cb204-7" aria-hidden="true" tabindex="-1"></a><span class="co"># first or last character in the brackets.</span></span>
<span id="cb204-8"><a href="#cb204-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-9"><a href="#cb204-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-10"><a href="#cb204-10" aria-hidden="true" tabindex="-1"></a>dashStuff <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"---"</span>, <span class="st">"hello"</span>, <span class="st">"xxx"</span>)</span>
<span id="cb204-11"><a href="#cb204-11" aria-hidden="true" tabindex="-1"></a>dashStuff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "---"   "hello" "xxx"  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"[-xyz]"</span>, dashStuff, <span class="at">value=</span><span class="cn">TRUE</span>)   <span class="co"># "---" "xxx"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "---" "xxx"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"[xyz-]"</span>, dashStuff, <span class="at">value=</span><span class="cn">TRUE</span>)   <span class="co"># "---" "xxx"   (same thing)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "---" "xxx"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"[a-f]"</span>, dashStuff, <span class="at">value=</span><span class="cn">TRUE</span>)   <span class="co"># "hello"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hello"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"[-a-f]"</span>, dashStuff, <span class="at">value=</span><span class="cn">TRUE</span>)   <span class="co"># "---" "hello"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "---"   "hello"</code></pre>
</div>
</div>
</section>
<section id="matching-a-inside-square-brackets" class="level3" data-number="20.11.10">
<h3 data-number="20.11.10" class="anchored" data-anchor-id="matching-a-inside-square-brackets"><span class="header-section-number">20.11.10</span> Matching a ] inside [square brackets]</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb214-2"><a href="#cb214-2" aria-hidden="true" tabindex="-1"></a><span class="co"># To match a closing-square-bracket "]" inside a character class you must</span></span>
<span id="cb214-3"><a href="#cb214-3" aria-hidden="true" tabindex="-1"></a><span class="co"># specify the ] as the very FIRST symbol in the character class.</span></span>
<span id="cb214-4"><a href="#cb214-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb214-5"><a href="#cb214-5" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co"> - there are no special rules for matching an open-square-bracket, "["</span></span>
<span id="cb214-6"><a href="#cb214-6" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb214-7"><a href="#cb214-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb214-8"><a href="#cb214-8" aria-hidden="true" tabindex="-1"></a>stuff <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"]"</span>, <span class="st">"apple"</span>, <span class="st">"zzz"</span> )</span>
<span id="cb214-9"><a href="#cb214-9" aria-hidden="true" tabindex="-1"></a>stuff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "]"     "apple" "zzz"  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"]"</span>, stuff, <span class="at">value=</span><span class="cn">TRUE</span>)    <span class="co">#  "]"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "]"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The pattern "[]a]" matches a single character that is either "]" or "a".</span></span>
<span id="cb218-2"><a href="#cb218-2" aria-hidden="true" tabindex="-1"></a><span class="co"># It finds "]" and also "apple" (since "apple" it contains an "a").</span></span>
<span id="cb218-3"><a href="#cb218-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb218-4"><a href="#cb218-4" aria-hidden="true" tabindex="-1"></a><span class="co"># This works since "]" is placed as the very first character in the </span></span>
<span id="cb218-5"><a href="#cb218-5" aria-hidden="true" tabindex="-1"></a><span class="co"># [brackets] so it is simply one of the characters that is searched for.</span></span>
<span id="cb218-6"><a href="#cb218-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb218-7"><a href="#cb218-7" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[]a]"</span>, stuff, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co">#  "]"  "apple"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "]"     "apple"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This is VERY different for the pattern "[a]]"</span></span>
<span id="cb220-2"><a href="#cb220-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb220-3"><a href="#cb220-3" aria-hidden="true" tabindex="-1"></a><span class="co"># The following example shows what happens if you put the "]" in any</span></span>
<span id="cb220-4"><a href="#cb220-4" aria-hidden="true" tabindex="-1"></a><span class="co"># position other than the first. The pattern "[a]]" is broken down as follows:</span></span>
<span id="cb220-5"><a href="#cb220-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb220-6"><a href="#cb220-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   [a]   This is the single character "a". Note</span></span>
<span id="cb220-7"><a href="#cb220-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb220-8"><a href="#cb220-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   ]     This does NOT signify the end of the character class, but is </span></span>
<span id="cb220-9"><a href="#cb220-9" aria-hidden="true" tabindex="-1"></a><span class="co">#         rather just a regular character that must be part of the text to be </span></span>
<span id="cb220-10"><a href="#cb220-10" aria-hidden="true" tabindex="-1"></a><span class="co">#         matched.</span></span>
<span id="cb220-11"><a href="#cb220-11" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb220-12"><a href="#cb220-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Therefore [a]] is looking for the EXACT text "a]" somewhere in the text</span></span>
<span id="cb220-13"><a href="#cb220-13" aria-hidden="true" tabindex="-1"></a><span class="co"># being searched.</span></span>
<span id="cb220-14"><a href="#cb220-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-15"><a href="#cb220-15" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[a]]"</span>, stuff, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># No matches - looking for "a]" in the text</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>character(0)</code></pre>
</div>
</div>
</section>
</section>
<section id="searching-with-regular-expressions-in-a-text-editor" class="level2" data-number="20.12">
<h2 data-number="20.12" class="anchored" data-anchor-id="searching-with-regular-expressions-in-a-text-editor"><span class="header-section-number">20.12</span> Searching with regular expressions in a “text editor”</h2>
<p>A “text editor” is a program that is used to edit “text files”. A text file can only contain “plain text” - i.e.&nbsp;no pictures, no music, only one font,</p>
<p>RStudio’s text editor</p>
<p>The text editor that is in RStudio can be used to create many different types of files. For example, it can be used to create both “R Script files” (i.e.&nbsp;.R files) and “Quarto Documents” (i.e.&nbsp;.qmd files). In addition, it can be used to create “plain text files”. To do so, choose the following menu choices from RStudio’s menu: “File | New File | Text File”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: regular expressions are used in many different languages and environments.</span></span>
<span id="cb222-2"><a href="#cb222-2" aria-hidden="true" tabindex="-1"></a><span class="co"># In general in regular expression in OTHER environments, </span></span>
<span id="cb222-3"><a href="#cb222-3" aria-hidden="true" tabindex="-1"></a><span class="co"># if you want to actually match a metacharacter (e.g. period, parentheses,</span></span>
<span id="cb222-4"><a href="#cb222-4" aria-hidden="true" tabindex="-1"></a><span class="co"># caret, dollar sign, etc) you precede the metacharacter with a backslash.</span></span>
<span id="cb222-5"><a href="#cb222-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb222-6"><a href="#cb222-6" aria-hidden="true" tabindex="-1"></a><span class="co"># For example, you can do this in RStudios text editor - just type ctrl-f or cmd-f</span></span>
<span id="cb222-7"><a href="#cb222-7" aria-hidden="true" tabindex="-1"></a><span class="co"># and click "regex" checkbox. Then type your regular expression into the </span></span>
<span id="cb222-8"><a href="#cb222-8" aria-hidden="true" tabindex="-1"></a><span class="co"># search box.</span></span>
<span id="cb222-9"><a href="#cb222-9" aria-hidden="true" tabindex="-1"></a><span class="co"># For example</span></span>
<span id="cb222-10"><a href="#cb222-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Try searching the addresses.txt file for the following in the RStudio text</span></span>
<span id="cb222-11"><a href="#cb222-11" aria-hidden="true" tabindex="-1"></a><span class="co"># editor:</span></span>
<span id="cb222-12"><a href="#cb222-12" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb222-13"><a href="#cb222-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   one|1</span></span>
<span id="cb222-14"><a href="#cb222-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   .</span></span>
<span id="cb222-15"><a href="#cb222-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   \.</span></span>
<span id="cb222-16"><a href="#cb222-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   $</span></span>
<span id="cb222-17"><a href="#cb222-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   \$</span></span>
<span id="cb222-18"><a href="#cb222-18" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb222-19"><a href="#cb222-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Matching meta characters requires that you "escape" the meta-character</span></span>
<span id="cb222-20"><a href="#cb222-20" aria-hidden="true" tabindex="-1"></a><span class="co"># by preceding it with a backslash e.g.  \.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="matching-meta-characters" class="level2" data-number="20.13">
<h2 data-number="20.13" class="anchored" data-anchor-id="matching-meta-characters"><span class="header-section-number">20.13</span> Matching meta-characters</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb223"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Matching meta-characters ####</span></span>
<span id="cb223-2"><a href="#cb223-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb223-3"><a href="#cb223-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: regular expressions are used in many different languages and environments.</span></span>
<span id="cb223-4"><a href="#cb223-4" aria-hidden="true" tabindex="-1"></a><span class="co"># In general in regular expression in OTHER environments, </span></span>
<span id="cb223-5"><a href="#cb223-5" aria-hidden="true" tabindex="-1"></a><span class="co"># if you want to actually match a metacharacter (e.g. period, parentheses,</span></span>
<span id="cb223-6"><a href="#cb223-6" aria-hidden="true" tabindex="-1"></a><span class="co"># caret, dollar sign, etc) you precede the metacharacter with a backslash.</span></span>
<span id="cb223-7"><a href="#cb223-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb223-8"><a href="#cb223-8" aria-hidden="true" tabindex="-1"></a><span class="co"># For example, you can do this in RStudios text editor - just type ctrl-f or cmd-f</span></span>
<span id="cb223-9"><a href="#cb223-9" aria-hidden="true" tabindex="-1"></a><span class="co"># and click "regex" checkbox. Then type your regular expression into the </span></span>
<span id="cb223-10"><a href="#cb223-10" aria-hidden="true" tabindex="-1"></a><span class="co"># search box.</span></span>
<span id="cb223-11"><a href="#cb223-11" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb223-12"><a href="#cb223-12" aria-hidden="true" tabindex="-1"></a><span class="co"># For example</span></span>
<span id="cb223-13"><a href="#cb223-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Try searching the addresses.txt file for the following in the RStudio text</span></span>
<span id="cb223-14"><a href="#cb223-14" aria-hidden="true" tabindex="-1"></a><span class="co"># editor:</span></span>
<span id="cb223-15"><a href="#cb223-15" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb223-16"><a href="#cb223-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   one|1</span></span>
<span id="cb223-17"><a href="#cb223-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   .</span></span>
<span id="cb223-18"><a href="#cb223-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   \.</span></span>
<span id="cb223-19"><a href="#cb223-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   $</span></span>
<span id="cb223-20"><a href="#cb223-20" aria-hidden="true" tabindex="-1"></a><span class="co">#   \$</span></span>
<span id="cb223-21"><a href="#cb223-21" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb223-22"><a href="#cb223-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Matching meta characters requires that you "escape" the meta-character</span></span>
<span id="cb223-23"><a href="#cb223-23" aria-hidden="true" tabindex="-1"></a><span class="co"># by preceding it with a backslash e.g.  \.</span></span>
<span id="cb223-24"><a href="#cb223-24" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb223-25"><a href="#cb223-25" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb223-26"><a href="#cb223-26" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb223-27"><a href="#cb223-27" aria-hidden="true" tabindex="-1"></a><span class="co"># When writing regular expression patterns in R you must use TWO \\'s to escape a metacharacter ####</span></span>
<span id="cb223-28"><a href="#cb223-28" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb223-29"><a href="#cb223-29" aria-hidden="true" tabindex="-1"></a><span class="co"># HOWEVER, in R, since character values already use a backslash</span></span>
<span id="cb223-30"><a href="#cb223-30" aria-hidden="true" tabindex="-1"></a><span class="co"># such as \n for a new line, you must use TWO backslashes in the regex</span></span>
<span id="cb223-31"><a href="#cb223-31" aria-hidden="true" tabindex="-1"></a><span class="co"># pattern. The first backslash escapes the 2nd backslash from R</span></span>
<span id="cb223-32"><a href="#cb223-32" aria-hidden="true" tabindex="-1"></a><span class="co"># so that R's character values don't interpret it in a special way.</span></span>
<span id="cb223-33"><a href="#cb223-33" aria-hidden="true" tabindex="-1"></a><span class="co"># See the examples below.</span></span>
<span id="cb223-34"><a href="#cb223-34" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="reminder-of-how-backslashes-are-used-in-r" class="level3" data-number="20.13.1">
<h3 data-number="20.13.1" class="anchored" data-anchor-id="reminder-of-how-backslashes-are-used-in-r"><span class="header-section-number">20.13.1</span> Reminder of how backslashes () are used in R</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reminder of how backslashes (\) are used in R ####</span></span>
<span id="cb224-2"><a href="#cb224-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb224-3"><a href="#cb224-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Remember that R uses backslashes to change the meaning (or to "escape" </span></span>
<span id="cb224-4"><a href="#cb224-4" aria-hidden="true" tabindex="-1"></a><span class="co"># the meaning) of the character that follows the backslash. </span></span>
<span id="cb224-5"><a href="#cb224-5" aria-hidden="true" tabindex="-1"></a><span class="co"># For example in the following cat command, \n, is displayed as a </span></span>
<span id="cb224-6"><a href="#cb224-6" aria-hidden="true" tabindex="-1"></a><span class="co"># "newline character" and \t is displayed as a tab.</span></span>
<span id="cb224-7"><a href="#cb224-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-8"><a href="#cb224-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Hello</span><span class="sc">\n</span><span class="st">Joe</span><span class="sc">\t</span><span class="st">how are you</span><span class="sc">\n\n</span><span class="st">doing?</span><span class="sc">\n\t</span><span class="st">I'm fine."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello
Joe how are you

doing?
    I'm fine.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Similarly in the following cat command the \" escapes the meaning</span></span>
<span id="cb226-2"><a href="#cb226-2" aria-hidden="true" tabindex="-1"></a><span class="co"># of the quote. It no longer implies the end of the quotation. The </span></span>
<span id="cb226-3"><a href="#cb226-3" aria-hidden="true" tabindex="-1"></a><span class="co"># meaning of \" is simply to include a quotation mark as part of the </span></span>
<span id="cb226-4"><a href="#cb226-4" aria-hidden="true" tabindex="-1"></a><span class="co"># text.</span></span>
<span id="cb226-5"><a href="#cb226-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb226-6"><a href="#cb226-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Lincoln said </span><span class="sc">\"</span><span class="st">Four score and seven years ago today...</span><span class="sc">\"</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Lincoln said "Four score and seven years ago today..."</code></pre>
</div>
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="co"># If the following line were not commented it would cause an error</span></span>
<span id="cb228-2"><a href="#cb228-2" aria-hidden="true" tabindex="-1"></a><span class="co"># because the quotation is not actually closed due to the \ before the</span></span>
<span id="cb228-3"><a href="#cb228-3" aria-hidden="true" tabindex="-1"></a><span class="co"># final quotation mark.</span></span>
<span id="cb228-4"><a href="#cb228-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb228-5"><a href="#cb228-5" aria-hidden="true" tabindex="-1"></a><span class="co">#cat("This is a backslash: \")   # ERROR</span></span>
<span id="cb228-6"><a href="#cb228-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-7"><a href="#cb228-7" aria-hidden="true" tabindex="-1"></a><span class="co"># The following works correctly. Note that \\ is needed to escape</span></span>
<span id="cb228-8"><a href="#cb228-8" aria-hidden="true" tabindex="-1"></a><span class="co"># the normal meaning of the backslash character!</span></span>
<span id="cb228-9"><a href="#cb228-9" aria-hidden="true" tabindex="-1"></a><span class="co">#cat("This is a backslash: \\")   # ERROR</span></span>
<span id="cb228-10"><a href="#cb228-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-11"><a href="#cb228-11" aria-hidden="true" tabindex="-1"></a><span class="co">#cat("This is a period \.")   # ERROR \. is NOT an R escape sequence</span></span>
<span id="cb228-12"><a href="#cb228-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-13"><a href="#cb228-13" aria-hidden="true" tabindex="-1"></a><span class="co"># You must use TWO backslashes in R's regular expressions ####</span></span>
<span id="cb228-14"><a href="#cb228-14" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb228-15"><a href="#cb228-15" aria-hidden="true" tabindex="-1"></a><span class="co"># In R you must use two backslashes in a regex pattern to </span></span>
<span id="cb228-16"><a href="#cb228-16" aria-hidden="true" tabindex="-1"></a><span class="co"># escape a metacharacter.</span></span>
<span id="cb228-17"><a href="#cb228-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-18"><a href="#cb228-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-19"><a href="#cb228-19" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># all addresses that contain a period</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "3 Olive St."                      "Two 1st Ave."                    
[3] "Ninety Nine Cone St. apartment 7" "9 Main St. apt. 623"             </code></pre>
</div>
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"."</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># All the addresses</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"               "One Micro$oft Way"                
 [3] "3 Olive St."                       "Two 1st Ave."                     
 [5] "5678 Park Place"                   "Forty Five 2nd Street"            
 [7] "Ninety Nine Cone St. apartment 7"  "9 Main St. apt. 623"              
 [9] "Five Google Drive"                 "4\\2 Rechov Yafo"                 
[11] "Fifteen Watchamacallit Boulevard"  "Nineteen Watchamacallit Boulevard"
[13] "One Main Street Apt 12b"           "Two Main Street Apt 123c"         
[15] "Three Main Street Apt 12343"       "City Hall Lockport, NY"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a>stuff <span class="ot">=</span> <span class="fu">c</span>(<span class="st">""</span>, <span class="st">"apple"</span>, <span class="st">""</span>, <span class="st">"banana"</span>)</span>
<span id="cb232-2"><a href="#cb232-2" aria-hidden="true" tabindex="-1"></a>stuff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] ""       "apple"  ""       "banana"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"."</span>, stuff, <span class="at">value=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb236"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"."</span>, stuff, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "apple"  "banana"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb238"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb238-1"><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This is an ERROR in R but would be correct in other </span></span>
<span id="cb238-2"><a href="#cb238-2" aria-hidden="true" tabindex="-1"></a><span class="co"># languages or environment that use regular expressions</span></span>
<span id="cb238-3"><a href="#cb238-3" aria-hidden="true" tabindex="-1"></a><span class="co">#grep("\.", addresses, value="TRUE")  # ERROR - R doesn't recognize \.</span></span>
<span id="cb238-4"><a href="#cb238-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb238-5"><a href="#cb238-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Without the backslash you will find all addresses that contain</span></span>
<span id="cb238-6"><a href="#cb238-6" aria-hidden="true" tabindex="-1"></a><span class="co"># at least a single character (i.e. all the addresses)</span></span>
<span id="cb238-7"><a href="#cb238-7" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"."</span>, addresses, <span class="at">value=</span><span class="st">"TRUE"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"               "One Micro$oft Way"                
 [3] "3 Olive St."                       "Two 1st Ave."                     
 [5] "5678 Park Place"                   "Forty Five 2nd Street"            
 [7] "Ninety Nine Cone St. apartment 7"  "9 Main St. apt. 623"              
 [9] "Five Google Drive"                 "4\\2 Rechov Yafo"                 
[11] "Fifteen Watchamacallit Boulevard"  "Nineteen Watchamacallit Boulevard"
[13] "One Main Street Apt 12b"           "Two Main Street Apt 123c"         
[15] "Three Main Street Apt 12343"       "City Hall Lockport, NY"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb240"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">$"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)   <span class="co"># addresses that contain a dollar sign</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "One Micro$oft Way"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"$"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)    <span class="co"># all addresses - why?? - they all have an ending</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"               "One Micro$oft Way"                
 [3] "3 Olive St."                       "Two 1st Ave."                     
 [5] "5678 Park Place"                   "Forty Five 2nd Street"            
 [7] "Ninety Nine Cone St. apartment 7"  "9 Main St. apt. 623"              
 [9] "Five Google Drive"                 "4\\2 Rechov Yafo"                 
[11] "Fifteen Watchamacallit Boulevard"  "Nineteen Watchamacallit Boulevard"
[13] "One Main Street Apt 12b"           "Two Main Street Apt 123c"         
[15] "Three Main Street Apt 12343"       "City Hall Lockport, NY"           </code></pre>
</div>
</div>
</section>
<section id="to-search-for-an-actual-backslash-you-must-use-4-backslashes-in-the-pattern" class="level3" data-number="20.13.2">
<h3 data-number="20.13.2" class="anchored" data-anchor-id="to-search-for-an-actual-backslash-you-must-use-4-backslashes-in-the-pattern"><span class="header-section-number">20.13.2</span> To search for an actual backslash you must use 4 backslashes in the pattern</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb244"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To search for an actual backslash you must use 4 backslashes in the pattern ####</span></span>
<span id="cb244-2"><a href="#cb244-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb244-3"><a href="#cb244-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Searching for an actual backslash in the data can be tricky. </span></span>
<span id="cb244-4"><a href="#cb244-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Remember, one of our addresses had a backslash in it. Let's find it.</span></span>
<span id="cb244-5"><a href="#cb244-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb244-6"><a href="#cb244-6" aria-hidden="true" tabindex="-1"></a><span class="co"># To look for a single backslash in the data you must use FOUR backslashes.</span></span>
<span id="cb244-7"><a href="#cb244-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Just as R character values need to "escape" a backslash with a 2nd backslash,</span></span>
<span id="cb244-8"><a href="#cb244-8" aria-hidden="true" tabindex="-1"></a><span class="co"># so too do regular expressions need to escape a backslash with a 2nd backslash.</span></span>
<span id="cb244-9"><a href="#cb244-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Therefore if you want to write a regular expression in R that searches for</span></span>
<span id="cb244-10"><a href="#cb244-10" aria-hidden="true" tabindex="-1"></a><span class="co"># a backslash, you must write FOUR backslashes in a row. The first two resolve</span></span>
<span id="cb244-11"><a href="#cb244-11" aria-hidden="true" tabindex="-1"></a><span class="co"># to a single backslash. The 3rd and 4th resolve to a single backslash. Then finally</span></span>
<span id="cb244-12"><a href="#cb244-12" aria-hidden="true" tabindex="-1"></a><span class="co"># the two single backslashes are used in the regular expression to match a </span></span>
<span id="cb244-13"><a href="#cb244-13" aria-hidden="true" tabindex="-1"></a><span class="co"># single actual backslash in the data.</span></span>
<span id="cb244-14"><a href="#cb244-14" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb244-15"><a href="#cb244-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb244-16"><a href="#cb244-16" aria-hidden="true" tabindex="-1"></a>answer <span class="ot">=</span> <span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\\\</span><span class="st">"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># look for a single backslash in the data</span></span>
<span id="cb244-17"><a href="#cb244-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb244-18"><a href="#cb244-18" aria-hidden="true" tabindex="-1"></a>answer</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "4\\2 Rechov Yafo"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb246"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(answer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>4\2 Rechov Yafo</code></pre>
</div>
<div class="sourceCode cell-code" id="cb248"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb248-1"><a href="#cb248-1" aria-hidden="true" tabindex="-1"></a>stuff<span class="ot">=</span><span class="st">"</span><span class="sc">\\\\</span><span class="st">"</span></span>
<span id="cb248-2"><a href="#cb248-2" aria-hidden="true" tabindex="-1"></a>stuff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "\\\\"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb250"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb250-1"><a href="#cb250-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(stuff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>\\</code></pre>
</div>
</div>
</section>
</section>
<section id="matching-quotes" class="level2" data-number="20.14">
<h2 data-number="20.14" class="anchored" data-anchor-id="matching-quotes"><span class="header-section-number">20.14</span> Matching QUOTES</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb252"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb252-1"><a href="#cb252-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb252-2"><a href="#cb252-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Matching QUOTES</span></span>
<span id="cb252-3"><a href="#cb252-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb252-4"><a href="#cb252-4" aria-hidden="true" tabindex="-1"></a><span class="co"># "Quotation marks" are NOT meta-characters in regular expressions. They</span></span>
<span id="cb252-5"><a href="#cb252-5" aria-hidden="true" tabindex="-1"></a><span class="co"># have no special meaning in a regular expression. However, as with all </span></span>
<span id="cb252-6"><a href="#cb252-6" aria-hidden="true" tabindex="-1"></a><span class="co"># R code you must make sure to use a single backslash if the quotation mark</span></span>
<span id="cb252-7"><a href="#cb252-7" aria-hidden="true" tabindex="-1"></a><span class="co"># is inside of quotation marks (e.g.  "\"" ) - see the example below.</span></span>
<span id="cb252-8"><a href="#cb252-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb252-9"><a href="#cb252-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that when using R's regular expression functions, regex</span></span>
<span id="cb252-10"><a href="#cb252-10" aria-hidden="true" tabindex="-1"></a><span class="co"># meta-characters, such as the period or ^ for which you want to remove </span></span>
<span id="cb252-11"><a href="#cb252-11" aria-hidden="true" tabindex="-1"></a><span class="co"># the special meaning require a DOUBLE backslash (as explained above).</span></span>
<span id="cb252-12"><a href="#cb252-12" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb252-13"><a href="#cb252-13" aria-hidden="true" tabindex="-1"></a><span class="co"># A regex pattern in VS Code (or a similar editor) that includes " or ' </span></span>
<span id="cb252-14"><a href="#cb252-14" aria-hidden="true" tabindex="-1"></a><span class="co"># would not need any backslashes since these aren't regex meta characters.</span></span>
<span id="cb252-15"><a href="#cb252-15" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb252-16"><a href="#cb252-16" aria-hidden="true" tabindex="-1"></a>quoteStuff <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Joe says great stuff."</span>, <span class="st">"Franklin said </span><span class="sc">\"</span><span class="st">a penny saved ...</span><span class="sc">\"</span><span class="st">"</span>)</span>
<span id="cb252-17"><a href="#cb252-17" aria-hidden="true" tabindex="-1"></a>quoteStuff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Joe says great stuff."               "Franklin said \"a penny saved ...\""</code></pre>
</div>
<div class="sourceCode cell-code" id="cb254"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(quoteStuff, <span class="at">sep=</span><span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Joe says great stuff.
Franklin said "a penny saved ..."</code></pre>
</div>
<div class="sourceCode cell-code" id="cb256"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"</span><span class="sc">\"</span><span class="st">"</span>, quoteStuff, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co">#  "Franklin said \"a penny saved ...\""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Franklin said \"a penny saved ...\""</code></pre>
</div>
<div class="sourceCode cell-code" id="cb258"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb258-1"><a href="#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, quoteStuff, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co">#  "Franklin said \"a penny saved ...\""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Joe says great stuff."               "Franklin said \"a penny saved ...\""</code></pre>
</div>
</div>
</section>
<section id="different-flavors-or-dialects-of-regular-expressions." class="level2" data-number="20.15">
<h2 data-number="20.15" class="anchored" data-anchor-id="different-flavors-or-dialects-of-regular-expressions."><span class="header-section-number">20.15</span> Different “flavors” or “dialects” of regular expressions.</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb260"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Different "flavors" or "dialects" of regular expressions. ####</span></span>
<span id="cb260-2"><a href="#cb260-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb260-3"><a href="#cb260-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Regular expressions have been around for a long time. Different "dialects"</span></span>
<span id="cb260-4"><a href="#cb260-4" aria-hidden="true" tabindex="-1"></a><span class="co"># of regular expressions have popped up over the years. </span></span>
<span id="cb260-5"><a href="#cb260-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb260-6"><a href="#cb260-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Some programming languages and tools use slightly different "rules" </span></span>
<span id="cb260-7"><a href="#cb260-7" aria-hidden="true" tabindex="-1"></a><span class="co"># for regular expressions. This can be frustrating. However, the basic set</span></span>
<span id="cb260-8"><a href="#cb260-8" aria-hidden="true" tabindex="-1"></a><span class="co"># of regular expresion rules remains the same for most programming languages </span></span>
<span id="cb260-9"><a href="#cb260-9" aria-hidden="true" tabindex="-1"></a><span class="co"># and tools. </span></span>
<span id="cb260-10"><a href="#cb260-10" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb260-11"><a href="#cb260-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Regular expressions first became popular with the Unix operating system in </span></span>
<span id="cb260-12"><a href="#cb260-12" aria-hidden="true" tabindex="-1"></a><span class="co"># the 1970s. There were many different versions of Unix being marketed by </span></span>
<span id="cb260-13"><a href="#cb260-13" aria-hidden="true" tabindex="-1"></a><span class="co"># different companies, each with slight differences. POSIX is a standard that</span></span>
<span id="cb260-14"><a href="#cb260-14" aria-hidden="true" tabindex="-1"></a><span class="co"># defines how things should be done in a standard way across all the different</span></span>
<span id="cb260-15"><a href="#cb260-15" aria-hidden="true" tabindex="-1"></a><span class="co"># versions of Unix. POSIX addresses regular expressions too. </span></span>
<span id="cb260-16"><a href="#cb260-16" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb260-17"><a href="#cb260-17" aria-hidden="true" tabindex="-1"></a><span class="co"># POSIX introduced "named character classes" as described below. R will </span></span>
<span id="cb260-18"><a href="#cb260-18" aria-hidden="true" tabindex="-1"></a><span class="co"># recognize these. </span></span>
<span id="cb260-19"><a href="#cb260-19" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb260-20"><a href="#cb260-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Other additions to the regular expression notation were introduced by </span></span>
<span id="cb260-21"><a href="#cb260-21" aria-hidden="true" tabindex="-1"></a><span class="co"># the once very popular Perl programming language. You can get these features</span></span>
<span id="cb260-22"><a href="#cb260-22" aria-hidden="true" tabindex="-1"></a><span class="co"># to work in R by specifying perl=TRUE as one of the arguments for grep</span></span>
<span id="cb260-23"><a href="#cb260-23" aria-hidden="true" tabindex="-1"></a><span class="co"># and other functions in R that work with regular expressions. </span></span>
<span id="cb260-24"><a href="#cb260-24" aria-hidden="true" tabindex="-1"></a><span class="co"># For more details about perl regular expressions, see ?regex.</span></span>
<span id="cb260-25"><a href="#cb260-25" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb260-26"><a href="#cb260-26" aria-hidden="true" tabindex="-1"></a><span class="co"># As we said above, regular expressions are NOT totally standardized across all </span></span>
<span id="cb260-27"><a href="#cb260-27" aria-hidden="true" tabindex="-1"></a><span class="co"># languages and environments. For example (as of Feb 10, 2022)</span></span>
<span id="cb260-28"><a href="#cb260-28" aria-hidden="true" tabindex="-1"></a><span class="co"># there are subtle differences between the rules for regular expressions</span></span>
<span id="cb260-29"><a href="#cb260-29" aria-hidden="true" tabindex="-1"></a><span class="co"># that are used in R and those that are used in the </span></span>
<span id="cb260-30"><a href="#cb260-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Visual Studio Code (VS Code) text editor. You can see a summary of the </span></span>
<span id="cb260-31"><a href="#cb260-31" aria-hidden="true" tabindex="-1"></a><span class="co"># rules used by VS Code here:</span></span>
<span id="cb260-32"><a href="#cb260-32" aria-hidden="true" tabindex="-1"></a><span class="co">#   https://docs.microsoft.com/en-us/visualstudio/ide/using-regular-expressions-in-visual-studio?view=vs-2022</span></span>
<span id="cb260-33"><a href="#cb260-33" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb260-34"><a href="#cb260-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Although there may be some differences between different languaes and </span></span>
<span id="cb260-35"><a href="#cb260-35" aria-hidden="true" tabindex="-1"></a><span class="co"># environments, the vast majority of regular expression meta characters</span></span>
<span id="cb260-36"><a href="#cb260-36" aria-hidden="true" tabindex="-1"></a><span class="co"># work the same across the different environments. </span></span>
<span id="cb260-37"><a href="#cb260-37" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="digit-vs-d---different-shorthand-notations-for-character-classes" class="level3" data-number="20.15.1">
<h3 data-number="20.15.1" class="anchored" data-anchor-id="digit-vs-d---different-shorthand-notations-for-character-classes"><span class="header-section-number">20.15.1</span> [[:digit:]] vs \d - different shorthand notations for character classes</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb261"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb261-1"><a href="#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb261-2"><a href="#cb261-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Two different shorthand notations for character classes</span></span>
<span id="cb261-3"><a href="#cb261-3" aria-hidden="true" tabindex="-1"></a><span class="co"># - POSIX named character classes , e.g. [[:alnum:]]  [[:digit:]]   etc. </span></span>
<span id="cb261-4"><a href="#cb261-4" aria-hidden="true" tabindex="-1"></a><span class="co"># - backslash shortcuts , e.g. \s \S \d \D  etc.</span></span>
<span id="cb261-5"><a href="#cb261-5" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="posix-named-character-classes-e.g.-digit" class="level4">
<h4 class="anchored" data-anchor-id="posix-named-character-classes-e.g.-digit">“POSIX” named character classes, e.g.&nbsp;[[:digit:]]</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb262"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb262-1"><a href="#cb262-1" aria-hidden="true" tabindex="-1"></a><span class="co"># "POSIX" named character classes, e.g. [[:alnum:]] ####</span></span>
<span id="cb262-2"><a href="#cb262-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb262-3"><a href="#cb262-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: These are available in R. </span></span>
<span id="cb262-4"><a href="#cb262-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb262-5"><a href="#cb262-5" aria-hidden="true" tabindex="-1"></a><span class="co">#       They currently are NOT available in VSCode</span></span>
<span id="cb262-6"><a href="#cb262-6" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb262-7"><a href="#cb262-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Bracket notation in regular expressions (e.g. [aeiou] or [0-9]) are known as </span></span>
<span id="cb262-8"><a href="#cb262-8" aria-hidden="true" tabindex="-1"></a><span class="co"># character classes. </span></span>
<span id="cb262-9"><a href="#cb262-9" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb262-10"><a href="#cb262-10" aria-hidden="true" tabindex="-1"></a><span class="co"># You can use several "named character classes" as shorthand for some common</span></span>
<span id="cb262-11"><a href="#cb262-11" aria-hidden="true" tabindex="-1"></a><span class="co"># character classes. These are shown below. Notice the [[double brackets]]</span></span>
<span id="cb262-12"><a href="#cb262-12" aria-hidden="true" tabindex="-1"></a><span class="co"># We'll explain more about the the [[double brackets]] below.</span></span>
<span id="cb262-13"><a href="#cb262-13" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb262-14"><a href="#cb262-14" aria-hidden="true" tabindex="-1"></a><span class="co"># [[:upper:]]   same as [A-Z]</span></span>
<span id="cb262-15"><a href="#cb262-15" aria-hidden="true" tabindex="-1"></a><span class="co"># [[:lower:]]   same as [a-z]</span></span>
<span id="cb262-16"><a href="#cb262-16" aria-hidden="true" tabindex="-1"></a><span class="co"># [[:space:]]   same as [ \r\n\t]</span></span>
<span id="cb262-17"><a href="#cb262-17" aria-hidden="true" tabindex="-1"></a><span class="co"># [[:punct:]]   all "special" characters, eg. !@#$% etc...</span></span>
<span id="cb262-18"><a href="#cb262-18" aria-hidden="true" tabindex="-1"></a><span class="co"># [[:digit:]]   same as [0-9]</span></span>
<span id="cb262-19"><a href="#cb262-19" aria-hidden="true" tabindex="-1"></a><span class="co"># [[:alpha:]]   same as [a-zA-Z]</span></span>
<span id="cb262-20"><a href="#cb262-20" aria-hidden="true" tabindex="-1"></a><span class="co"># [[:alnum:]]   same as [a-zA-Z0-9]</span></span>
<span id="cb262-21"><a href="#cb262-21" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb262-22"><a href="#cb262-22" aria-hidden="true" tabindex="-1"></a><span class="co"># The [[double brackets]] shown above are necessary since these</span></span>
<span id="cb262-23"><a href="#cb262-23" aria-hidden="true" tabindex="-1"></a><span class="co"># "named character classes" must actually be placed inside a pair of </span></span>
<span id="cb262-24"><a href="#cb262-24" aria-hidden="true" tabindex="-1"></a><span class="co"># [square brackets]. For example, you can also use the named</span></span>
<span id="cb262-25"><a href="#cb262-25" aria-hidden="true" tabindex="-1"></a><span class="co"># character classes inside a larger character class.</span></span>
<span id="cb262-26"><a href="#cb262-26" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb262-27"><a href="#cb262-27" aria-hidden="true" tabindex="-1"></a><span class="co"># For example the following will match any single character</span></span>
<span id="cb262-28"><a href="#cb262-28" aria-hidden="true" tabindex="-1"></a><span class="co"># from the following list:    -,+,*,/,(,),0,1,2,3,4,5,6,7,8,9</span></span>
<span id="cb262-29"><a href="#cb262-29" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb262-30"><a href="#cb262-30" aria-hidden="true" tabindex="-1"></a><span class="co">#   [-+*/()[:digit:]]    is the same as [-+*/()0-9]</span></span>
<span id="cb262-31"><a href="#cb262-31" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="practice-1" class="level3" data-number="20.15.2">
<h3 data-number="20.15.2" class="anchored" data-anchor-id="practice-1"><span class="header-section-number">20.15.2</span> — practice —</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb263"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb263-1"><a href="#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb263-2"><a href="#cb263-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb263-3"><a href="#cb263-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Search for addresses that contain at least one digit. Use a POSIX</span></span>
<span id="cb263-4"><a href="#cb263-4" aria-hidden="true" tabindex="-1"></a><span class="co"># named character class.</span></span>
<span id="cb263-5"><a href="#cb263-5" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb263-6"><a href="#cb263-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb263-7"><a href="#cb263-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER </span></span>
<span id="cb263-8"><a href="#cb263-8" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[[:digit:]]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)   <span class="co"># uses POSIX named character classes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"              "3 Olive St."                     
 [3] "Two 1st Ave."                     "5678 Park Place"                 
 [5] "Forty Five 2nd Street"            "Ninety Nine Cone St. apartment 7"
 [7] "9 Main St. apt. 623"              "4\\2 Rechov Yafo"                
 [9] "One Main Street Apt 12b"          "Two Main Street Apt 123c"        
[11] "Three Main Street Apt 12343"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb265"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb265-1"><a href="#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(addresses, <span class="st">"[[:digit:]]"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] │ &lt;1&gt;&lt;2&gt;&lt;3&gt;&lt;4&gt;&lt;5&gt; Sesame Street
 [3] │ &lt;3&gt; Olive St.
 [4] │ Two &lt;1&gt;st Ave.
 [5] │ &lt;5&gt;&lt;6&gt;&lt;7&gt;&lt;8&gt; Park Place
 [6] │ Forty Five &lt;2&gt;nd Street
 [7] │ Ninety Nine Cone St. apartment &lt;7&gt;
 [8] │ &lt;9&gt; Main St. apt. &lt;6&gt;&lt;2&gt;&lt;3&gt;
[10] │ &lt;4&gt;\&lt;2&gt; Rechov Yafo
[13] │ One Main Street Apt &lt;1&gt;&lt;2&gt;b
[14] │ Two Main Street Apt &lt;1&gt;&lt;2&gt;&lt;3&gt;c
[15] │ Three Main Street Apt &lt;1&gt;&lt;2&gt;&lt;3&gt;&lt;4&gt;&lt;3&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb267"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb267-1"><a href="#cb267-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co"> - the pattern "[:digit:]" with one set of [brackets] does NOT work.</span></span>
<span id="cb267-2"><a href="#cb267-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb267-3"><a href="#cb267-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Since there is only one set of [brackets], the pattern matches any one of</span></span>
<span id="cb267-4"><a href="#cb267-4" aria-hidden="true" tabindex="-1"></a><span class="co"># the characters that are between the [brackets], i.e. match</span></span>
<span id="cb267-5"><a href="#cb267-5" aria-hidden="true" tabindex="-1"></a><span class="co"># one of the characters ":", "d", "i", "g", "i", "t" or ":"</span></span>
<span id="cb267-6"><a href="#cb267-6" aria-hidden="true" tabindex="-1"></a><span class="co"># This is equivalent to "[:digt]"  (I removed the 2nd ":" and the 2nd "i" as</span></span>
<span id="cb267-7"><a href="#cb267-7" aria-hidden="true" tabindex="-1"></a><span class="co"># they are repetitive.)</span></span>
<span id="cb267-8"><a href="#cb267-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb267-9"><a href="#cb267-9" aria-hidden="true" tabindex="-1"></a><span class="co"># THIS DOESN'T WORK! - see note above</span></span>
<span id="cb267-10"><a href="#cb267-10" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[:digit:]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># looks for one of the following :,d,i,g,i,t,:</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"               "One Micro$oft Way"                
 [3] "3 Olive St."                       "Two 1st Ave."                     
 [5] "Forty Five 2nd Street"             "Ninety Nine Cone St. apartment 7" 
 [7] "9 Main St. apt. 623"               "Five Google Drive"                
 [9] "Fifteen Watchamacallit Boulevard"  "Nineteen Watchamacallit Boulevard"
[11] "One Main Street Apt 12b"           "Two Main Street Apt 123c"         
[13] "Three Main Street Apt 12343"       "City Hall Lockport, NY"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb269"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb269-1"><a href="#cb269-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^[N[:digit:]]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)   <span class="co"># same as [N0-9]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "12345 Sesame Street"               "3 Olive St."                      
[3] "5678 Park Place"                   "Ninety Nine Cone St. apartment 7" 
[5] "9 Main St. apt. 623"               "4\\2 Rechov Yafo"                 
[7] "Nineteen Watchamacallit Boulevard"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb271"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb271-1"><a href="#cb271-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION:</span></span>
<span id="cb271-2"><a href="#cb271-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb271-3"><a href="#cb271-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Write a command that replaces any sequence of digits or mathematical </span></span>
<span id="cb271-4"><a href="#cb271-4" aria-hidden="true" tabindex="-1"></a><span class="co"># operators with the text "&lt;&lt;MATH-EXPRESSION&gt;&gt;"</span></span>
<span id="cb271-5"><a href="#cb271-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb271-6"><a href="#cb271-6" aria-hidden="true" tabindex="-1"></a><span class="co"># You can use the following "mathStuff" variable to test your answer.</span></span>
<span id="cb271-7"><a href="#cb271-7" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb271-8"><a href="#cb271-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb271-9"><a href="#cb271-9" aria-hidden="true" tabindex="-1"></a>mathStuff <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"What is 3+2 ? Do you know the answer?"</span>,</span>
<span id="cb271-10"><a href="#cb271-10" aria-hidden="true" tabindex="-1"></a>               <span class="st">"99.5 desgrees in Farenheit is 99.5*(5/9)-32 degrees in Celcius"</span>)</span>
<span id="cb271-11"><a href="#cb271-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb271-12"><a href="#cb271-12" aria-hidden="true" tabindex="-1"></a>mathStuff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "What is 3+2 ? Do you know the answer?"                         
[2] "99.5 desgrees in Farenheit is 99.5*(5/9)-32 degrees in Celcius"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb273"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb273-1"><a href="#cb273-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb273-2"><a href="#cb273-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb273-3"><a href="#cb273-3" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[-+*/().[:digit:]]+"</span>, <span class="st">"&lt;&lt;MATH-EXPRESSION&gt;&gt;"</span>, mathStuff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "What is &lt;&lt;MATH-EXPRESSION&gt;&gt; ? Do you know the answer?"                              
[2] "&lt;&lt;MATH-EXPRESSION&gt;&gt; desgrees in Farenheit is &lt;&lt;MATH-EXPRESSION&gt;&gt; degrees in Celcius"</code></pre>
</div>
</div>
<pre class="{r]}"><code># QUESTION:
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Write a grep command that matches punctuation and letters, but not numbers.
# You can use the following data to test your answer. Use POSIX named
# character classes.
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

stuff = c("1234",  # This should NOT match since it doesn't contain letters or punctuation
          "12.34", # This SHOULD match since it contains punctuation.
          ".",     # This SHOULD match since it contains punctuation.
          "hi")    # This SHOULD match since it contains at least one letter</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb276"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb276-1"><a href="#cb276-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb276-2"><a href="#cb276-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb276-3"><a href="#cb276-3" aria-hidden="true" tabindex="-1"></a><span class="co"># The following will match any punctuation or letters but not numbers</span></span>
<span id="cb276-4"><a href="#cb276-4" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[[:punct:][:alpha:]]"</span>, stuff, <span class="at">value=</span><span class="cn">TRUE</span>)   <span class="co">#   "."    "hi"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "\\\\"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb278"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb278-1"><a href="#cb278-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION </span></span>
<span id="cb278-2"><a href="#cb278-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb278-3"><a href="#cb278-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Search for fruits that contain spaces using the POSIX</span></span>
<span id="cb278-4"><a href="#cb278-4" aria-hidden="true" tabindex="-1"></a><span class="co"># named character classes for spaces</span></span>
<span id="cb278-5"><a href="#cb278-5" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb279"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb279-1"><a href="#cb279-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb279-2"><a href="#cb279-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[[:space:]]"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "N. American apple" "S. Korean Fig"     "star fruit"       
[4] "prickly pear"      "Beurre Hardy pear" "black cherry"     </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb281"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb281-1"><a href="#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION </span></span>
<span id="cb281-2"><a href="#cb281-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb281-3"><a href="#cb281-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Search fruit for those that contain punctuation (e.g. periods, commas, etc)</span></span>
<span id="cb281-4"><a href="#cb281-4" aria-hidden="true" tabindex="-1"></a><span class="co"># using the POSIX named character classes</span></span>
<span id="cb281-5"><a href="#cb281-5" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb282"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb282-1"><a href="#cb282-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb282-2"><a href="#cb282-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3"><a href="#cb282-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"[[:punct:]]"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "N. American apple" "S. Korean Fig"    </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb284"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb284-1"><a href="#cb284-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION </span></span>
<span id="cb284-2"><a href="#cb284-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb284-3"><a href="#cb284-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Show fruit that contain either an x,y,z or some punctuation.</span></span>
<span id="cb284-4"><a href="#cb284-4" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb285"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb285-1"><a href="#cb285-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb285-2"><a href="#cb285-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-3"><a href="#cb285-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co"> that there are TWO sets of brackets. The POSIX named character</span></span>
<span id="cb285-4"><a href="#cb285-4" aria-hidden="true" tabindex="-1"></a><span class="co"># class, [:punct:], is itself inside a set of [brackets].</span></span>
<span id="cb285-5"><a href="#cb285-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-6"><a href="#cb285-6" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[xyz[:punct:]]"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "N. American apple" "S. Korean Fig"     "prickly pear"     
 [4] "Beurre Hardy pear" "cherry"            "black cherry"     
 [7] "blueberry"         "strawberry"        "honeydew"         
[10] "yumberry"         </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb287"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb287-1"><a href="#cb287-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION </span></span>
<span id="cb287-2"><a href="#cb287-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb287-3"><a href="#cb287-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Search all ADDRESSES for those that contain punctuation (e.g. periods,</span></span>
<span id="cb287-4"><a href="#cb287-4" aria-hidden="true" tabindex="-1"></a><span class="co"># commas, etc) or actual digits (e.g. 0123456789) using POSIX named</span></span>
<span id="cb287-5"><a href="#cb287-5" aria-hidden="true" tabindex="-1"></a><span class="co"># character classes</span></span>
<span id="cb287-6"><a href="#cb287-6" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb288"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb288-1"><a href="#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb288-2"><a href="#cb288-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb288-3"><a href="#cb288-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[[:punct:][:digit:]]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"              "One Micro$oft Way"               
 [3] "3 Olive St."                      "Two 1st Ave."                    
 [5] "5678 Park Place"                  "Forty Five 2nd Street"           
 [7] "Ninety Nine Cone St. apartment 7" "9 Main St. apt. 623"             
 [9] "4\\2 Rechov Yafo"                 "One Main Street Apt 12b"         
[11] "Two Main Street Apt 123c"         "Three Main Street Apt 12343"     
[13] "City Hall Lockport, NY"          </code></pre>
</div>
<div class="sourceCode cell-code" id="cb290"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb290-1"><a href="#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This also works</span></span>
<span id="cb290-2"><a href="#cb290-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[[:punct:]0-9]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"              "One Micro$oft Way"               
 [3] "3 Olive St."                      "Two 1st Ave."                    
 [5] "5678 Park Place"                  "Forty Five 2nd Street"           
 [7] "Ninety Nine Cone St. apartment 7" "9 Main St. apt. 623"             
 [9] "4\\2 Rechov Yafo"                 "One Main Street Apt 12b"         
[11] "Two Main Street Apt 123c"         "Three Main Street Apt 12343"     
[13] "City Hall Lockport, NY"          </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb292"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb292-1"><a href="#cb292-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION </span></span>
<span id="cb292-2"><a href="#cb292-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb292-3"><a href="#cb292-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Search all ADDRESSES for those that contain some punctuation that </span></span>
<span id="cb292-4"><a href="#cb292-4" aria-hidden="true" tabindex="-1"></a><span class="co"># comes immediately after the letter t. Use POSIX named classes.</span></span>
<span id="cb292-5"><a href="#cb292-5" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb293"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb293-1"><a href="#cb293-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb293-2"><a href="#cb293-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[tT][[:punct:]]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "3 Olive St."                      "Ninety Nine Cone St. apartment 7"
[3] "9 Main St. apt. 623"              "City Hall Lockport, NY"          </code></pre>
</div>
<div class="sourceCode cell-code" id="cb295"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb295-1"><a href="#cb295-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANOTHER WAY</span></span>
<span id="cb295-2"><a href="#cb295-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[tT][^[:alnum:]]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "One Micro$oft Way"                 "3 Olive St."                      
 [3] "Two 1st Ave."                      "Ninety Nine Cone St. apartment 7" 
 [5] "9 Main St. apt. 623"               "Fifteen Watchamacallit Boulevard" 
 [7] "Nineteen Watchamacallit Boulevard" "One Main Street Apt 12b"          
 [9] "Two Main Street Apt 123c"          "Three Main Street Apt 12343"      
[11] "City Hall Lockport, NY"           </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb297"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb297-1"><a href="#cb297-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION </span></span>
<span id="cb297-2"><a href="#cb297-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb297-3"><a href="#cb297-3" aria-hidden="true" tabindex="-1"></a><span class="co"># answer the previous question without using POSIX named classes.</span></span>
<span id="cb297-4"><a href="#cb297-4" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb297-5"><a href="#cb297-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb297-6"><a href="#cb297-6" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[tT][,.!?]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "3 Olive St."                      "Ninety Nine Cone St. apartment 7"
[3] "9 Main St. apt. 623"              "City Hall Lockport, NY"          </code></pre>
</div>
</div>
<section id="backslash-shortcuts-for-character-classes-e.g.-etc." class="level4">
<h4 class="anchored" data-anchor-id="backslash-shortcuts-for-character-classes-e.g.-etc.">backslash shortcuts for character classes, e.g.&nbsp;etc.</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb299"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb299-1"><a href="#cb299-1" aria-hidden="true" tabindex="-1"></a><span class="co"># backslash shortcuts for character classes, e.g. \s \S \d \D etc. ####</span></span>
<span id="cb299-2"><a href="#cb299-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb299-3"><a href="#cb299-3" aria-hidden="true" tabindex="-1"></a><span class="co"># The following are also shorthand notation that you can use for some</span></span>
<span id="cb299-4"><a href="#cb299-4" aria-hidden="true" tabindex="-1"></a><span class="co"># characer classes.</span></span>
<span id="cb299-5"><a href="#cb299-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb299-6"><a href="#cb299-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that in R you must use a double backslash, e.g. \\s instead of \s</span></span>
<span id="cb299-7"><a href="#cb299-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb299-8"><a href="#cb299-8" aria-hidden="true" tabindex="-1"></a><span class="co"># \s   is the same as [ \n\t\r]  also same as [[:space:]]</span></span>
<span id="cb299-9"><a href="#cb299-9" aria-hidden="true" tabindex="-1"></a><span class="co">#      It matches anything which is considered whitespace.</span></span>
<span id="cb299-10"><a href="#cb299-10" aria-hidden="true" tabindex="-1"></a><span class="co">#      This could be a space, tab, line break etc.</span></span>
<span id="cb299-11"><a href="#cb299-11" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb299-12"><a href="#cb299-12" aria-hidden="true" tabindex="-1"></a><span class="co"># \S   is the same as [^ \n\t\r]</span></span>
<span id="cb299-13"><a href="#cb299-13" aria-hidden="true" tabindex="-1"></a><span class="co">#      It matches the opposite of \s, that is anything which is not considered</span></span>
<span id="cb299-14"><a href="#cb299-14" aria-hidden="true" tabindex="-1"></a><span class="co">#      whitespace.</span></span>
<span id="cb299-15"><a href="#cb299-15" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb299-16"><a href="#cb299-16" aria-hidden="true" tabindex="-1"></a><span class="co"># \d   is the same as [0-9]  (ie. it matches a single digit)  same as [[:digit:]]</span></span>
<span id="cb299-17"><a href="#cb299-17" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb299-18"><a href="#cb299-18" aria-hidden="true" tabindex="-1"></a><span class="co"># \D   is the same as [^0-9] (i.e. it matches a single NON-digit)</span></span>
<span id="cb299-19"><a href="#cb299-19" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb299-20"><a href="#cb299-20" aria-hidden="true" tabindex="-1"></a><span class="co"># \w - matches anything which is considered a word character. That is</span></span>
<span id="cb299-21"><a href="#cb299-21" aria-hidden="true" tabindex="-1"></a><span class="co">#      [A-Za-z0-9_]. Note the inclusion of the underscore character '_'. This is</span></span>
<span id="cb299-22"><a href="#cb299-22" aria-hidden="true" tabindex="-1"></a><span class="co">#      because in programming and other areas we regularly use the underscore as part</span></span>
<span id="cb299-23"><a href="#cb299-23" aria-hidden="true" tabindex="-1"></a><span class="co">#      of, say, a variable or function name.</span></span>
<span id="cb299-24"><a href="#cb299-24" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb299-25"><a href="#cb299-25" aria-hidden="true" tabindex="-1"></a><span class="co"># \W - matches  [^A-Za-z0-9_] the opposite of \w, that is anything which is not considered a</span></span>
<span id="cb299-26"><a href="#cb299-26" aria-hidden="true" tabindex="-1"></a><span class="co">#      word character.</span></span>
<span id="cb299-27"><a href="#cb299-27" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="word-boundries" class="level2 cell" data-number="20.16">
<h2 class="cell anchored" data-number="20.16" data-anchor-id="word-boundries"><span class="header-section-number">20.16</span> WORD BOUNDRIES: ::</h2>
<div class="sourceCode cell-code" id="cb300"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb300-1"><a href="#cb300-1" aria-hidden="true" tabindex="-1"></a><span class="co"># WORD BOUNDRIES:  \b ####</span></span>
<span id="cb300-2"><a href="#cb300-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb300-3"><a href="#cb300-3" aria-hidden="true" tabindex="-1"></a><span class="co"># \b matches a "word boundary"   (remember in R use \\b)</span></span>
<span id="cb300-4"><a href="#cb300-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb300-5"><a href="#cb300-5" aria-hidden="true" tabindex="-1"></a><span class="co"># You can use this before a pattern to mean that the pattern must</span></span>
<span id="cb300-6"><a href="#cb300-6" aria-hidden="true" tabindex="-1"></a><span class="co"># come at the beginning of a word - see examples below.</span></span>
<span id="cb300-7"><a href="#cb300-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb300-8"><a href="#cb300-8" aria-hidden="true" tabindex="-1"></a><span class="co"># You can use this after a pattern to mean that the pattern must</span></span>
<span id="cb300-9"><a href="#cb300-9" aria-hidden="true" tabindex="-1"></a><span class="co"># come at the end of a word - see examples below.</span></span>
<span id="cb300-10"><a href="#cb300-10" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb300-11"><a href="#cb300-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that a "word boundary" is not a particular character such as a </span></span>
<span id="cb300-12"><a href="#cb300-12" aria-hidden="true" tabindex="-1"></a><span class="co"># space or comma, but rather is a position in the text. </span></span>
<span id="cb300-13"><a href="#cb300-13" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb300-14"><a href="#cb300-14" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co"> - a "word" may include letters, digits or underscores</span></span>
<span id="cb300-15"><a href="#cb300-15" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb300-16"><a href="#cb300-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb300-17"><a href="#cb300-17" aria-hidden="true" tabindex="-1"></a>heWords <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"he"</span>, <span class="st">"here"</span>, <span class="st">"there"</span>, <span class="st">"the"</span>, <span class="st">"who was she?"</span>, <span class="st">"headache"</span>)</span>
<span id="cb300-18"><a href="#cb300-18" aria-hidden="true" tabindex="-1"></a>heWords</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "he"           "here"         "there"        "the"          "who was she?"
[6] "headache"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb302"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb302-1"><a href="#cb302-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example: word starts with "he"</span></span>
<span id="cb302-2"><a href="#cb302-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"</span><span class="sc">\\</span><span class="st">bhe"</span>, heWords, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># "he" "here" (NOT "there","the","who was she?")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "he"       "here"     "headache"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb304"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb304-1"><a href="#cb304-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example: word ends with "he"</span></span>
<span id="cb304-2"><a href="#cb304-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"he</span><span class="sc">\\</span><span class="st">b"</span>, heWords, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># "he" "the" "who was she?" (NOT "here","there")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "he"           "the"          "who was she?" "headache"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb306"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb306-1"><a href="#cb306-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example: match only the word "he"</span></span>
<span id="cb306-2"><a href="#cb306-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"</span><span class="sc">\\</span><span class="st">bhe</span><span class="sc">\\</span><span class="st">b"</span>, heWords, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># "he"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "he"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb308"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb308-1"><a href="#cb308-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb308-2"><a href="#cb308-2" aria-hidden="true" tabindex="-1"></a><span class="co"># You can use \b with more complicated patterns too.</span></span>
<span id="cb308-3"><a href="#cb308-3" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb308-4"><a href="#cb308-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb308-5"><a href="#cb308-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Examples: </span></span>
<span id="cb308-6"><a href="#cb308-6" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"</span><span class="sc">\\</span><span class="st">b[Hh]"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># fruits that have a word that starts with H or h</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Beurre Hardy pear" "honeydew"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb310"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb310-1"><a href="#cb310-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"[aeiouAEIOU]</span><span class="sc">\\</span><span class="st">b"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># fruits that end with a vowel</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "apple"             "N. American apple" "Beurre Hardy pear"
[4] "banana"           </code></pre>
</div>
<p>:::</p>
</section>
<section id="pattern1pattern2-matches-pattern1-or-pattern2" class="level2" data-number="20.17">
<h2 data-number="20.17" class="anchored" data-anchor-id="pattern1pattern2-matches-pattern1-or-pattern2"><span class="header-section-number">20.17</span> “pattern1|pattern2” matches pattern1 OR pattern2</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb312"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb312-1"><a href="#cb312-1" aria-hidden="true" tabindex="-1"></a><span class="co"># "pattern1|pattern2"  matches pattern1 OR pattern2 ####</span></span>
<span id="cb312-2"><a href="#cb312-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb312-3"><a href="#cb312-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Combining patterns</span></span>
<span id="cb312-4"><a href="#cb312-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb312-5"><a href="#cb312-5" aria-hidden="true" tabindex="-1"></a><span class="co">#    PATTERN1|PATTERN2  matches if either PATTERN1 or PATTERN2 is found</span></span>
<span id="cb312-6"><a href="#cb312-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb312-7"><a href="#cb312-7" aria-hidden="true" tabindex="-1"></a><span class="co">#    (PATTERN)          you may surround patterns with (parentheses) if necessary</span></span>
<span id="cb312-8"><a href="#cb312-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb312-9"><a href="#cb312-9" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb312-10"><a href="#cb312-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb312-11"><a href="#cb312-11" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"black|blue|green"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># contains black,blue or green</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "black cherry" "blueberry"   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb314"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb314-1"><a href="#cb314-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^(1|One)"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>, <span class="at">ignore.case=</span><span class="cn">TRUE</span>) <span class="co"># 1 or One at beginning </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "12345 Sesame Street"     "One Micro$oft Way"      
[3] "One Main Street Apt 12b"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb316"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb316-1"><a href="#cb316-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"(^1|^One)"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># same thing </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "12345 Sesame Street"     "One Micro$oft Way"      
[3] "One Main Street Apt 12b"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb318"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb318-1"><a href="#cb318-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^1|^One"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># same thing </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "12345 Sesame Street"     "One Micro$oft Way"      
[3] "One Main Street Apt 12b"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb320"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb320-1"><a href="#cb320-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[0-9]"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"              "3 Olive St."                     
 [3] "Two 1st Ave."                     "5678 Park Place"                 
 [5] "Forty Five 2nd Street"            "Ninety Nine Cone St. apartment 7"
 [7] "9 Main St. apt. 623"              "4\\2 Rechov Yafo"                
 [9] "One Main Street Apt 12b"          "Two Main Street Apt 123c"        
[11] "Three Main Street Apt 12343"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb322"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb322-1"><a href="#cb322-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"0|1|2|3|4|5|6|7|8|9"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># Same as [0-9]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"              "3 Olive St."                     
 [3] "Two 1st Ave."                     "5678 Park Place"                 
 [5] "Forty Five 2nd Street"            "Ninety Nine Cone St. apartment 7"
 [7] "9 Main St. apt. 623"              "4\\2 Rechov Yafo"                
 [9] "One Main Street Apt 12b"          "Two Main Street Apt 123c"        
[11] "Three Main Street Apt 12343"     </code></pre>
</div>
</div>
</section>
<section id="breaking-up-long-patterns-with-paste0" class="level2" data-number="20.18">
<h2 data-number="20.18" class="anchored" data-anchor-id="breaking-up-long-patterns-with-paste0"><span class="header-section-number">20.18</span> breaking up long patterns with paste0</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb324"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb324-1"><a href="#cb324-1" aria-hidden="true" tabindex="-1"></a><span class="co"># breaking up long patterns with paste0 ####</span></span>
<span id="cb324-2"><a href="#cb324-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb324-3"><a href="#cb324-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Do NOT include extra whitespace in patterns!!!</span></span>
<span id="cb324-4"><a href="#cb324-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb324-5"><a href="#cb324-5" aria-hidden="true" tabindex="-1"></a><span class="co"># For long patterns you can use paste0 to break up the pattern</span></span>
<span id="cb324-6"><a href="#cb324-6" aria-hidden="true" tabindex="-1"></a><span class="co"># so it is more readable in the code.</span></span>
<span id="cb324-7"><a href="#cb324-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb324-8"><a href="#cb324-8" aria-hidden="true" tabindex="-1"></a><span class="co"># See examples below.</span></span>
<span id="cb324-9"><a href="#cb324-9" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="example" class="level3" data-number="20.18.1">
<h3 data-number="20.18.1" class="anchored" data-anchor-id="example"><span class="header-section-number">20.18.1</span> example</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb325"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb325-1"><a href="#cb325-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb325-2"><a href="#cb325-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb325-3"><a href="#cb325-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Show those addresses that contain one of the numbers 1-9 spelled out in words,</span></span>
<span id="cb325-4"><a href="#cb325-4" aria-hidden="true" tabindex="-1"></a><span class="co"># e.g. "one", "two", etc</span></span>
<span id="cb325-5"><a href="#cb325-5" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb325-6"><a href="#cb325-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb325-7"><a href="#cb325-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER - note that writing the pattern using paste0 with collapse = ""</span></span>
<span id="cb325-8"><a href="#cb325-8" aria-hidden="true" tabindex="-1"></a><span class="co"># makes the pattern easy to understand. You can also comment on </span></span>
<span id="cb325-9"><a href="#cb325-9" aria-hidden="true" tabindex="-1"></a><span class="co"># individual portions of the pattern. </span></span>
<span id="cb325-10"><a href="#cb325-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb325-11"><a href="#cb325-11" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">=</span> <span class="fu">paste0</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">bone</span><span class="sc">\\</span><span class="st">b|"</span>,     <span class="co"># match the word "one"</span></span>
<span id="cb325-12"><a href="#cb325-12" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"</span><span class="sc">\\</span><span class="st">btwo</span><span class="sc">\\</span><span class="st">b|"</span>,     <span class="co"># match the word "two"</span></span>
<span id="cb325-13"><a href="#cb325-13" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"</span><span class="sc">\\</span><span class="st">bthree</span><span class="sc">\\</span><span class="st">b|"</span>,   <span class="co"># etc.</span></span>
<span id="cb325-14"><a href="#cb325-14" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"</span><span class="sc">\\</span><span class="st">bfour</span><span class="sc">\\</span><span class="st">b|"</span>,</span>
<span id="cb325-15"><a href="#cb325-15" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"</span><span class="sc">\\</span><span class="st">bfive</span><span class="sc">\\</span><span class="st">b|"</span>,</span>
<span id="cb325-16"><a href="#cb325-16" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"</span><span class="sc">\\</span><span class="st">bsix</span><span class="sc">\\</span><span class="st">b|"</span>,</span>
<span id="cb325-17"><a href="#cb325-17" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"</span><span class="sc">\\</span><span class="st">bseven</span><span class="sc">\\</span><span class="st">b|"</span>,</span>
<span id="cb325-18"><a href="#cb325-18" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"</span><span class="sc">\\</span><span class="st">beight</span><span class="sc">\\</span><span class="st">b|"</span>,</span>
<span id="cb325-19"><a href="#cb325-19" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"</span><span class="sc">\\</span><span class="st">bnine</span><span class="sc">\\</span><span class="st">b"</span>)</span>
<span id="cb325-20"><a href="#cb325-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb325-21"><a href="#cb325-21" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, addresses, <span class="at">value=</span><span class="cn">TRUE</span>, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "One Micro$oft Way"                "Two 1st Ave."                    
[3] "Forty Five 2nd Street"            "Ninety Nine Cone St. apartment 7"
[5] "Five Google Drive"                "One Main Street Apt 12b"         
[7] "Two Main Street Apt 123c"         "Three Main Street Apt 12343"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb327"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb327-1"><a href="#cb327-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that the following also works but is</span></span>
<span id="cb327-2"><a href="#cb327-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   - MUCH harder to read </span></span>
<span id="cb327-3"><a href="#cb327-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   - MUCH harder to check for errors and</span></span>
<span id="cb327-4"><a href="#cb327-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   - cannot be commented on for different parts of the pattern</span></span>
<span id="cb327-5"><a href="#cb327-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb327-6"><a href="#cb327-6" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(</span>
<span id="cb327-7"><a href="#cb327-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"</span><span class="sc">\\</span><span class="st">bone</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">btwo</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bthree</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bfour</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bfive</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bsix</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bseven</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">beight</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bnine</span><span class="sc">\\</span><span class="st">b"</span>,</span>
<span id="cb327-8"><a href="#cb327-8" aria-hidden="true" tabindex="-1"></a>  addresses, <span class="at">value=</span><span class="cn">TRUE</span>, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "One Micro$oft Way"                "Two 1st Ave."                    
[3] "Forty Five 2nd Street"            "Ninety Nine Cone St. apartment 7"
[5] "Five Google Drive"                "One Main Street Apt 12b"         
[7] "Two Main Street Apt 123c"         "Three Main Street Apt 12343"     </code></pre>
</div>
</div>
</section>
<section id="example-1" class="level3" data-number="20.18.2">
<h3 data-number="20.18.2" class="anchored" data-anchor-id="example-1"><span class="header-section-number">20.18.2</span> example</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb329"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb329-1"><a href="#cb329-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A more complex example ####</span></span>
<span id="cb329-2"><a href="#cb329-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb329-3"><a href="#cb329-3" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION </span></span>
<span id="cb329-4"><a href="#cb329-4" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb329-5"><a href="#cb329-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Display those addresses that contain a number that is exactly one</span></span>
<span id="cb329-6"><a href="#cb329-6" aria-hidden="true" tabindex="-1"></a><span class="co"># digit long. For example: </span></span>
<span id="cb329-7"><a href="#cb329-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb329-8"><a href="#cb329-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   addresses =</span></span>
<span id="cb329-9"><a href="#cb329-9" aria-hidden="true" tabindex="-1"></a><span class="co">#    c("3 Olive St.",              # should match (because of 3)</span></span>
<span id="cb329-10"><a href="#cb329-10" aria-hidden="true" tabindex="-1"></a><span class="co">#      "Forty Five 2nd Street",    # should match (because of 2nd)</span></span>
<span id="cb329-11"><a href="#cb329-11" aria-hidden="true" tabindex="-1"></a><span class="co">#      "Ninety Nine Cone St. apartment 7",</span></span>
<span id="cb329-12"><a href="#cb329-12" aria-hidden="true" tabindex="-1"></a><span class="co">#                                  # should match (because of 7)</span></span>
<span id="cb329-13"><a href="#cb329-13" aria-hidden="true" tabindex="-1"></a><span class="co">#      "7",                        # should match</span></span>
<span id="cb329-14"><a href="#cb329-14" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb329-15"><a href="#cb329-15" aria-hidden="true" tabindex="-1"></a><span class="co">#      "12345 Sesame Street",      # should NOT match (12345 is five digits)</span></span>
<span id="cb329-16"><a href="#cb329-16" aria-hidden="true" tabindex="-1"></a><span class="co">#      "One main Street Apt 12b",  # should NOT match (12 is two digits)</span></span>
<span id="cb329-17"><a href="#cb329-17" aria-hidden="true" tabindex="-1"></a><span class="co">#      "Two Main St. Apt 99",      # should NOT match (99 is two digits) </span></span>
<span id="cb329-18"><a href="#cb329-18" aria-hidden="true" tabindex="-1"></a><span class="co">#      "45")                       # should NOT match</span></span>
<span id="cb329-19"><a href="#cb329-19" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb329-20"><a href="#cb329-20" aria-hidden="true" tabindex="-1"></a><span class="co">#   &gt; YOUR COMMAND GOES HERE</span></span>
<span id="cb329-21"><a href="#cb329-21" aria-hidden="true" tabindex="-1"></a><span class="co">#   [1] "3 Olive St."</span></span>
<span id="cb329-22"><a href="#cb329-22" aria-hidden="true" tabindex="-1"></a><span class="co">#   [2] "Forty Five 2nd Street"</span></span>
<span id="cb329-23"><a href="#cb329-23" aria-hidden="true" tabindex="-1"></a><span class="co">#   [3] "Ninety Nine Cone St. apartment 7"</span></span>
<span id="cb329-24"><a href="#cb329-24" aria-hidden="true" tabindex="-1"></a><span class="co">#   [4] "7"</span></span>
<span id="cb329-25"><a href="#cb329-25" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb329-26"><a href="#cb329-26" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: the pattern "[0-9]" will NOT work as it will match every one of </span></span>
<span id="cb329-27"><a href="#cb329-27" aria-hidden="true" tabindex="-1"></a><span class="co"># values above</span></span>
<span id="cb329-28"><a href="#cb329-28" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb329-29"><a href="#cb329-29" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: the pattern "\\b[0-9]\\b" is a good try but will not match</span></span>
<span id="cb329-30"><a href="#cb329-30" aria-hidden="true" tabindex="-1"></a><span class="co"># "Forty Five 2nd Street" as the 2 in "2nd" is NOT followed by a word boundary.</span></span>
<span id="cb329-31"><a href="#cb329-31" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb329-32"><a href="#cb329-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb329-33"><a href="#cb329-33" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb329-34"><a href="#cb329-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb329-35"><a href="#cb329-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Note - there are 4 possible ways for a single digit appear in the text:</span></span>
<span id="cb329-36"><a href="#cb329-36" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb329-37"><a href="#cb329-37" aria-hidden="true" tabindex="-1"></a><span class="co"># (a) The digit can appear at the very beginning of the text and be followed by</span></span>
<span id="cb329-38"><a href="#cb329-38" aria-hidden="true" tabindex="-1"></a><span class="co">#     a non-digit, e.g. "3 Olive street". </span></span>
<span id="cb329-39"><a href="#cb329-39" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb329-40"><a href="#cb329-40" aria-hidden="true" tabindex="-1"></a><span class="co">#     The pattern: "^[0-9][^0-9]"     </span></span>
<span id="cb329-41"><a href="#cb329-41" aria-hidden="true" tabindex="-1"></a><span class="co">#     matches "3 Olive street"</span></span>
<span id="cb329-42"><a href="#cb329-42" aria-hidden="true" tabindex="-1"></a><span class="co">#     but doesn't match "Forty Five 2nd Street" (since the 2 is not at the</span></span>
<span id="cb329-43"><a href="#cb329-43" aria-hidden="true" tabindex="-1"></a><span class="co">#                                                beginning of the text).</span></span>
<span id="cb329-44"><a href="#cb329-44" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb329-45"><a href="#cb329-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Similarly, each of the following patterns will match a single digit for</span></span>
<span id="cb329-46"><a href="#cb329-46" aria-hidden="true" tabindex="-1"></a><span class="co"># some texts but not for others. </span></span>
<span id="cb329-47"><a href="#cb329-47" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb329-48"><a href="#cb329-48" aria-hidden="true" tabindex="-1"></a><span class="co"># (b) [^0-9][0-9][^0-9] : NONdigit digit NONdigit anywhere in the text</span></span>
<span id="cb329-49"><a href="#cb329-49" aria-hidden="true" tabindex="-1"></a><span class="co"># (c) [^0-9][0-9]$      : last two characters are a NONdigit followed by a single digit</span></span>
<span id="cb329-50"><a href="#cb329-50" aria-hidden="true" tabindex="-1"></a><span class="co"># (d) ^[0-9]$           : whole thing is JUST one digit</span></span>
<span id="cb329-51"><a href="#cb329-51" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb329-52"><a href="#cb329-52" aria-hidden="true" tabindex="-1"></a><span class="co"># For actual addresses you probably don't have to worry about the last</span></span>
<span id="cb329-53"><a href="#cb329-53" aria-hidden="true" tabindex="-1"></a><span class="co"># case, but for other types of data you might.</span></span>
<span id="cb329-54"><a href="#cb329-54" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb329-55"><a href="#cb329-55" aria-hidden="true" tabindex="-1"></a><span class="co"># You can write a pattern that deals with all of these cases by</span></span>
<span id="cb329-56"><a href="#cb329-56" aria-hidden="true" tabindex="-1"></a><span class="co"># separating the different "sub-patterns" from each other with "|" symbols.</span></span>
<span id="cb329-57"><a href="#cb329-57" aria-hidden="true" tabindex="-1"></a><span class="co"># For example, the following answers the question, but the pattern is VERY</span></span>
<span id="cb329-58"><a href="#cb329-58" aria-hidden="true" tabindex="-1"></a><span class="co"># hard to read. (see below for a better way to write this code.)</span></span>
<span id="cb329-59"><a href="#cb329-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb329-60"><a href="#cb329-60" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^[0-9][^0-9]|[^0-9][0-9][^0-9]|[^0-9][0-9]$|^[0-9]$"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "3 Olive St."                      "Two 1st Ave."                    
[3] "Forty Five 2nd Street"            "Ninety Nine Cone St. apartment 7"
[5] "9 Main St. apt. 623"              "4\\2 Rechov Yafo"                </code></pre>
</div>
<div class="sourceCode cell-code" id="cb331"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb331-1"><a href="#cb331-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we can use paste0 to make this easier to read</span></span>
<span id="cb331-2"><a href="#cb331-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-3"><a href="#cb331-3" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> </span>
<span id="cb331-4"><a href="#cb331-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span> ( <span class="st">"^[0-9][^0-9]"</span> ,     <span class="co"># starts with digit followed by a NONdigit</span></span>
<span id="cb331-5"><a href="#cb331-5" aria-hidden="true" tabindex="-1"></a>         <span class="st">"|[^0-9][0-9][^0-9]"</span>,  <span class="co"># NONdigit digit NONdigit anywhere in the text </span></span>
<span id="cb331-6"><a href="#cb331-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">"|[^0-9][0-9]$"</span>,       <span class="co"># ends with a NONdigit followed by a single digit</span></span>
<span id="cb331-7"><a href="#cb331-7" aria-hidden="true" tabindex="-1"></a>         <span class="st">"|^[0-9]$"</span>)            <span class="co"># whole thing is JUST one digit </span></span>
<span id="cb331-8"><a href="#cb331-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-9"><a href="#cb331-9" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "3 Olive St."                      "Two 1st Ave."                    
[3] "Forty Five 2nd Street"            "Ninety Nine Cone St. apartment 7"
[5] "9 Main St. apt. 623"              "4\\2 Rechov Yafo"                </code></pre>
</div>
</div>
</section>
<section id="example-2" class="level3" data-number="20.18.3">
<h3 data-number="20.18.3" class="anchored" data-anchor-id="example-2"><span class="header-section-number">20.18.3</span> example</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb333"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb333-1"><a href="#cb333-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb333-2"><a href="#cb333-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb333-3"><a href="#cb333-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Write a command that displays all addresses that contain the</span></span>
<span id="cb333-4"><a href="#cb333-4" aria-hidden="true" tabindex="-1"></a><span class="co"># number "one" or 1.</span></span>
<span id="cb333-5"><a href="#cb333-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb333-6"><a href="#cb333-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Notice that the following will NOT work. This gets "Cone" and 12345 too:</span></span>
<span id="cb333-7"><a href="#cb333-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb333-8"><a href="#cb333-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   grep("one|1", addresses, value=TRUE, ignore.case=TRUE) # NO - matches Cone and 12345</span></span>
<span id="cb333-9"><a href="#cb333-9" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb333-10"><a href="#cb333-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb333-11"><a href="#cb333-11" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb333-12"><a href="#cb333-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb333-13"><a href="#cb333-13" aria-hidden="true" tabindex="-1"></a><span class="co"># The following is the way to do it. Regular expressions require </span></span>
<span id="cb333-14"><a href="#cb333-14" aria-hidden="true" tabindex="-1"></a><span class="co"># a very thoughtful approach!</span></span>
<span id="cb333-15"><a href="#cb333-15" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb333-16"><a href="#cb333-16" aria-hidden="true" tabindex="-1"></a><span class="co"># The word "one" or the number "1" (not including the number 123)</span></span>
<span id="cb333-17"><a href="#cb333-17" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">=</span> <span class="fu">paste0</span>(<span class="st">"^one[^a-z]|"</span>,       <span class="co"># one at beginning</span></span>
<span id="cb333-18"><a href="#cb333-18" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"[^a-z]one[^a-z]|"</span>,  <span class="co"># one in middle</span></span>
<span id="cb333-19"><a href="#cb333-19" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"[^a-z]one$|"</span>,       <span class="co"># one at end</span></span>
<span id="cb333-20"><a href="#cb333-20" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"^one$|"</span>,            <span class="co"># ONLY the word "one"</span></span>
<span id="cb333-21"><a href="#cb333-21" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"^1[^0-9]|"</span>,         <span class="co"># 1 at beginning</span></span>
<span id="cb333-22"><a href="#cb333-22" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"[^0-9]1[^0-9]|"</span>,    <span class="co"># 1 in middle</span></span>
<span id="cb333-23"><a href="#cb333-23" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"[^0-9]1$|"</span>,         <span class="co"># 1 at end</span></span>
<span id="cb333-24"><a href="#cb333-24" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"^1$"</span>)               <span class="co"># ONLY the number 1</span></span>
<span id="cb333-25"><a href="#cb333-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb333-26"><a href="#cb333-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb333-27"><a href="#cb333-27" aria-hidden="true" tabindex="-1"></a>pattern</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "^one[^a-z]|[^a-z]one[^a-z]|[^a-z]one$|^one$|^1[^0-9]|[^0-9]1[^0-9]|[^0-9]1$|^1$"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb335"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb335-1"><a href="#cb335-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, addresses, <span class="at">value=</span><span class="cn">TRUE</span>, <span class="at">ignore.case=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "One Micro$oft Way"       "Two 1st Ave."           
[3] "One Main Street Apt 12b"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb337"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb337-1"><a href="#cb337-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Same thing but MUCH harder to read!!!</span></span>
<span id="cb337-2"><a href="#cb337-2" aria-hidden="true" tabindex="-1"></a><span class="co"># You should break up long patterns with paste0 and comment them as shown above.</span></span>
<span id="cb337-3"><a href="#cb337-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb337-4"><a href="#cb337-4" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(</span>
<span id="cb337-5"><a href="#cb337-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^one[^a-z]|[^a-z]one[^a-z]|[^a-z]one$|^one$|^1[^0-9]|[^0-9]1[^0-9]|[^0-9]1$|^1$"</span>,</span>
<span id="cb337-6"><a href="#cb337-6" aria-hidden="true" tabindex="-1"></a>  addresses, <span class="at">value=</span><span class="cn">TRUE</span>, <span class="at">ignore.case=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "One Micro$oft Way"       "Two 1st Ave."           
[3] "One Main Street Apt 12b"</code></pre>
</div>
</div>
</section>
<section id="example-3" class="level3" data-number="20.18.4">
<h3 data-number="20.18.4" class="anchored" data-anchor-id="example-3"><span class="header-section-number">20.18.4</span> example</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb339"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb339-1"><a href="#cb339-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb339-2"><a href="#cb339-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb339-3"><a href="#cb339-3" aria-hidden="true" tabindex="-1"></a><span class="co"># df is a dataframe. Write a command that shows all rows from df</span></span>
<span id="cb339-4"><a href="#cb339-4" aria-hidden="true" tabindex="-1"></a><span class="co"># for which the 2nd character in the first column is "x". </span></span>
<span id="cb339-5"><a href="#cb339-5" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb339-6"><a href="#cb339-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Hints: </span></span>
<span id="cb339-7"><a href="#cb339-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   a. Access a dataframe as you normally would but use grep or lgrep to</span></span>
<span id="cb339-8"><a href="#cb339-8" aria-hidden="true" tabindex="-1"></a><span class="co">#      return either the row numbers or TRUE/FALSE</span></span>
<span id="cb339-9"><a href="#cb339-9" aria-hidden="true" tabindex="-1"></a><span class="co">#      values that identify the rows to be displayed.</span></span>
<span id="cb339-10"><a href="#cb339-10" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb339-11"><a href="#cb339-11" aria-hidden="true" tabindex="-1"></a><span class="co">#   b. Remember that you are NOT told what the column names are. Therefore you</span></span>
<span id="cb339-12"><a href="#cb339-12" aria-hidden="true" tabindex="-1"></a><span class="co">#      must use a number to stipulate the first column and NOT a column name.</span></span>
<span id="cb339-13"><a href="#cb339-13" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb339-14"><a href="#cb339-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb339-15"><a href="#cb339-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Use this example data</span></span>
<span id="cb339-16"><a href="#cb339-16" aria-hidden="true" tabindex="-1"></a>df <span class="ot">=</span> <span class="fu">data.frame</span>( <span class="at">partNum =</span> <span class="fu">c</span>(<span class="st">"ax4321"</span>, <span class="st">"az12"</span>, <span class="st">"bx1234"</span>, <span class="st">"bw987"</span>),</span>
<span id="cb339-17"><a href="#cb339-17" aria-hidden="true" tabindex="-1"></a>                 <span class="at">partName =</span> <span class="fu">c</span>(<span class="st">"widget"</span>,<span class="st">"thingie"</span>,<span class="st">"gadget"</span>,<span class="st">"gizmo"</span>),</span>
<span id="cb339-18"><a href="#cb339-18" aria-hidden="true" tabindex="-1"></a>                 <span class="at">price =</span>    <span class="fu">c</span>(<span class="fl">0.50</span>, <span class="fl">0.60</span>, <span class="fl">1.70</span>, <span class="fl">0.80</span>),</span>
<span id="cb339-19"><a href="#cb339-19" aria-hidden="true" tabindex="-1"></a>                 <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb339-20"><a href="#cb339-20" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  partNum partName price
1  ax4321   widget   0.5
2    az12  thingie   0.6
3  bx1234   gadget   1.7
4   bw987    gizmo   0.8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb341"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb341-1"><a href="#cb341-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the rows that contain "x" as the 2nd character in the partNum</span></span>
<span id="cb341-2"><a href="#cb341-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb341-3"><a href="#cb341-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb341-4"><a href="#cb341-4" aria-hidden="true" tabindex="-1"></a><span class="co"># One answer - using grep</span></span>
<span id="cb341-5"><a href="#cb341-5" aria-hidden="true" tabindex="-1"></a>df[ <span class="fu">grep</span> ( <span class="st">"^.x"</span>, df<span class="sc">$</span>partNum , <span class="at">ignore.case=</span><span class="cn">TRUE</span> ) ,   ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  partNum partName price
1  ax4321   widget   0.5
3  bx1234   gadget   1.7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb343"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb343-1"><a href="#cb343-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Another answer - using grepl</span></span>
<span id="cb343-2"><a href="#cb343-2" aria-hidden="true" tabindex="-1"></a>df[ <span class="fu">grepl</span> ( <span class="st">"^.x"</span>, df<span class="sc">$</span>partNum , <span class="at">ignore.case=</span><span class="cn">TRUE</span> ) ,   ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  partNum partName price
1  ax4321   widget   0.5
3  bx1234   gadget   1.7</code></pre>
</div>
</div>
</section>
<section id="example-4" class="level3" data-number="20.18.5">
<h3 data-number="20.18.5" class="anchored" data-anchor-id="example-4"><span class="header-section-number">20.18.5</span> example</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb345"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb345-1"><a href="#cb345-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb345-2"><a href="#cb345-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb345-3"><a href="#cb345-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Using the same data as above, only show those rows that contain an "x"</span></span>
<span id="cb345-4"><a href="#cb345-4" aria-hidden="true" tabindex="-1"></a><span class="co"># in the 2nd character of the partNum whose price is also less than 1.</span></span>
<span id="cb345-5"><a href="#cb345-5" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb345-6"><a href="#cb345-6" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  partNum partName price
1  ax4321   widget   0.5
2    az12  thingie   0.6
3  bx1234   gadget   1.7
4   bw987    gizmo   0.8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb347"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb347-1"><a href="#cb347-1" aria-hidden="true" tabindex="-1"></a>df[ <span class="fu">grepl</span> ( <span class="st">"^.x"</span>, df<span class="sc">$</span>partNum , <span class="at">ignore.case=</span><span class="cn">TRUE</span> ) <span class="sc">&amp;</span> df<span class="sc">$</span>price <span class="sc">&lt;</span> <span class="dv">1</span> ,   ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  partNum partName price
1  ax4321   widget   0.5</code></pre>
</div>
</div>
</section>
</section>
<section id="quantifiers-nm-n-n" class="level2" data-number="20.19">
<h2 data-number="20.19" class="anchored" data-anchor-id="quantifiers-nm-n-n"><span class="header-section-number">20.19</span> Quantifiers: {n,m} {n} {n,} + * ?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb349"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb349-1"><a href="#cb349-1" aria-hidden="true" tabindex="-1"></a><span class="co">#@ Quantifiers: {n,m}  {n}  {n,}  +  *  ?  ####</span></span>
<span id="cb349-2"><a href="#cb349-2" aria-hidden="true" tabindex="-1"></a><span class="co">#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span id="cb349-3"><a href="#cb349-3" aria-hidden="true" tabindex="-1"></a><span class="co">#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span id="cb349-4"><a href="#cb349-4" aria-hidden="true" tabindex="-1"></a><span class="co">#@</span></span>
<span id="cb349-5"><a href="#cb349-5" aria-hidden="true" tabindex="-1"></a><span class="co">#@ Quantifiers are symbols in the pattern that identify how many repetetitions</span></span>
<span id="cb349-6"><a href="#cb349-6" aria-hidden="true" tabindex="-1"></a><span class="co">#@ to look for of a particular sub-pattern. The quantifiers include</span></span>
<span id="cb349-7"><a href="#cb349-7" aria-hidden="true" tabindex="-1"></a><span class="co">#@</span></span>
<span id="cb349-8"><a href="#cb349-8" aria-hidden="true" tabindex="-1"></a><span class="co">#@   SOME_SUB_PATTERN{n,m}    (where n and m are numbers)</span></span>
<span id="cb349-9"><a href="#cb349-9" aria-hidden="true" tabindex="-1"></a><span class="co">#@   SOME_SUB_PATTERN{n}      (where n is a number)</span></span>
<span id="cb349-10"><a href="#cb349-10" aria-hidden="true" tabindex="-1"></a><span class="co">#@   SOME_SUB_PATTERN{n,}      (where n is a number)</span></span>
<span id="cb349-11"><a href="#cb349-11" aria-hidden="true" tabindex="-1"></a><span class="co">#@   SOME_SUB_PATTERN+</span></span>
<span id="cb349-12"><a href="#cb349-12" aria-hidden="true" tabindex="-1"></a><span class="co">#@   SOME_SUB_PATTERN*</span></span>
<span id="cb349-13"><a href="#cb349-13" aria-hidden="true" tabindex="-1"></a><span class="co">#@   SOME_SUB_PATTERN?</span></span>
<span id="cb349-14"><a href="#cb349-14" aria-hidden="true" tabindex="-1"></a><span class="co">#@</span></span>
<span id="cb349-15"><a href="#cb349-15" aria-hidden="true" tabindex="-1"></a><span class="co">#@ See below for an explanation of each type of quantifier.</span></span>
<span id="cb349-16"><a href="#cb349-16" aria-hidden="true" tabindex="-1"></a><span class="co">#@</span></span>
<span id="cb349-17"><a href="#cb349-17" aria-hidden="true" tabindex="-1"></a><span class="co">#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span id="cb349-18"><a href="#cb349-18" aria-hidden="true" tabindex="-1"></a><span class="co">#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="quantifiers-with-curly-braces-eg.-3-25-3" class="level3" data-number="20.19.1">
<h3 data-number="20.19.1" class="anchored" data-anchor-id="quantifiers-with-curly-braces-eg.-3-25-3"><span class="header-section-number">20.19.1</span> Quantifiers with {curly braces} eg. {3} {2,5} {3,}</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb350"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb350-1"><a href="#cb350-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Quantifiers with {curly braces}   eg. {3}   {2,5}   {3,}   ####</span></span>
<span id="cb350-2"><a href="#cb350-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb350-3"><a href="#cb350-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb350-4"><a href="#cb350-4" aria-hidden="true" tabindex="-1"></a><span class="co">#    SOME_PATTERN{3}       three matches in a row</span></span>
<span id="cb350-5"><a href="#cb350-5" aria-hidden="true" tabindex="-1"></a><span class="co">#    SOME_PATTERN{3,6}     between three and six matches in a row</span></span>
<span id="cb350-6"><a href="#cb350-6" aria-hidden="true" tabindex="-1"></a><span class="co">#    SOME_PATTERN{3,}      at least 3 matches in a row</span></span>
<span id="cb350-7"><a href="#cb350-7" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb350-8"><a href="#cb350-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb350-9"><a href="#cb350-9" aria-hidden="true" tabindex="-1"></a><span class="co"># EXAMPLE</span></span>
<span id="cb350-10"><a href="#cb350-10" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb350-11"><a href="#cb350-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb350-12"><a href="#cb350-12" aria-hidden="true" tabindex="-1"></a><span class="co"># "[0-9]{4}" matches 4 digits in a row, same as "[0-9][0-9][0-9][0-9]"</span></span>
<span id="cb350-13"><a href="#cb350-13" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb350-14"><a href="#cb350-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that this will also return those entries that have more than 4 digits</span></span>
<span id="cb350-15"><a href="#cb350-15" aria-hidden="true" tabindex="-1"></a><span class="co"># in a row since these entries ALSO have 4 digits in a row (plus some extra</span></span>
<span id="cb350-16"><a href="#cb350-16" aria-hidden="true" tabindex="-1"></a><span class="co"># digits)</span></span>
<span id="cb350-17"><a href="#cb350-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb350-18"><a href="#cb350-18" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[0-9]{4}"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># 4 digits , same as "[0-9][0-9][0-9][0-9]"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "12345 Sesame Street"         "5678 Park Place"            
[3] "Three Main Street Apt 12343"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb352"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb352-1"><a href="#cb352-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that if we use gsub, only the first 4 digits will be substituted.</span></span>
<span id="cb352-2"><a href="#cb352-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[0-9]{4}"</span>, <span class="st">"xxxx"</span>, addresses)  <span class="co"># 4 digits , same as "[0-9][0-9][0-9][0-9]"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "xxxx5 Sesame Street"               "One Micro$oft Way"                
 [3] "3 Olive St."                       "Two 1st Ave."                     
 [5] "xxxx Park Place"                   "Forty Five 2nd Street"            
 [7] "Ninety Nine Cone St. apartment 7"  "9 Main St. apt. 623"              
 [9] "Five Google Drive"                 "4\\2 Rechov Yafo"                 
[11] "Fifteen Watchamacallit Boulevard"  "Nineteen Watchamacallit Boulevard"
[13] "One Main Street Apt 12b"           "Two Main Street Apt 123c"         
[15] "Three Main Street Apt xxxx3"       "City Hall Lockport, NY"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb354"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb354-1"><a href="#cb354-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[0-9]{3}"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># 3 digits </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "12345 Sesame Street"         "5678 Park Place"            
[3] "9 Main St. apt. 623"         "Two Main Street Apt 123c"   
[5] "Three Main Street Apt 12343"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb356"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb356-1"><a href="#cb356-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that if we use gsub, only the first 3 digits will be substituted.</span></span>
<span id="cb356-2"><a href="#cb356-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[0-9]{3}"</span>, <span class="st">"xxxx"</span>, addresses)  <span class="co"># 4 digits , same as "[0-9][0-9][0-9][0-9]"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "xxxx45 Sesame Street"              "One Micro$oft Way"                
 [3] "3 Olive St."                       "Two 1st Ave."                     
 [5] "xxxx8 Park Place"                  "Forty Five 2nd Street"            
 [7] "Ninety Nine Cone St. apartment 7"  "9 Main St. apt. xxxx"             
 [9] "Five Google Drive"                 "4\\2 Rechov Yafo"                 
[11] "Fifteen Watchamacallit Boulevard"  "Nineteen Watchamacallit Boulevard"
[13] "One Main Street Apt 12b"           "Two Main Street Apt xxxxc"        
[15] "Three Main Street Apt xxxx43"      "City Hall Lockport, NY"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb358"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb358-1"><a href="#cb358-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[0-9]{3}"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># 3 digits </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "12345 Sesame Street"         "5678 Park Place"            
[3] "9 Main St. apt. 623"         "Two Main Street Apt 123c"   
[5] "Three Main Street Apt 12343"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb360"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb360-1"><a href="#cb360-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">b[0-9]{3}</span><span class="sc">\\</span><span class="st">b"</span>, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># 3 digits </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "9 Main St. apt. 623"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb362"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb362-1"><a href="#cb362-1" aria-hidden="true" tabindex="-1"></a><span class="co"># EXAMPLE</span></span>
<span id="cb362-2"><a href="#cb362-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb362-3"><a href="#cb362-3" aria-hidden="true" tabindex="-1"></a><span class="co"># match a word that is exactly 4 letters long</span></span>
<span id="cb362-4"><a href="#cb362-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb362-5"><a href="#cb362-5" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">=</span> </span>
<span id="cb362-6"><a href="#cb362-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span> (<span class="st">"^[a-zA-Z]{4}[^a-zA-Z]"</span>,</span>
<span id="cb362-7"><a href="#cb362-7" aria-hidden="true" tabindex="-1"></a>          <span class="st">"|[^a-zA-Z][a-zA-Z]{4}[^a-zA-Z]"</span>,</span>
<span id="cb362-8"><a href="#cb362-8" aria-hidden="true" tabindex="-1"></a>          <span class="st">"|[^a-zA-Z][a-zA-Z]{4}$"</span>,</span>
<span id="cb362-9"><a href="#cb362-9" aria-hidden="true" tabindex="-1"></a>          <span class="st">"|^[a-zA-Z]{4}$"</span>)</span>
<span id="cb362-10"><a href="#cb362-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb362-11"><a href="#cb362-11" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">=</span></span>
<span id="cb362-12"><a href="#cb362-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span> (<span class="st">"</span><span class="sc">\\</span><span class="st">b[a-zA-Z]{4}</span><span class="sc">\\</span><span class="st">b"</span>)</span>
<span id="cb362-13"><a href="#cb362-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb362-14"><a href="#cb362-14" aria-hidden="true" tabindex="-1"></a><span class="co"># use the same pattern for both addressess and fruit</span></span>
<span id="cb362-15"><a href="#cb362-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb362-16"><a href="#cb362-16" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "5678 Park Place"                  "Forty Five 2nd Street"           
 [3] "Ninety Nine Cone St. apartment 7" "9 Main St. apt. 623"             
 [5] "Five Google Drive"                "4\\2 Rechov Yafo"                
 [7] "One Main Street Apt 12b"          "Two Main Street Apt 123c"        
 [9] "Three Main Street Apt 12343"      "City Hall Lockport, NY"          </code></pre>
</div>
<div class="sourceCode cell-code" id="cb364"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb364-1"><a href="#cb364-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "star fruit"        "pear"              "prickly pear"     
[4] "Beurre Hardy pear" "plum"             </code></pre>
</div>
<div class="sourceCode cell-code" id="cb366"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb366-1"><a href="#cb366-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Another way - using \b</span></span>
<span id="cb366-2"><a href="#cb366-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">=</span> <span class="st">"</span><span class="sc">\\</span><span class="st">b[a-zA-Z]{4}</span><span class="sc">\\</span><span class="st">b"</span></span>
<span id="cb366-3"><a href="#cb366-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "5678 Park Place"                  "Forty Five 2nd Street"           
 [3] "Ninety Nine Cone St. apartment 7" "9 Main St. apt. 623"             
 [5] "Five Google Drive"                "4\\2 Rechov Yafo"                
 [7] "One Main Street Apt 12b"          "Two Main Street Apt 123c"        
 [9] "Three Main Street Apt 12343"      "City Hall Lockport, NY"          </code></pre>
</div>
<div class="sourceCode cell-code" id="cb368"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb368-1"><a href="#cb368-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use a text editor (e.g. the one in RStudio) to see how this works ...</span></span>
<span id="cb368-2"><a href="#cb368-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb368-3"><a href="#cb368-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Paste the following in the text editor to see how this pattern works.</span></span>
<span id="cb368-4"><a href="#cb368-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb368-5"><a href="#cb368-5" aria-hidden="true" tabindex="-1"></a><span class="co">#  \b[a-zA-Z]{4}\b</span></span>
<span id="cb368-6"><a href="#cb368-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb368-7"><a href="#cb368-7" aria-hidden="true" tabindex="-1"></a><span class="co"># This will match any 4 character word. It will NOT match 3 or 5 character words.</span></span>
<span id="cb368-8"><a href="#cb368-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that in VS Code you should use only one backslash (i.e. \b ) but in R</span></span>
<span id="cb368-9"><a href="#cb368-9" aria-hidden="true" tabindex="-1"></a><span class="co"># you would use two backslashes (i.e. \\b ) as explained above.</span></span>
<span id="cb368-10"><a href="#cb368-10" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb369"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb369-1"><a href="#cb369-1" aria-hidden="true" tabindex="-1"></a><span class="co"># match a word that is at least 4 letters long</span></span>
<span id="cb369-2"><a href="#cb369-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Use {4,} instead of {4}</span></span>
<span id="cb369-3"><a href="#cb369-3" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb369-4"><a href="#cb369-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Paste this into VSCode regex search.</span></span>
<span id="cb369-5"><a href="#cb369-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   ^[a-zA-Z]{4,}[^a-zA-Z]|[^a-zA-Z][a-zA-Z]{4,}[^a-zA-Z]|[^a-zA-Z][a-zA-Z]{4,}$|^[a-zA-Z]{4,}$</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb370"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb370-1"><a href="#cb370-1" aria-hidden="true" tabindex="-1"></a><span class="co"># match a word that is at least 3,4 or 5 letters long</span></span>
<span id="cb370-2"><a href="#cb370-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Use {3,5} instead of {4}</span></span>
<span id="cb370-3"><a href="#cb370-3" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb370-4"><a href="#cb370-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Paste this into VSCode regex search.</span></span>
<span id="cb370-5"><a href="#cb370-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   ^[a-zA-Z]{3,5}[^a-zA-Z]|[^a-zA-Z][a-zA-Z]{3,5}[^a-zA-Z]|[^a-zA-Z][a-zA-Z]{3,5}$|^[a-zA-Z]{3,5}$</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb371"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb371-1"><a href="#cb371-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANOTHER EXAMPLE</span></span>
<span id="cb371-2"><a href="#cb371-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb371-3"><a href="#cb371-3" aria-hidden="true" tabindex="-1"></a><span class="co"># match a word that is exactly 7 letters long</span></span>
<span id="cb371-4"><a href="#cb371-4" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">=</span> </span>
<span id="cb371-5"><a href="#cb371-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span> (<span class="st">"^[a-zA-Z]{7}[^a-zA-Z]"</span>,</span>
<span id="cb371-6"><a href="#cb371-6" aria-hidden="true" tabindex="-1"></a>          <span class="st">"|[^a-zA-Z][a-zA-Z]{7}[^a-zA-Z]"</span>,</span>
<span id="cb371-7"><a href="#cb371-7" aria-hidden="true" tabindex="-1"></a>          <span class="st">"|[^a-zA-Z][a-zA-Z]{7}$"</span>,</span>
<span id="cb371-8"><a href="#cb371-8" aria-hidden="true" tabindex="-1"></a>          <span class="st">"|^[a-zA-Z]{7}$"</span>)</span>
<span id="cb371-9"><a href="#cb371-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb371-10"><a href="#cb371-10" aria-hidden="true" tabindex="-1"></a><span class="co"># use the same pattern for both addresses and fruit</span></span>
<span id="cb371-11"><a href="#cb371-11" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Fifteen Watchamacallit Boulevard"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb373"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb373-1"><a href="#cb373-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "prickly pear" "kumquat"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb375"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb375-1"><a href="#cb375-1" aria-hidden="true" tabindex="-1"></a><span class="co"># match any word that is between 4 and 7 letters long</span></span>
<span id="cb375-2"><a href="#cb375-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">=</span> </span>
<span id="cb375-3"><a href="#cb375-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span> (<span class="st">"^[a-zA-Z]{4,7}[^a-zA-Z]"</span>,</span>
<span id="cb375-4"><a href="#cb375-4" aria-hidden="true" tabindex="-1"></a>          <span class="st">"|[^a-zA-Z][a-zA-Z]{4,7}[^a-zA-Z]"</span>,</span>
<span id="cb375-5"><a href="#cb375-5" aria-hidden="true" tabindex="-1"></a>          <span class="st">"|[^a-zA-Z][a-zA-Z]{4,7}$"</span>,</span>
<span id="cb375-6"><a href="#cb375-6" aria-hidden="true" tabindex="-1"></a>          <span class="st">"|^[a-zA-Z]{4,7}$"</span>)</span>
<span id="cb375-7"><a href="#cb375-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb375-8"><a href="#cb375-8" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "12345 Sesame Street"              "One Micro$oft Way"               
 [3] "3 Olive St."                      "5678 Park Place"                 
 [5] "Forty Five 2nd Street"            "Ninety Nine Cone St. apartment 7"
 [7] "9 Main St. apt. 623"              "Five Google Drive"               
 [9] "4\\2 Rechov Yafo"                 "Fifteen Watchamacallit Boulevard"
[11] "One Main Street Apt 12b"          "Two Main Street Apt 123c"        
[13] "Three Main Street Apt 12343"      "City Hall Lockport, NY"          </code></pre>
</div>
<div class="sourceCode cell-code" id="cb377"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb377-1"><a href="#cb377-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)      <span class="co"># ... "apple" ... "peach" ... (5 letter long words too)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "apple"             "N. American apple" "S. Korean Fig"    
 [4] "star fruit"        "pear"              "prickly pear"     
 [7] "Beurre Hardy pear" "cherry"            "black cherry"     
[10] "peach"             "plum"              "kumquat"          
[13] "banana"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb379"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb379-1"><a href="#cb379-1" aria-hidden="true" tabindex="-1"></a><span class="co"># match a word that is at least 7 letters long</span></span>
<span id="cb379-2"><a href="#cb379-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">=</span> </span>
<span id="cb379-3"><a href="#cb379-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span> (<span class="st">"^[a-zA-Z]{7,}[^a-zA-Z]"</span>,</span>
<span id="cb379-4"><a href="#cb379-4" aria-hidden="true" tabindex="-1"></a>          <span class="st">"|[^a-zA-Z][a-zA-Z]{7,}[^a-zA-Z]"</span>,</span>
<span id="cb379-5"><a href="#cb379-5" aria-hidden="true" tabindex="-1"></a>          <span class="st">"|[^a-zA-Z][a-zA-Z]{7,}$"</span>,</span>
<span id="cb379-6"><a href="#cb379-6" aria-hidden="true" tabindex="-1"></a>          <span class="st">"|^[a-zA-Z]{7,}$"</span>)</span>
<span id="cb379-7"><a href="#cb379-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb379-8"><a href="#cb379-8" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Ninety Nine Cone St. apartment 7"  "Fifteen Watchamacallit Boulevard" 
[3] "Nineteen Watchamacallit Boulevard" "City Hall Lockport, NY"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb381"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb381-1"><a href="#cb381-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "N. American apple" "prickly pear"      "kumquat"          
[4] "blueberry"         "strawberry"        "honeydew"         
[7] "strawberries"      "yumberry"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb383"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb383-1"><a href="#cb383-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exactly 3 digits (see example in last section of exactly one digit)</span></span>
<span id="cb383-2"><a href="#cb383-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb383-3"><a href="#cb383-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"^[0-9]{3}[^0-9]"</span>,</span>
<span id="cb383-4"><a href="#cb383-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"|[^0-9][0-9]{3}[^0-9]"</span>,</span>
<span id="cb383-5"><a href="#cb383-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"|[^0-9][0-9]{3}$"</span>,</span>
<span id="cb383-6"><a href="#cb383-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"|^[0-9]{3}$"</span></span>
<span id="cb383-7"><a href="#cb383-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb383-8"><a href="#cb383-8" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, addresses, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "9 Main St. apt. 623"      "Two Main Street Apt 123c"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb385"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb385-1"><a href="#cb385-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[^aeiou]{5}"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># at least 5 non vowels in a row</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "N. American apple" "prickly pear"      "Beurre Hardy pear"
[4] "black cherry"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb387"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb387-1"><a href="#cb387-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[^aeiou]{6}"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># at least 6 non vowels in a row</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "prickly pear"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb389"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb389-1"><a href="#cb389-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[^aeiou]{7}"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># at least 7 non vowels in a row</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>character(0)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb391"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb391-1"><a href="#cb391-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^.[aeiou]{2}"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># vowels in the 2nd and 3rd positions</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "pear"              "Beurre Hardy pear" "peach"            </code></pre>
</div>
<div class="sourceCode cell-code" id="cb393"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb393-1"><a href="#cb393-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"[aeiou]{2}.$"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)  <span class="co"># 2nd &amp; 3rd to last characters are vowels</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "star fruit"        "pear"              "prickly pear"     
[4] "Beurre Hardy pear" "kumquat"           "strawberries"     </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb395"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb395-1"><a href="#cb395-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb395-2"><a href="#cb395-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Search for fruit that are 4 or 6 letters long.</span></span>
<span id="cb395-3"><a href="#cb395-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb395-4"><a href="#cb395-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb395-5"><a href="#cb395-5" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"^[a-zA-Z]{4}$|^[a-zA-Z]{6}$"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "pear"   "cherry" "plum"   "banana"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb397"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb397-1"><a href="#cb397-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"(^[a-zA-Z]{4}$)|(^[a-zA-Z]{6}$)"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "pear"   "cherry" "plum"   "banana"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb399"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb399-1"><a href="#cb399-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"^(([a-zA-Z]{4})|([a-zA-Z]{6}))$"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "pear"   "cherry" "plum"   "banana"</code></pre>
</div>
</div>
</section>
</section>
<section id="quantifiers-with-and" class="level2" data-number="20.20">
<h2 data-number="20.20" class="anchored" data-anchor-id="quantifiers-with-and"><span class="header-section-number">20.20</span> Quantifiers with * + and ?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb401"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb401-1"><a href="#cb401-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Quantifiers with    *   +  and  ?  ####</span></span>
<span id="cb401-2"><a href="#cb401-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb401-3"><a href="#cb401-3" aria-hidden="true" tabindex="-1"></a><span class="co">#      PATTERN* is the same as PATTERN{0,}  i.e. zero or more repetitions</span></span>
<span id="cb401-4"><a href="#cb401-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb401-5"><a href="#cb401-5" aria-hidden="true" tabindex="-1"></a><span class="co">#      PATTERN+ is the same as PATTERN{1,}  i.e. one or more repetitions</span></span>
<span id="cb401-6"><a href="#cb401-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb401-7"><a href="#cb401-7" aria-hidden="true" tabindex="-1"></a><span class="co">#      PATTERN? is the same as PATTERN{0,1}</span></span>
<span id="cb401-8"><a href="#cb401-8" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb401-9"><a href="#cb401-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb401-10"><a href="#cb401-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb401-11"><a href="#cb401-11" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^[^aeiouAEIOU].*[^aeiouAEIOU]$"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>) <span class="co"># start and end with non-vowel </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "S. Korean Fig"     "fig"               "star fruit"       
 [4] "pear"              "prickly pear"      "Beurre Hardy pear"
 [7] "cherry"            "black cherry"      "peach"            
[10] "plum"              "kumquat"           "blueberry"        
[13] "strawberry"        "honeydew"          "strawberries"     
[16] "yumberry"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb403"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb403-1"><a href="#cb403-1" aria-hidden="true" tabindex="-1"></a><span class="co"># match at least two spaces in the text (including just two spaces)</span></span>
<span id="cb403-2"><a href="#cb403-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">=</span> <span class="st">".* .* .*"</span>       </span>
<span id="cb403-3"><a href="#cb403-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb403-4"><a href="#cb403-4" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">=</span> <span class="st">".*e.*e.*"</span>       </span>
<span id="cb403-5"><a href="#cb403-5" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, fruit, <span class="at">value=</span><span class="cn">TRUE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "N. American apple" "Beurre Hardy pear" "blueberry"        
[4] "honeydew"          "strawberries"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb405"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb405-1"><a href="#cb405-1" aria-hidden="true" tabindex="-1"></a>spacesStuff <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"nospaces"</span>,</span>
<span id="cb405-2"><a href="#cb405-2" aria-hidden="true" tabindex="-1"></a>          <span class="st">"this has three spaces"</span>,</span>
<span id="cb405-3"><a href="#cb405-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"just two spaces"</span>, </span>
<span id="cb405-4"><a href="#cb405-4" aria-hidden="true" tabindex="-1"></a>          <span class="st">"one space"</span>, </span>
<span id="cb405-5"><a href="#cb405-5" aria-hidden="true" tabindex="-1"></a>          <span class="st">"two  spaces"</span>, </span>
<span id="cb405-6"><a href="#cb405-6" aria-hidden="true" tabindex="-1"></a>          <span class="st">"three   spaces"</span>, </span>
<span id="cb405-7"><a href="#cb405-7" aria-hidden="true" tabindex="-1"></a>          <span class="st">""</span>,</span>
<span id="cb405-8"><a href="#cb405-8" aria-hidden="true" tabindex="-1"></a>          <span class="st">" "</span>, </span>
<span id="cb405-9"><a href="#cb405-9" aria-hidden="true" tabindex="-1"></a>          <span class="st">"  "</span>, </span>
<span id="cb405-10"><a href="#cb405-10" aria-hidden="true" tabindex="-1"></a>          <span class="st">"   "</span>)</span>
<span id="cb405-11"><a href="#cb405-11" aria-hidden="true" tabindex="-1"></a>spacesStuff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "nospaces"              "this has three spaces" "just two spaces"      
 [4] "one space"             "two  spaces"           "three   spaces"       
 [7] ""                      " "                     "  "                   
[10] "   "                  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb407"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb407-1"><a href="#cb407-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, spacesStuff, <span class="at">value=</span><span class="cn">TRUE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "this has three spaces" "one space"             "three   spaces"       </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb409"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb409-1"><a href="#cb409-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb409-2"><a href="#cb409-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb409-3"><a href="#cb409-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Find solutions for the questions at the website.</span></span>
<span id="cb409-4"><a href="#cb409-4" aria-hidden="true" tabindex="-1"></a><span class="co"># The website is free to use.</span></span>
<span id="cb409-5"><a href="#cb409-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb409-6"><a href="#cb409-6" aria-hidden="true" tabindex="-1"></a><span class="co">#         http://play.inginf.units.it/</span></span>
<span id="cb409-7"><a href="#cb409-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb409-8"><a href="#cb409-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. When you get to this page, scroll all the way to the bottom.</span></span>
<span id="cb409-9"><a href="#cb409-9" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb409-10"><a href="#cb409-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. You will be prompted for your "regex skill level" and other basic signup</span></span>
<span id="cb409-11"><a href="#cb409-11" aria-hidden="true" tabindex="-1"></a><span class="co">#    info. It, seems that you must fill in this info in order for the example</span></span>
<span id="cb409-12"><a href="#cb409-12" aria-hidden="true" tabindex="-1"></a><span class="co">#    questions to work correctly. However, the exact answers to these questions</span></span>
<span id="cb409-13"><a href="#cb409-13" aria-hidden="true" tabindex="-1"></a><span class="co">#    don't seem to matter (it seems that you get the same questions no </span></span>
<span id="cb409-14"><a href="#cb409-14" aria-hidden="true" tabindex="-1"></a><span class="co">#    matter what "skill level" you choose)</span></span>
<span id="cb409-15"><a href="#cb409-15" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb409-16"><a href="#cb409-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Press the "Next" button.</span></span>
<span id="cb409-17"><a href="#cb409-17" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb409-18"><a href="#cb409-18" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. You will then be prompted with a list of regex metacharacters </span></span>
<span id="cb409-19"><a href="#cb409-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Some of these are a little challenging: http://play.inginf.units.it/#/</span></span>
<span id="cb409-20"><a href="#cb409-20" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb409-21"><a href="#cb409-21" aria-hidden="true" tabindex="-1"></a><span class="co"># You can find sample answers here: https://avicoder.me/2019/01/21/regex-fun/</span></span>
<span id="cb409-22"><a href="#cb409-22" aria-hidden="true" tabindex="-1"></a><span class="co"># There could definitely be other valid answers.</span></span>
<span id="cb409-23"><a href="#cb409-23" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb409-24"><a href="#cb409-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb409-25"><a href="#cb409-25" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWERS THAT WE DID TOGETHER IN CLASS</span></span>
<span id="cb409-26"><a href="#cb409-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb409-27"><a href="#cb409-27" aria-hidden="true" tabindex="-1"></a><span class="co"># level 1</span></span>
<span id="cb409-28"><a href="#cb409-28" aria-hidden="true" tabindex="-1"></a><span class="co">#   \d+</span></span>
<span id="cb409-29"><a href="#cb409-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb409-30"><a href="#cb409-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb409-31"><a href="#cb409-31" aria-hidden="true" tabindex="-1"></a><span class="co"># level 2</span></span>
<span id="cb409-32"><a href="#cb409-32" aria-hidden="true" tabindex="-1"></a><span class="co">#   [a-zA-Z0-9]{2}:[a-zA-Z0-9]{2}:[a-zA-Z0-9]{2}:[a-zA-Z0-9]{2}:[a-zA-Z0-9]{2}:[a-zA-Z0-9]{2}</span></span>
<span id="cb409-33"><a href="#cb409-33" aria-hidden="true" tabindex="-1"></a><span class="co">#   ([a-zA-Z0-9]{2}:){5}[a-zA-Z0-9]{2}</span></span>
<span id="cb409-34"><a href="#cb409-34" aria-hidden="true" tabindex="-1"></a><span class="co">#   ([0-9a-zA-Z][0-9a-zA-Z]:){5}[0-9a-zA-Z][0-9a-zA-Z]</span></span>
<span id="cb409-35"><a href="#cb409-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb409-36"><a href="#cb409-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb409-37"><a href="#cb409-37" aria-hidden="true" tabindex="-1"></a><span class="co"># level 3</span></span>
<span id="cb409-38"><a href="#cb409-38" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb409-39"><a href="#cb409-39" aria-hidden="true" tabindex="-1"></a><span class="co">#   ftp://ftp[^.]*\.[a-zA-Z]+\.[a-zA-Z]+(\.[a-zA-Z]+)?/pub/FreeBSD/</span></span>
<span id="cb409-40"><a href="#cb409-40" aria-hidden="true" tabindex="-1"></a><span class="co">#   ftp://ftp[^.]*(\.[a-zA-Z]+)+/pub/FreeBSD/</span></span>
<span id="cb409-41"><a href="#cb409-41" aria-hidden="true" tabindex="-1"></a><span class="co">#   ftp://ftp\d*(\.[a-zA-Z]+)+/pub/FreeBSD/</span></span>
<span id="cb409-42"><a href="#cb409-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb409-43"><a href="#cb409-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb409-44"><a href="#cb409-44" aria-hidden="true" tabindex="-1"></a><span class="co"># level 4</span></span>
<span id="cb409-45"><a href="#cb409-45" aria-hidden="true" tabindex="-1"></a><span class="co">#   \$[^$]+\$</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="gsub-works-with-patterns" class="level2" data-number="20.21">
<h2 data-number="20.21" class="anchored" data-anchor-id="gsub-works-with-patterns"><span class="header-section-number">20.21</span> gsub works with patterns</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb410"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb410-1"><a href="#cb410-1" aria-hidden="true" tabindex="-1"></a><span class="co"># gsub ####</span></span>
<span id="cb410-2"><a href="#cb410-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb410-3"><a href="#cb410-3" aria-hidden="true" tabindex="-1"></a><span class="co"># gsub works with patterns</span></span>
<span id="cb410-4"><a href="#cb410-4" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb410-5"><a href="#cb410-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb410-6"><a href="#cb410-6" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[aeiou]"</span>, <span class="st">"x"</span>, fruit)   <span class="co"># replace all vowels with x's</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "xpplx"             "N. Amxrxcxn xpplx" "S. Kxrxxn Fxg"    
 [4] "fxg"               "stxr frxxt"        "pxxr"             
 [7] "prxckly pxxr"      "Bxxrrx Hxrdy pxxr" "chxrry"           
[10] "blxck chxrry"      "pxxch"             "plxm"             
[13] "kxmqxxt"           "bxnxnx"            "blxxbxrry"        
[16] "strxwbxrry"        "hxnxydxw"          "strxwbxrrxxs"     
[19] "yxmbxrry"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb412"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb412-1"><a href="#cb412-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[^aeiou]"</span>, <span class="st">"x"</span>, fruit)   <span class="co"># replace all non-vowels with x's</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "axxxe"             "xxxxxexixaxxaxxxe" "xxxxoxeaxxxix"    
 [4] "xix"               "xxaxxxxuix"        "xeax"             
 [7] "xxixxxxxxeax"      "xeuxxexxaxxxxxeax" "xxexxx"           
[10] "xxaxxxxxexxx"      "xeaxx"             "xxux"             
[13] "xuxxuax"           "xaxaxa"            "xxuexexxx"        
[16] "xxxaxxexxx"        "xoxexxex"          "xxxaxxexxiex"     
[19] "xuxxexxx"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb414"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb414-1"><a href="#cb414-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[^aeiou]+"</span>, <span class="st">"x"</span>, fruit)   <span class="co"># replace one or more non-vowels with a single x</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "axe"         "xexixaxaxe"  "xoxeaxix"    "xix"         "xaxuix"     
 [6] "xeax"        "xixeax"      "xeuxexaxeax" "xex"         "xaxex"      
[11] "xeax"        "xux"         "xuxuax"      "xaxaxa"      "xuexex"     
[16] "xaxex"       "xoxexex"     "xaxexiex"    "xuxex"      </code></pre>
</div>
<div class="sourceCode cell-code" id="cb416"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb416-1"><a href="#cb416-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[^aeiou]*"</span>, <span class="st">"x"</span>, fruit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "xaxex"         "xexixaxaxex"   "xoxexaxix"     "xix"          
 [5] "xaxuxix"       "xexax"         "xixexax"       "xexuxexaxexax"
 [9] "xex"           "xaxex"         "xexax"         "xux"          
[13] "xuxuxax"       "xaxaxax"       "xuxexex"       "xaxex"        
[17] "xoxexex"       "xaxexixex"     "xuxex"        </code></pre>
</div>
<div class="sourceCode cell-code" id="cb418"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb418-1"><a href="#cb418-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[^aeiou]*"</span>, <span class="st">"x"</span>, <span class="st">"apple"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "xaxex"</code></pre>
</div>
</div>
</section>
<section id="backreferences-1-2-etc" class="level2" data-number="20.22">
<h2 data-number="20.22" class="anchored" data-anchor-id="backreferences-1-2-etc"><span class="header-section-number">20.22</span> backreferences \1 \2 etc</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb420"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb420-1"><a href="#cb420-1" aria-hidden="true" tabindex="-1"></a><span class="co"># BACKREFERENCES  ####</span></span>
<span id="cb420-2"><a href="#cb420-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb420-3"><a href="#cb420-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Parenthesized expressions in a regex can be referred "back" to </span></span>
<span id="cb420-4"><a href="#cb420-4" aria-hidden="true" tabindex="-1"></a><span class="co"># with \1, \2 ... </span></span>
<span id="cb420-5"><a href="#cb420-5" aria-hidden="true" tabindex="-1"></a><span class="co"># (remember in R you need two backslashes - i.e. \\1, \\2, ...)</span></span>
<span id="cb420-6"><a href="#cb420-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb420-7"><a href="#cb420-7" aria-hidden="true" tabindex="-1"></a><span class="co"># The original regex standard only allowed for up to nine</span></span>
<span id="cb420-8"><a href="#cb420-8" aria-hidden="true" tabindex="-1"></a><span class="co"># backreferences, ie. \1 \2 \3 ... \9  </span></span>
<span id="cb420-9"><a href="#cb420-9" aria-hidden="true" tabindex="-1"></a><span class="co"># It did not allow for \10. Some environments have ways to</span></span>
<span id="cb420-10"><a href="#cb420-10" aria-hidden="true" tabindex="-1"></a><span class="co"># allow you to reference \10 and further but I personally</span></span>
<span id="cb420-11"><a href="#cb420-11" aria-hidden="true" tabindex="-1"></a><span class="co"># don't know how to do that in R ... I guess you could </span></span>
<span id="cb420-12"><a href="#cb420-12" aria-hidden="true" tabindex="-1"></a><span class="co"># research that if you need to but it usually doesn't</span></span>
<span id="cb420-13"><a href="#cb420-13" aria-hidden="true" tabindex="-1"></a><span class="co"># come up. If it becomes an issue, there is almost always</span></span>
<span id="cb420-14"><a href="#cb420-14" aria-hidden="true" tabindex="-1"></a><span class="co"># a simple way to workaround the situation</span></span>
<span id="cb420-15"><a href="#cb420-15" aria-hidden="true" tabindex="-1"></a><span class="co"># using loops and other coding approaches.</span></span>
<span id="cb420-16"><a href="#cb420-16" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb420-17"><a href="#cb420-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb420-18"><a href="#cb420-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb420-19"><a href="#cb420-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb420-20"><a href="#cb420-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Find fruits that have 3 letters in the pattern xyx or aba</span></span>
<span id="cb420-21"><a href="#cb420-21" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"([a-z])[a-z]</span><span class="sc">\\</span><span class="st">1"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "banana"    "blueberry"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb422"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb422-1"><a href="#cb422-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> (<span class="st">"([a-z])([a-z])</span><span class="sc">\\</span><span class="st">1</span><span class="sc">\\</span><span class="st">2"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "banana"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb424"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb424-1"><a href="#cb424-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"([a-z][a-z])</span><span class="sc">\\</span><span class="st">1"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "banana"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb426"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb426-1"><a href="#cb426-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span> (<span class="st">"([a-z])([a-z])</span><span class="sc">\\</span><span class="st">1"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">2</span><span class="sc">\\</span><span class="st">1</span><span class="sc">\\</span><span class="st">2"</span>, fruit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "apple"             "N. American apple" "S. Korean Fig"    
 [4] "fig"               "star fruit"        "pear"             
 [7] "prickly pear"      "Beurre Hardy pear" "cherry"           
[10] "black cherry"      "peach"             "plum"             
[13] "kumquat"           "bnanna"            "blubebrry"        
[16] "strawberry"        "honeydew"          "strawberries"     
[19] "yumberry"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb428"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb428-1"><a href="#cb428-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"^(.)(.)(.)"</span>,   <span class="co"># reverse the first 3 characters  </span></span>
<span id="cb428-2"><a href="#cb428-2" aria-hidden="true" tabindex="-1"></a>     <span class="st">"</span><span class="sc">\\</span><span class="st">3</span><span class="sc">\\</span><span class="st">2</span><span class="sc">\\</span><span class="st">1"</span>, </span>
<span id="cb428-3"><a href="#cb428-3" aria-hidden="true" tabindex="-1"></a>     fruit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "ppale"             " .NAmerican apple" " .SKorean Fig"    
 [4] "gif"               "atsr fruit"        "aepr"             
 [7] "irpckly pear"      "ueBrre Hardy pear" "ehcrry"           
[10] "albck cherry"      "aepch"             "ulpm"             
[13] "mukquat"           "nabana"            "ulbeberry"        
[16] "rtsawberry"        "noheydew"          "rtsawberries"     
[19] "muyberry"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb430"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb430-1"><a href="#cb430-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb430-2"><a href="#cb430-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Write a command to swap the first character and last character of</span></span>
<span id="cb430-3"><a href="#cb430-3" aria-hidden="true" tabindex="-1"></a><span class="co"># each fruit</span></span>
<span id="cb430-4"><a href="#cb430-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb430-5"><a href="#cb430-5" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">"^(.)(.*)(.)$"</span> , <span class="st">"</span><span class="sc">\\</span><span class="st">3</span><span class="sc">\\</span><span class="st">2</span><span class="sc">\\</span><span class="st">1"</span> , fruit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "eppla"             "e. American applN" "g. Korean FiS"    
 [4] "gif"               "ttar fruis"        "reap"             
 [7] "rrickly peap"      "reurre Hardy peaB" "yherrc"           
[10] "ylack cherrb"      "heacp"             "mlup"             
[13] "tumquak"           "aananb"            "ylueberrb"        
[16] "ytrawberrs"        "woneydeh"          "strawberries"     
[19] "yumberry"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb432"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb432-1"><a href="#cb432-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">"^(.)(.*)(.)$"</span> , <span class="st">"</span><span class="sc">\\</span><span class="st">3-</span><span class="sc">\\</span><span class="st">2-</span><span class="sc">\\</span><span class="st">1"</span> , fruit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "e-ppl-a"             "e-. American appl-N" "g-. Korean Fi-S"    
 [4] "g-i-f"               "t-tar frui-s"        "r-ea-p"             
 [7] "r-rickly pea-p"      "r-eurre Hardy pea-B" "y-herr-c"           
[10] "y-lack cherr-b"      "h-eac-p"             "m-lu-p"             
[13] "t-umqua-k"           "a-anan-b"            "y-lueberr-b"        
[16] "y-trawberr-s"        "w-oneyde-h"          "s-trawberrie-s"     
[19] "y-umberr-y"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb434"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb434-1"><a href="#cb434-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION </span></span>
<span id="cb434-2"><a href="#cb434-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Find fruits that start and end with the same letter</span></span>
<span id="cb434-3"><a href="#cb434-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb434-4"><a href="#cb434-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb434-5"><a href="#cb434-5" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^(.).*</span><span class="sc">\\</span><span class="st">1$"</span>, fruit, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "strawberries" "yumberry"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb436"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb436-1"><a href="#cb436-1" aria-hidden="true" tabindex="-1"></a>shoppingList <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"35 yumberry pops"</span>, </span>
<span id="cb436-2"><a href="#cb436-2" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"four strawberries         "</span>, </span>
<span id="cb436-3"><a href="#cb436-3" aria-hidden="true" tabindex="-1"></a>                 <span class="st">" five apples"</span>,</span>
<span id="cb436-4"><a href="#cb436-4" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"six yumberry and strawberries pops"</span>)</span>
<span id="cb436-5"><a href="#cb436-5" aria-hidden="true" tabindex="-1"></a>shoppingList</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "35 yumberry pops"                   "four strawberries         "        
[3] " five apples"                       "six yumberry and strawberries pops"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb438"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb438-1"><a href="#cb438-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb438-2"><a href="#cb438-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Use sub or gsub to replace words that start and end with the same letter</span></span>
<span id="cb438-3"><a href="#cb438-3" aria-hidden="true" tabindex="-1"></a><span class="co"># with the first letter then "XXXX" then the last letter of the word</span></span>
<span id="cb438-4"><a href="#cb438-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb438-5"><a href="#cb438-5" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">b(.).*</span><span class="sc">\\</span><span class="st">1</span><span class="sc">\\</span><span class="st">b"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1XXXX</span><span class="sc">\\</span><span class="st">1"</span>, shoppingList)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "35 yumberry pops"           "four strawberries         "
[3] " XXXX apples"               "sXXXXs"                    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb440"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb440-1"><a href="#cb440-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the * UN-greedy by following it with a ?</span></span>
<span id="cb440-2"><a href="#cb440-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">b(.).*?</span><span class="sc">\\</span><span class="st">1</span><span class="sc">\\</span><span class="st">b"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1XXXX</span><span class="sc">\\</span><span class="st">1"</span>, shoppingList)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "35 yumberry pops"           "four strawberries         "
[3] " XXXX apples"               "sXXXXs"                    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb442"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb442-1"><a href="#cb442-1" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb442-2"><a href="#cb442-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">b([a-z])[a-z]*?</span><span class="sc">\\</span><span class="st">1</span><span class="sc">\\</span><span class="st">b"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1XXXX</span><span class="sc">\\</span><span class="st">1"</span>, shoppingList)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "35 yXXXXy pops"             "four sXXXXs         "      
[3] " five apples"               "six yXXXXy and sXXXXs pops"</code></pre>
</div>
</div>
</section>
<section id="greedy-vs-non-greedy-quantifiers" class="level2" data-number="20.23">
<h2 data-number="20.23" class="anchored" data-anchor-id="greedy-vs-non-greedy-quantifiers"><span class="header-section-number">20.23</span> “greedy” vs “non-greedy” quantifiers</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb444"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb444-1"><a href="#cb444-1" aria-hidden="true" tabindex="-1"></a><span class="co"># "greedy" vs "non-greedy" quantifiers ####</span></span>
<span id="cb444-2"><a href="#cb444-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb444-3"><a href="#cb444-3" aria-hidden="true" tabindex="-1"></a><span class="co"># By default, quantifiers (e.g. + * ?) are "greedy"</span></span>
<span id="cb444-4"><a href="#cb444-4" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb444-5"><a href="#cb444-5" aria-hidden="true" tabindex="-1"></a><span class="co"># By **default** quantifiers are "greedy". In other words ...</span></span>
<span id="cb444-6"><a href="#cb444-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb444-7"><a href="#cb444-7" aria-hidden="true" tabindex="-1"></a><span class="co"># A "greedy" match works as follows:</span></span>
<span id="cb444-8"><a href="#cb444-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb444-9"><a href="#cb444-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   1. The regex engine tries to start matching the regex at the beginning o</span></span>
<span id="cb444-10"><a href="#cb444-10" aria-hidden="true" tabindex="-1"></a><span class="co">#      of the text</span></span>
<span id="cb444-11"><a href="#cb444-11" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb444-12"><a href="#cb444-12" aria-hidden="true" tabindex="-1"></a><span class="co">#   2. If there are any quantifiers (e.g. * + ?) in the regex, the reular</span></span>
<span id="cb444-13"><a href="#cb444-13" aria-hidden="true" tabindex="-1"></a><span class="co">#      expression engine tries to match AS MUCH of the text as possible.</span></span>
<span id="cb444-14"><a href="#cb444-14" aria-hidden="true" tabindex="-1"></a><span class="co">#      (see the example in VSCode described below).</span></span>
<span id="cb444-15"><a href="#cb444-15" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb444-16"><a href="#cb444-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   3. </span></span>
<span id="cb444-17"><a href="#cb444-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb444-18"><a href="#cb444-18" aria-hidden="true" tabindex="-1"></a><span class="co"># by as much as it can. This behavior can be changed by using </span></span>
<span id="cb444-19"><a href="#cb444-19" aria-hidden="true" tabindex="-1"></a><span class="co"># "non-greedy" quantifiers as shown below. To make a quantifier non-greedy</span></span>
<span id="cb444-20"><a href="#cb444-20" aria-hidden="true" tabindex="-1"></a><span class="co"># just follow it with a question mark.</span></span>
<span id="cb444-21"><a href="#cb444-21" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb444-22"><a href="#cb444-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb444-23"><a href="#cb444-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb444-24"><a href="#cb444-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Greedy quantifiers: match as MUCH as possible while still being able to</span></span>
<span id="cb444-25"><a href="#cb444-25" aria-hidden="true" tabindex="-1"></a><span class="co"># match rest of the pattern. The greedy quantifiers:</span></span>
<span id="cb444-26"><a href="#cb444-26" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb444-27"><a href="#cb444-27" aria-hidden="true" tabindex="-1"></a><span class="co">#   PATTERN{n,m}  minimum of n, maximum of m</span></span>
<span id="cb444-28"><a href="#cb444-28" aria-hidden="true" tabindex="-1"></a><span class="co">#   PATTERN{n,}   n or more</span></span>
<span id="cb444-29"><a href="#cb444-29" aria-hidden="true" tabindex="-1"></a><span class="co">#   PATTERN+      same as {1,} i.e. one or more </span></span>
<span id="cb444-30"><a href="#cb444-30" aria-hidden="true" tabindex="-1"></a><span class="co">#   PATTERN*      same as {0,} i.e. zero or more of the preceding pattern</span></span>
<span id="cb444-31"><a href="#cb444-31" aria-hidden="true" tabindex="-1"></a><span class="co">#   PATTERN?      same as {0,1} ie. zero or one (i.e. optional)</span></span>
<span id="cb444-32"><a href="#cb444-32" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb444-33"><a href="#cb444-33" aria-hidden="true" tabindex="-1"></a><span class="co"># UNgreedy (or stingy) quantifiers:</span></span>
<span id="cb444-34"><a href="#cb444-34" aria-hidden="true" tabindex="-1"></a><span class="co"># match as LITTLE as possible while still being able to</span></span>
<span id="cb444-35"><a href="#cb444-35" aria-hidden="true" tabindex="-1"></a><span class="co"># match rest of the pattern. The greedy quantifiers:</span></span>
<span id="cb444-36"><a href="#cb444-36" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb444-37"><a href="#cb444-37" aria-hidden="true" tabindex="-1"></a><span class="co">#   PATTERN{n,m}?  minimum of n, maximum of m</span></span>
<span id="cb444-38"><a href="#cb444-38" aria-hidden="true" tabindex="-1"></a><span class="co">#   PATTERN{n,}?   n or more</span></span>
<span id="cb444-39"><a href="#cb444-39" aria-hidden="true" tabindex="-1"></a><span class="co">#   PATTERN+?      same as {1,} i.e. one or more </span></span>
<span id="cb444-40"><a href="#cb444-40" aria-hidden="true" tabindex="-1"></a><span class="co">#   PATTERN*?      same as {0,} i.e. zero or more of the preceding pattern</span></span>
<span id="cb444-41"><a href="#cb444-41" aria-hidden="true" tabindex="-1"></a><span class="co">#   PATTERN??      same as {0,1} ie. zero or one (i.e. optional)</span></span>
<span id="cb444-42"><a href="#cb444-42" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb444-43"><a href="#cb444-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb444-44"><a href="#cb444-44" aria-hidden="true" tabindex="-1"></a><span class="co"># EXAMPLES:</span></span>
<span id="cb444-45"><a href="#cb444-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb444-46"><a href="#cb444-46" aria-hidden="true" tabindex="-1"></a><span class="co"># greedy   {n,m}</span></span>
<span id="cb444-47"><a href="#cb444-47" aria-hidden="true" tabindex="-1"></a><span class="co"># ungreedy {n,m}?</span></span>
<span id="cb444-48"><a href="#cb444-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb444-49"><a href="#cb444-49" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">"[0-9]{3,5}"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>)  <span class="co"># {3,5} greedy   "x6 1234"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x6 1234"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb446"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb446-1"><a href="#cb446-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">"[0-9]{3,5}?"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>) <span class="co"># {3,5}? UNgreedy "x456 1234"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x456 1234"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb448"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb448-1"><a href="#cb448-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[0-9]{3,5}"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>)  <span class="co"># {3,5} greedy   "x6 x"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x6 x"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb450"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb450-1"><a href="#cb450-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[0-9]{3,5}?"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>) <span class="co"># {3,5}? UNgreedy "xx x4"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "xx x4"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb452"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb452-1"><a href="#cb452-1" aria-hidden="true" tabindex="-1"></a><span class="co"># greedy   +</span></span>
<span id="cb452-2"><a href="#cb452-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ungreedy +?</span></span>
<span id="cb452-3"><a href="#cb452-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb452-4"><a href="#cb452-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">"[0-9]+"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>)      <span class="co"># +  greedy   "x 1234"       </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x 1234"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb454"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb454-1"><a href="#cb454-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">"[0-9]+?"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>)     <span class="co"># +? UNgreedy "x23456 1234"  </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x23456 1234"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb456"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb456-1"><a href="#cb456-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[0-9]+"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>)     <span class="co"># +     greedy   "x x"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x x"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb458"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb458-1"><a href="#cb458-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[0-9]+?"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>)    <span class="co"># +?    UNgreedy "xxxxxx xxxx"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "xxxxxx xxxx"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb460"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb460-1"><a href="#cb460-1" aria-hidden="true" tabindex="-1"></a><span class="co"># greedy   *</span></span>
<span id="cb460-2"><a href="#cb460-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ungreedy *?</span></span>
<span id="cb460-3"><a href="#cb460-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb460-4"><a href="#cb460-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">"[0-9]*"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>)      <span class="co"># *  greedy   "x 1234"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x 1234"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb462"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb462-1"><a href="#cb462-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">"[0-9]*?"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>)     <span class="co"># *? UNgreedy "x123456 1234"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x123456 1234"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb464"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb464-1"><a href="#cb464-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[0-9]*"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>)     <span class="co"># *     greedy   "x x"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x x"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb466"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb466-1"><a href="#cb466-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[0-9]*?"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>)    <span class="co"># *?    UNgreedy "xxxxxx xxxx"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x1x2x3x4x5x6x x1x2x3x4x"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb468"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb468-1"><a href="#cb468-1" aria-hidden="true" tabindex="-1"></a><span class="co"># greedy   ?</span></span>
<span id="cb468-2"><a href="#cb468-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ungreedy ??</span></span>
<span id="cb468-3"><a href="#cb468-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb468-4"><a href="#cb468-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">"[0-9]?"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>)      <span class="co"># ?  greedy   "x23456 1234"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x23456 1234"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb470"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb470-1"><a href="#cb470-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">"[0-9]??"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>)     <span class="co"># ?? UNgreedy "x123456 1234"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x123456 1234"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb472"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb472-1"><a href="#cb472-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[0-9]?"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>)     <span class="co"># ?   greedy   "xxxxxx xxxx"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "xxxxxx xxxx"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb474"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb474-1"><a href="#cb474-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">"[0-9]??"</span>, <span class="st">"x"</span>, <span class="st">"123456 1234"</span>)    <span class="co"># ??  UNgreedy  "x1x2x3x4x5x6x x1x2x3x4x"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x1x2x3x4x5x6x x1x2x3x4x"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb476"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb476-1"><a href="#cb476-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">"[a-z]*?"</span>, <span class="st">"x"</span>, <span class="st">"abcde"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "xabcde"</code></pre>
</div>
</div>
<section id="examples-2" class="level3" data-number="20.23.1">
<h3 data-number="20.23.1" class="anchored" data-anchor-id="examples-2"><span class="header-section-number">20.23.1</span> examples</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb478"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb478-1"><a href="#cb478-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Question</span></span>
<span id="cb478-2"><a href="#cb478-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract JUST the first quotation from each of the following.</span></span>
<span id="cb478-3"><a href="#cb478-3" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb478-4"><a href="#cb478-4" aria-hidden="true" tabindex="-1"></a>quotations <span class="ot">=</span> <span class="fu">c</span>(<span class="st">'Bill said "hi" to Jill. She replied "bye" to him and "hello" to the driver.'</span>,</span>
<span id="cb478-5"><a href="#cb478-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">'Tony said "I love ice cream!" to his mom. He then said "I love mom:)"'</span>)</span>
<span id="cb478-6"><a href="#cb478-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb478-7"><a href="#cb478-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER: use greedy and UNgreedy quantifiers as appropriate</span></span>
<span id="cb478-8"><a href="#cb478-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">'(.*?)(".*?")(.*)'</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">2"</span>, quotations)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "\"hi\""                "\"I love ice cream!\""</code></pre>
</div>
<div class="sourceCode cell-code" id="cb480"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb480-1"><a href="#cb480-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANOTHER ANSWER: This also works and perhaps is easier to understand (or perhaps not :)</span></span>
<span id="cb480-2"><a href="#cb480-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">'([^"]*)("[^"]*")(.*)'</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">2"</span>, quotations)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "\"hi\""                "\"I love ice cream!\""</code></pre>
</div>
<div class="sourceCode cell-code" id="cb482"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb482-1"><a href="#cb482-1" aria-hidden="true" tabindex="-1"></a><span class="do">###################################.</span></span>
<span id="cb482-2"><a href="#cb482-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The following are NOT answers</span></span>
<span id="cb482-3"><a href="#cb482-3" aria-hidden="true" tabindex="-1"></a><span class="do">###################################.</span></span>
<span id="cb482-4"><a href="#cb482-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb482-5"><a href="#cb482-5" aria-hidden="true" tabindex="-1"></a><span class="co"># NOT an answer - Compare with the following - this one gets the last quotation</span></span>
<span id="cb482-6"><a href="#cb482-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">'(.*)(".*")(.*)'</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">2"</span>, quotations)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "\"hello\""        "\"I love mom:)\""</code></pre>
</div>
<div class="sourceCode cell-code" id="cb484"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb484-1"><a href="#cb484-1" aria-hidden="true" tabindex="-1"></a><span class="co"># It's helpful to see what happens with the str_view function in the following</span></span>
<span id="cb484-2"><a href="#cb484-2" aria-hidden="true" tabindex="-1"></a><span class="co"># cases</span></span>
<span id="cb484-3"><a href="#cb484-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb484-4"><a href="#cb484-4" aria-hidden="true" tabindex="-1"></a><span class="co"># This matches everything from the first quotation mark to the last</span></span>
<span id="cb484-5"><a href="#cb484-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(quotations, <span class="st">'".*"'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ Bill said &lt;"hi" to Jill. She replied "bye" to him and "hello"&gt; to the driver.
[2] │ Tony said &lt;"I love ice cream!" to his mom. He then said "I love mom:)"&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb486"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb486-1"><a href="#cb486-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The following is more what we want. *? is now a non-greedy quantifier. </span></span>
<span id="cb486-2"><a href="#cb486-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Therefore, it matches the first quoted info.</span></span>
<span id="cb486-3"><a href="#cb486-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Then str_view continues by showing you the next match (i.e. the 2nd</span></span>
<span id="cb486-4"><a href="#cb486-4" aria-hidden="true" tabindex="-1"></a><span class="co"># quoted info), then the 3rd match, etc.</span></span>
<span id="cb486-5"><a href="#cb486-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view</span>(quotations, <span class="st">'".*?"'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] │ Bill said &lt;"hi"&gt; to Jill. She replied &lt;"bye"&gt; to him and &lt;"hello"&gt; to the driver.
[2] │ Tony said &lt;"I love ice cream!"&gt; to his mom. He then said &lt;"I love mom:)"&gt;</code></pre>
</div>
</div>
<section id="an-aside---the-1st-question-mark-is-not-actually-necessary-in-this-case" class="level4">
<h4 class="anchored" data-anchor-id="an-aside---the-1st-question-mark-is-not-actually-necessary-in-this-case">AN ASIDE - the 1st question mark is not actually necessary in this case</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb488"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb488-1"><a href="#cb488-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This also works - see below for why the first ? is not necessary in this case.</span></span>
<span id="cb488-2"><a href="#cb488-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sub</span>(<span class="st">'(.*)(".*?")(.*)'</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">2"</span>, quotations)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "\"hi\""                "\"I love ice cream!\""</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb490"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb490-1"><a href="#cb490-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use VSCode to understand greedy VS non-greedy quantifiers</span></span>
<span id="cb490-2"><a href="#cb490-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb490-3"><a href="#cb490-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Use VSCode to open a text file that contains a lot of English text.</span></span>
<span id="cb490-4"><a href="#cb490-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb490-5"><a href="#cb490-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Do a regex search in VSCode for</span></span>
<span id="cb490-6"><a href="#cb490-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   e.*e</span></span>
<span id="cb490-7"><a href="#cb490-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb490-8"><a href="#cb490-8" aria-hidden="true" tabindex="-1"></a><span class="co"># This is a "greedy" search (since it uses * instead of *?).</span></span>
<span id="cb490-9"><a href="#cb490-9" aria-hidden="true" tabindex="-1"></a><span class="co"># It searches for "e" following by anything followed by another "e".</span></span>
<span id="cb490-10"><a href="#cb490-10" aria-hidden="true" tabindex="-1"></a><span class="co"># This will highlight on each line all the text starting from the </span></span>
<span id="cb490-11"><a href="#cb490-11" aria-hidden="true" tabindex="-1"></a><span class="co"># first e on the line until the last e on the line.</span></span>
<span id="cb490-12"><a href="#cb490-12" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb490-13"><a href="#cb490-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Now search again using a non-greedy quantifier, i.e. .*?</span></span>
<span id="cb490-14"><a href="#cb490-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   e.*?e</span></span>
<span id="cb490-15"><a href="#cb490-15" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb490-16"><a href="#cb490-16" aria-hidden="true" tabindex="-1"></a><span class="co"># The results will be potentially several matches on each line. </span></span>
<span id="cb490-17"><a href="#cb490-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Each match starts with an "e" and extends to the next "e" but no further.</span></span>
<span id="cb490-18"><a href="#cb490-18" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="the-complete-list-of-quantifiers" class="level2" data-number="20.24">
<h2 data-number="20.24" class="anchored" data-anchor-id="the-complete-list-of-quantifiers"><span class="header-section-number">20.24</span> The complete list of quantifiers</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb491"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb491-1"><a href="#cb491-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The complete list of quantifiers </span></span>
<span id="cb491-2"><a href="#cb491-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb491-3"><a href="#cb491-3" aria-hidden="true" tabindex="-1"></a><span class="co"># In general you can use ? to turn any greedy quantifier into a non-greedy</span></span>
<span id="cb491-4"><a href="#cb491-4" aria-hidden="true" tabindex="-1"></a><span class="co"># quantifier</span></span>
<span id="cb491-5"><a href="#cb491-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb491-6"><a href="#cb491-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   *  - zero or more (greedy)</span></span>
<span id="cb491-7"><a href="#cb491-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   *? - zero or more (non-greedy)</span></span>
<span id="cb491-8"><a href="#cb491-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb491-9"><a href="#cb491-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   +  - one or more (greedy)</span></span>
<span id="cb491-10"><a href="#cb491-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   +? - one or more (non-greedy)</span></span>
<span id="cb491-11"><a href="#cb491-11" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb491-12"><a href="#cb491-12" aria-hidden="true" tabindex="-1"></a><span class="co">#   ?  - zero or one (greedy)</span></span>
<span id="cb491-13"><a href="#cb491-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   ?? - zero or one (non-greedy)</span></span>
<span id="cb491-14"><a href="#cb491-14" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb491-15"><a href="#cb491-15" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co"> the following also allow for non-greedy ? modifier. However, these</span></span>
<span id="cb491-16"><a href="#cb491-16" aria-hidden="true" tabindex="-1"></a><span class="co"># are not really necessary - see the notes below.</span></span>
<span id="cb491-17"><a href="#cb491-17" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb491-18"><a href="#cb491-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   {3,5}  - 3,4 or 5 repetitions (greedy - i.e. will match all 5 if they are there)</span></span>
<span id="cb491-19"><a href="#cb491-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   {3,5}? - (non-greedy - will match 3 even if there are 5)</span></span>
<span id="cb491-20"><a href="#cb491-20" aria-hidden="true" tabindex="-1"></a><span class="co">#            Notice - you could just write {3} instead of {3,5}? (think about it)</span></span>
<span id="cb491-21"><a href="#cb491-21" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb491-22"><a href="#cb491-22" aria-hidden="true" tabindex="-1"></a><span class="co">#   {3,}   - (greedy)     3 or more matches in a row, matches as many as there are</span></span>
<span id="cb491-23"><a href="#cb491-23" aria-hidden="true" tabindex="-1"></a><span class="co">#   {3,}?  - (non-greedy) will always match first 3 even if there are more (non-greedy)</span></span>
<span id="cb491-24"><a href="#cb491-24" aria-hidden="true" tabindex="-1"></a><span class="co">#            Notice - you could just write {3} instead of {3,}? (think about it)</span></span>
<span id="cb491-25"><a href="#cb491-25" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="examples-3" class="level3" data-number="20.24.1">
<h3 data-number="20.24.1" class="anchored" data-anchor-id="examples-3"><span class="header-section-number">20.24.1</span> examples</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb492"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb492-1"><a href="#cb492-1" aria-hidden="true" tabindex="-1"></a><span class="co"># EXAMPLE</span></span>
<span id="cb492-2"><a href="#cb492-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb492-3"><a href="#cb492-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb492-4"><a href="#cb492-4" aria-hidden="true" tabindex="-1"></a>quotedCsv <span class="ot">=</span> <span class="fu">c</span>(<span class="st">'"a,b,c","apple,orange","watermellon"'</span>)</span>
<span id="cb492-5"><a href="#cb492-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(quotedCsv)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>"a,b,c","apple,orange","watermellon"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb494"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb494-1"><a href="#cb494-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The following gsub uses a greedy quantifier, ie. *.</span></span>
<span id="cb494-2"><a href="#cb494-2" aria-hidden="true" tabindex="-1"></a><span class="co"># It will match as much as it can.</span></span>
<span id="cb494-3"><a href="#cb494-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb494-4"><a href="#cb494-4" aria-hidden="true" tabindex="-1"></a><span class="co"># greedy</span></span>
<span id="cb494-5"><a href="#cb494-5" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">'".*"'</span>, <span class="st">'QUOTES'</span>, quotedCsv)   <span class="co"># "QUOTES"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "QUOTES"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb496"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb496-1"><a href="#cb496-1" aria-hidden="true" tabindex="-1"></a><span class="co"># non-greedy</span></span>
<span id="cb496-2"><a href="#cb496-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gsub</span>(<span class="st">'".*?"'</span>, <span class="st">'QUOTES'</span>, quotedCsv) <span class="co"># "QUOTES,QUOTES,QUOTES"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "QUOTES,QUOTES,QUOTES"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb498"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb498-1"><a href="#cb498-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A MORE COMPLEX EXAMPLE</span></span>
<span id="cb498-2"><a href="#cb498-2" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb498-3"><a href="#cb498-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb498-4"><a href="#cb498-4" aria-hidden="true" tabindex="-1"></a>text <span class="ot">=</span> <span class="st">"She sells sea shells by the sea shore."</span></span>
<span id="cb498-5"><a href="#cb498-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb498-6"><a href="#cb498-6" aria-hidden="true" tabindex="-1"></a>result <span class="ot">=</span> <span class="fu">gsub</span>(<span class="st">"(.*)(sea)(.*)"</span>, <span class="st">"1st </span><span class="sc">\\</span><span class="st">1</span><span class="sc">\n</span><span class="st">2nd </span><span class="sc">\\</span><span class="st">2</span><span class="sc">\n</span><span class="st">3rd </span><span class="sc">\\</span><span class="st">3"</span>, text)</span>
<span id="cb498-7"><a href="#cb498-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb498-8"><a href="#cb498-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1st She sells sea shells by the 
2nd sea
3rd  shore.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb500"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb500-1"><a href="#cb500-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reults are "greedy", i.e. the .* in the beginning matches as much as </span></span>
<span id="cb500-2"><a href="#cb500-2" aria-hidden="true" tabindex="-1"></a><span class="co"># it can as long as the whole regex will work. The result is:</span></span>
<span id="cb500-3"><a href="#cb500-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb500-4"><a href="#cb500-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1st part: She sells sea shells by the </span></span>
<span id="cb500-5"><a href="#cb500-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 2nd part: sea</span></span>
<span id="cb500-6"><a href="#cb500-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 3rd part: shore.</span></span>
<span id="cb500-7"><a href="#cb500-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb500-8"><a href="#cb500-8" aria-hidden="true" tabindex="-1"></a><span class="co"># The following DOES NOT happen</span></span>
<span id="cb500-9"><a href="#cb500-9" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb500-10"><a href="#cb500-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 1st part:    She sells </span></span>
<span id="cb500-11"><a href="#cb500-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 2nd part:    sea</span></span>
<span id="cb500-12"><a href="#cb500-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 3rd par:     shells by the sea shore.</span></span>
<span id="cb500-13"><a href="#cb500-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb500-14"><a href="#cb500-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb500-15"><a href="#cb500-15" aria-hidden="true" tabindex="-1"></a><span class="co"># we can make the regex UN-GREEDY by using a ? AFTER the *</span></span>
<span id="cb500-16"><a href="#cb500-16" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb500-17"><a href="#cb500-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb500-18"><a href="#cb500-18" aria-hidden="true" tabindex="-1"></a>text <span class="ot">=</span> <span class="st">"She sells sea shells by the sea shore."</span></span>
<span id="cb500-19"><a href="#cb500-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb500-20"><a href="#cb500-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb500-21"><a href="#cb500-21" aria-hidden="true" tabindex="-1"></a>result <span class="ot">=</span> <span class="fu">gsub</span>(<span class="st">"(.*?)(sea)(.*)"</span>, <span class="st">"1st </span><span class="sc">\\</span><span class="st">1</span><span class="sc">\n</span><span class="st">2nd </span><span class="sc">\\</span><span class="st">2</span><span class="sc">\n</span><span class="st">3rd </span><span class="sc">\\</span><span class="st">3"</span>, text)</span>
<span id="cb500-22"><a href="#cb500-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb500-23"><a href="#cb500-23" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1st She sells 
2nd sea
3rd  shells by the sea shore.</code></pre>
</div>
</div>
</section>
</section>
<section id="challenges" class="level2" data-number="20.25">
<h2 data-number="20.25" class="anchored" data-anchor-id="challenges"><span class="header-section-number">20.25</span> Challenges</h2>
<pre><code># Challenges ####
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# Use the following for the challenges below

stuff = c("His ssn is 876543890.",
          "Call me at 212 950 3216 when you have time.",
          "Please call Joe at 777-7777",
          "Sue's number is (555)123   4567.",
          "7182345678 is the number for the helpdesk.",
          "Email Anne at anne@anneco.com and explain.",
          "Meet me @ 10pm.",
          "Mikes company is called mike@large",
          "To work in Whatsapp internationally you need to enter his number as +1 555 555 5555.")
stuff

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Write a regular expression to find telephone numbers
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

pattern = paste0 ( "(^|\\D)",              # start with a non-digit or the start of the text
                   "(\\(?\\d{3}\\)?)?",    # optional area code with optional (parentheses)
                   " *",                   # zero or more spaces
                   "\\d{3}",               # first 3 digits
                   " *-? *",               # any number of spaces surrounding an optional dash
                   "\\d{4}",
                   "(\\D|$)")  # end with a non digit or a the end of the text

pattern
grep (pattern, stuff, value=TRUE)



#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Challenge: 
# 
# Extract just the telephone numbers in a standard format.
#
# Make sure to use parentheses in the pattern.
#
# Substitute JUST the parts you want.
#
# Use grep (... value=FALSE ...) to get the positions that 
# matched and keep only those.
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


# Show how to extract just the area code, first 3 and last 4 digits
stuff
newpattern = paste0 ( "(^|.*\\D)",  # tel# at beginning or after a non-digit
                      "(\\(?(\\d{3})\\)?)?", # optional area code with optional (parentheses)
                      "( *)",      # zero or more spaces
                      "(\\d{3})",  # first 3 digits
                      "( *-? *)",  # any number of spaces surrounding an optional dash
                      "(\\d{4})",  # last 4 digits
                      "(\\D.*|$)"  # tel # at end or before non-digit
)
grep(newpattern, stuff, value=TRUE)
positionsWithTelNums = grep(newpattern, stuff)
reformatted = gsub(newpattern, "\\2 \\5 \\7", stuff) 

reformatted[positionsWithTelNums]




result = gsub (newpattern, 
               paste0("1stPart \\1\n",
                      "2ndPart \\2\n",
                      "3rdPart \\3\n4thPart \\4\n",
                      "5thPart \\5\n6thPart \\6\n7thPart \\7\n8thPart \\8\n"),
               stuff)

result

cat(result[1])
cat(result[2])
cat(result[3])

# The following example shows a "bug" in the regex. 
# Since regular expressions are "greedy", the area code is matched
# in the 1st part if it is indeed surrounded by parentheses. 
# We can fix this but it is tricky.
cat(result[4])

cat(result[5])
cat(result[6])
cat(result[7])
cat(result[8])
cat(result[9])

# See the pattern used above

telNums = gsub(newpattern, "\\3 \\5-\\7", stuff)
telNums
cat(telNums, sep="\n")

positionsWithTelNums = grep(newpattern, stuff, value=FALSE)
positionsWithTelNums

telNums
telNums [ positionsWithTelNums ]


stuff
gsub(newpattern, "XXXXXXXXXX", stuff)






#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# CHALLENGE
#
# - write a regular expression to find email addresses and extract them 
#   from a character vector
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# CHALLENGE
#
# Get a vector of all the words from "The adventures of Sherlock Holmes".
# You can find the UTF-8 encoding version here:
#    https://www.gutenberg.org/files/1661/1661-0.txt
#
# HINT: use
#  - readLines  with  url("https://www.gutenberg.org/files/1661/1661-0.txt")
#  - strsplit
#  - unlist    (remember that strsplit returns a LIST)
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

book = readLines(url("https://www.gutenberg.org/files/1661/1661-0.txt"),
                 encoding="UTF-8")
head(book)

words = strsplit(book, " +")

head(words)

words = unlist(words)

head(words, 100)

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# CHALLENGE
#
# Get a vector of the 10 most common words in "The Adventures of Sherlock Holmes"
# HINT: Use the table function.
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

wordTable = table(words)
head(wordTable)

sorted = sort(wordTable)
head(wordTable)

tail(sorted)


# Lookahead and lookbehind ####
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#
# Lookahead and lookbehind are used to match a portion of the text but NOT
# consider it part of the match. To use this you MUST set the following
# argument in grep, strsplit, gsub, etc:    perl=TRUE
#
#    Positive Lookahead (?=pattern)
#    Negative Lookahead (?!pattern)
#    Positive Lookbehind    (?&lt;= pattern)
#    Negative Lookbehind    (?&lt;! pattern)
# 
# See this page
#  https://debuggingdata.com/post/r/regular-expressions-look-arounds/
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

stuff = c("a100", "200b" , "@300", "400@")
stuff

# Lookbehind
gsub("(?&lt;=[a-z])\\d+", "NUMBER", stuff, perl=TRUE)


# Lookbehind  (not equal to )
gsub("(?&lt;![a-z0-9])\\d+", "NUMBER", stuff, perl=TRUE)


# Lookahead
gsub("\\d+(?=[a-z])", "NUMBER", stuff, perl=TRUE)

# Lookahead   (not equal to )
gsub("\\d+(?![a-z0-9])", "NUMBER", stuff, perl=TRUE)


quotations

# Replace all letters between quotation marks with XXXX
gsub('(?&lt;=")[a-zA-Z!.? ]+(?=")', "XXXX", quotations, perl=TRUE)

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# CHALLENGE
#
# Get a vector of all the sentences from "The adventures of Sherlock Holmes".
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

book = readLines(url("https://www.gutenberg.org/files/1661/1661-0.txt"),
                 encoding="UTF-8")

book[100:110]

newBook = paste0(book, collapse=" ")

length(newBook)

str(newBook)

sentences = strsplit(newBook, "[.?!]")[[1]]

str(sentences)

length(sentences)

sentences[3]
head(sentences)

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# CHALLENGE
#
# Get a vector of all quotations from "The adventures of Sherlock Holmes".
# HINT: use an un-greedy search
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~




# Other arguments and functions ####
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# help pages

?regex

?grep

?strsplit


# grep(pattern, x, ignore.case = FALSE, perl = FALSE, value = FALSE,
#      fixed = FALSE, useBytes = FALSE, invert = FALSE)
#
# grepl(pattern, x, ignore.case = FALSE, perl = FALSE,
#       fixed = FALSE, useBytes = FALSE)
#
# sub(pattern, replacement, x, ignore.case = FALSE, perl = FALSE,
#     fixed = FALSE, useBytes = FALSE)
#
# gsub(pattern, replacement, x, ignore.case = FALSE, perl = FALSE,
#      fixed = FALSE, useBytes = FALSE)
#

text = "She sells sea shells by the sea shore."

sub("sea", "xxxxx", text)

gsub("sea", "xxxxx", text)

sub("s", "x", text)

gsub("s", "x", text)

gsub(".", "x", text)

gsub("\\.", "x", text)

gsub(".", "x", text, fixed=TRUE)


words = strsplit(text, " ")

words

# Get the 2nd word from the text:
words[[1]][2]


words = strsplit(addresses, " ")


words

# Get the 2nd word from the 3rd address
words[[3]][2]


# Other functions - sub vs gsub, regexpr, gregexpr, regexec ####
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# See the documentation for the following functions: 
#
# regexpr(pattern, text, ignore.case = FALSE, perl = FALSE,
#         fixed = FALSE, useBytes = FALSE)
#
# gregexpr(pattern, text, ignore.case = FALSE, perl = FALSE,
#          fixed = FALSE, useBytes = FALSE)
#
# regexec(pattern, text, ignore.case = FALSE, perl = FALSE,
#         fixed = FALSE, useBytes = FALSE)
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</code></pre>
</section>
<section id="more-practice-with-regex---see-the-following-websites" class="level2" data-number="20.26">
<h2 data-number="20.26" class="anchored" data-anchor-id="more-practice-with-regex---see-the-following-websites"><span class="header-section-number">20.26</span> More practice with regex - see the following websites</h2>
<pre><code># More practice with regex  ####
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# See the following sites:

# http://regextutorials.com/
# https://regexone.com/
# https://librarycarpentry.org/lc-data-intro/03-quiz/index.html
# https://www.hackerrank.com/domains/regex
# https://regex.sketchengine.co.uk/


# Period comes between rest of line and first word
pattern = paste0("(^[A-Za-z]+)",     # first word on line
                 "(\\s+)",           # spaces after the first word
                 "(.*)"              # rest of the line
                 )

str_replace_all(sentences, pattern=pattern, replacement="\\3\\2\\1")



# Period comes between rest of line and first word
pattern = paste0("(^[A-Za-z]+)",     # first word on line
                 "(\\s+)",           # spaces after the first word
                 "(.*)",              # rest of the line except for the final period
                 "([?!.])"
)

movedFirstWordToEnd = str_replace_all(sentences, pattern=pattern, replacement="\\3\\2\\1\\4")
str_to_sentence(movedFirstWordToEnd)

#########################

# change the case on the first word to uppercase
# change the case on the last word to lowercase

toupper(c("hello", "goodbye"))



#str_replace_all(sentences, pattern="(^[A-Za-z]+)(\\s+)(.*)", "\\3\\2\\1")</code></pre>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./0000025-introToBash-v007.html" class="pagination-link" aria-label="Working with the Bash Shell.">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Working with the Bash Shell.</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./000260-PracticeWithRegulaExpressions-v003.html" class="pagination-link" aria-label="Practice with Regular Expressions">
        <span class="nav-page-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Practice with Regular Expressions</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>