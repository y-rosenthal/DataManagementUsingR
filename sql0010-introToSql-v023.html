<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>30&nbsp; 30.  Intro to Relational Databases and SQL (no dplyr required) – Data Management With R (latest version)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./sql0035-workingWithMultipleTables-v012.html" rel="next">
<link href="./0500400-sqlSelectIntro-v003.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">

<meta http-equiv="Pragma" content="no-cache">

<meta http-equiv="Expires" content="0">
<script src="yrstuff.js"></script>


<link rel="stylesheet" href="yrStyles-main-v001.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./sql0014-theBooksDatabase-v001.html">Relational databases and SQL</a></li><li class="breadcrumb-item"><a href="./sql0010-introToSql-v023.html"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title"><yrchapternumber>30. </yrchapternumber> Intro to Relational Databases and SQL ***(no dplyr required)***</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data Management With R (latest version)</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><yrchapternumber></yrchapternumber> Intro</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Some computer basics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro00100-operatingSystems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title"><yrchapternumber>1. </yrchapternumber> What is an "operating system"</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro00120-files.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title"><yrchapternumber>2. </yrchapternumber> Working with files</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro00130-chromeExtensions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title"><yrchapternumber>3. </yrchapternumber> Chrome Extensions</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Into to Coding With AI</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-000100-overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title"><yrchapternumber>4. </yrchapternumber> AI in Everyday Use</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./aiCoding00100-overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title"><yrchapternumber>5. </yrchapternumber> Coding with AI - an overview</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Intro to R packages</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000022-InstallingRPackages-v003.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title"><yrchapternumber>6. </yrchapternumber> Intro to R packages</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Intro to Quarto</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000017-introToQuarto-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title"><yrchapternumber>7. </yrchapternumber> Intro to Quarto</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Intro to tidyverse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0400050-whatIsTidyverse-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title"><yrchapternumber>8. </yrchapternumber> What is the "tidyverse"</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0400050-tibbles-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title"><yrchapternumber>9. </yrchapternumber> tibbles and tribbles</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0400100-usingPipes-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title"><yrchapternumber>10. </yrchapternumber> Using pipes, i.e. %&gt;% and |&gt;</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0400200-stringr-tutorials-v003.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title"><yrchapternumber>11. </yrchapternumber> stringr tutorial</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Working with files</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000055-workingWithFiles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title"><yrchapternumber>12. </yrchapternumber> Working with files</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">JSON data and APIs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000075-whatIsJsonData.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title"><yrchapternumber>13. </yrchapternumber> Intro to JSON data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000080-editingAndValidatingJsonFiles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title"><yrchapternumber>14. </yrchapternumber> Creating, editing and validating JSON files</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000085-jsonDataTypes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title"><yrchapternumber>15. </yrchapternumber> DATA TYPES IN JSON</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000090-usingJsonInR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title"><yrchapternumber>16. </yrchapternumber> Using JSON in R with jsonlite package</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000093-jsonParsingPractice-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title"><yrchapternumber>17. </yrchapternumber> JSON Parsing Practice in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./assignment-api-0000100-weatherDataApi-v002.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title"><yrchapternumber>18. </yrchapternumber> assignment - weather API</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Regular Expressions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0200200-a-introToRegularExpressions-v036.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title"><yrchapternumber>19. </yrchapternumber> regular expressions (regex)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./000260-PracticeWithRegulaExpressions-v003.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title"><yrchapternumber>20. </yrchapternumber> Practice with Regular Expressions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0990100-cleaningData-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title"><yrchapternumber>21. </yrchapternumber> "Cleaning" data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">Bash</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000011-WhatIsACli-v010.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title"><yrchapternumber>22. </yrchapternumber> Intro to Command Line Interfaces (CLIs)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000013-HowToRunTheBashShellCli-v011.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title"><yrchapternumber>23. </yrchapternumber> How to run the Bash Shell</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000025-introToBash-v007.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title"><yrchapternumber>24. </yrchapternumber> Working with the Bash Shell.</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">Intro to dplyr</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0500100-a-tdyvrsDplyr-v005.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title"><yrchapternumber>25. </yrchapternumber> dplyr - getting and viewing the data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0500100-b-tdyvrsDplyr-v005.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title"><yrchapternumber>26. </yrchapternumber> dplyr verbs - select, filter, etc.</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true">
 <span class="menu-text">Relational databases and SQL</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0014-theBooksDatabase-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title"><yrchapternumber>27. </yrchapternumber> Get the data - "books database" and other tables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0006-introToDatabases-v023.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title"><yrchapternumber>28. </yrchapternumber>  "databases" and "database management systems"</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0500400-sqlSelectIntro-v003.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title"><yrchapternumber>29. </yrchapternumber> Intro to SQL Select ***(assumes some knowledge of dplyr)***</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0010-introToSql-v023.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title"><yrchapternumber>30. </yrchapternumber> Intro to Relational Databases and SQL ***(no dplyr required)***</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0035-workingWithMultipleTables-v012.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title"><yrchapternumber>31. </yrchapternumber> Inner Joins.</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0030-sqlFunctions_aggregateFunctions_groupBy_having-v019.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title"><yrchapternumber>32. </yrchapternumber> aggregate functions, group by, having</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0040-crossJoin-leftJoin-subquery-selfJoins-v023.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title"><yrchapternumber>33. </yrchapternumber> more joins (cross/left/right/full), subqueries, set operations, case, self joins</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0050-commonTableExpressions-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title"><yrchapternumber>34. </yrchapternumber> Common Table Expressions (CTE)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0200-otherSqlCommands-v002.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title"><yrchapternumber>35. </yrchapternumber> other commands: update/delete, create/drop/insert</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0900-sqlWindowFunctions-v002.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title"><yrchapternumber>36. </yrchapternumber> SQL "window" functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0915-workingWithSqliteDatabasesInR-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title"><yrchapternumber>37a. </yrchapternumber> Working with SQLite databases in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0950-workingWithDatabasesInR-v010.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title"><yrchapternumber>37b. </yrchapternumber> Working directly with databases in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql0935-dbNormalization-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title"><yrchapternumber>38. </yrchapternumber> Database Normalization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql3000-sqlQuestions-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title"><yrchapternumber>39. </yrchapternumber> Database Questions (and Answers)</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true">
 <span class="menu-text">Web Scraping</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./web-000205-introToXml-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title"><yrchapternumber>40. </yrchapternumber> Intro to XML</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./web-000220-parsingXmUsingR-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title"><yrchapternumber>41. </yrchapternumber> Parsing XML using R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./web-000300-internetArchitecture-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title"><yrchapternumber>42. </yrchapternumber> How a webpage gets to your browser</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./web-000325-introToHtmlAndCss-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">HTML and CSS Features Tutorial</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./web-000400-webscrapingContinued-015.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">45</span>&nbsp; <span class="chapter-title"><yrchapternumber>43. </yrchapternumber> Web Scraping with R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./web-000130-WebscrapingJavascriptSites-v004.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">46</span>&nbsp; <span class="chapter-title"><yrchapternumber>44. </yrchapternumber> Scraping Dynamic (JavaScript) Websites</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./web-000420-practiceWithWebScraping-v001-ANSWERS-v002.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">47</span>&nbsp; <span class="chapter-title"><yrchapternumber>45. </yrchapternumber> CSS Selector Questions</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true">
 <span class="menu-text">Git and Github</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./github-000700-markdownGithubVsQuarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">48</span>&nbsp; <span class="chapter-title"><yrchapternumber>46. </yrchapternumber> GitHub Markdown vs. Quarto (.qmd) Comparison</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true">
 <span class="menu-text">visualizations with ggplot2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./050050-tdyvrsGgplot2-v0001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">49</span>&nbsp; <span class="chapter-title"><yrchapternumber>47. </yrchapternumber> Intro to ggplot2</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000100-topics-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">50</span>&nbsp; <span class="chapter-title"><yrchapternumber>48. </yrchapternumber> Topics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000200-bibliography-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">51</span>&nbsp; <span class="chapter-title"><yrchapternumber>49. </yrchapternumber> Bibliography</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000300-whereToFindDatasets-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">52</span>&nbsp; <span class="chapter-title"><yrchapternumber>50. </yrchapternumber> Where to find datasets</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0000310-whereToFindApis-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">53</span>&nbsp; <span class="chapter-title"><yrchapternumber>51. </yrchapternumber> Where to find APIs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0999000-toDo-v001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">54</span>&nbsp; <span class="chapter-title"><yrchapternumber>52. </yrchapternumber> Additional topics</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#important-note" id="toc-important-note" class="nav-link active" data-scroll-target="#important-note"><span class="header-section-number">30.1</span> IMPORTANT NOTE</a></li>
  <li><a href="#intro-to-sql" id="toc-intro-to-sql" class="nav-link" data-scroll-target="#intro-to-sql"><span class="header-section-number">30.2</span> Intro to SQL</a></li>
  <li><a href="#web-resources-for-learning-sql" id="toc-web-resources-for-learning-sql" class="nav-link" data-scroll-target="#web-resources-for-learning-sql"><span class="header-section-number">30.3</span> Web resources for learning SQL</a></li>
  <li><a href="#what-software-do-i-need-to-use-sql" id="toc-what-software-do-i-need-to-use-sql" class="nav-link" data-scroll-target="#what-software-do-i-need-to-use-sql"><span class="header-section-number">30.4</span> What software do I need to use SQL?</a>
  <ul class="collapse">
  <li><a href="#the-sqldf-r-package" id="toc-the-sqldf-r-package" class="nav-link" data-scroll-target="#the-sqldf-r-package"><span class="header-section-number">30.4.1</span> The sqldf R package</a></li>
  </ul></li>
  <li><a href="#using-the-sqldf-r-package" id="toc-using-the-sqldf-r-package" class="nav-link" data-scroll-target="#using-the-sqldf-r-package"><span class="header-section-number">31</span> Using the sqldf R package</a>
  <ul class="collapse">
  <li><a href="#data-for-this-part-of-the-tutorial" id="toc-data-for-this-part-of-the-tutorial" class="nav-link" data-scroll-target="#data-for-this-part-of-the-tutorial"><span class="header-section-number">31.1</span> data for this part of the tutorial</a></li>
  <li><a href="#sql-select-statement" id="toc-sql-select-statement" class="nav-link" data-scroll-target="#sql-select-statement"><span class="header-section-number">31.2</span> SQL SELECT statement</a></li>
  <li><a href="#how-to-use-the-r-sqldf-function" id="toc-how-to-use-the-r-sqldf-function" class="nav-link" data-scroll-target="#how-to-use-the-r-sqldf-function"><span class="header-section-number">31.3</span> How to use the R sqldf() function</a></li>
  <li><a href="#intro-to-the-sql-select-command" id="toc-intro-to-the-sql-select-command" class="nav-link" data-scroll-target="#intro-to-the-sql-select-command"><span class="header-section-number">31.4</span> Intro to the SQL SELECT command</a></li>
  <li><a href="#select-from-.." id="toc-select-from-.." class="nav-link" data-scroll-target="#select-from-.."><span class="header-section-number">31.5</span> SELECT * FROM …..</a></li>
  <li><a href="#capturing-the-output-of-sqldf-in-an-r-variable" id="toc-capturing-the-output-of-sqldf-in-an-r-variable" class="nav-link" data-scroll-target="#capturing-the-output-of-sqldf-in-an-r-variable"><span class="header-section-number">31.6</span> capturing the output of sqldf in an R variable</a></li>
  <li><a href="#a-note-about-case-sensitivity-in-sqldf" id="toc-a-note-about-case-sensitivity-in-sqldf" class="nav-link" data-scroll-target="#a-note-about-case-sensitivity-in-sqldf"><span class="header-section-number">31.7</span> A note about case-sensitivity in sqldf()</a></li>
  <li><a href="#order-by" id="toc-order-by" class="nav-link" data-scroll-target="#order-by"><span class="header-section-number">31.8</span> order by</a>
  <ul class="collapse">
  <li><a href="#ordering-by-2-or-more-columns" id="toc-ordering-by-2-or-more-columns" class="nav-link" data-scroll-target="#ordering-by-2-or-more-columns"><span class="header-section-number">31.8.1</span> Ordering by 2 or more columns</a></li>
  <li><a href="#examples---ordering-by-2-different-columns" id="toc-examples---ordering-by-2-different-columns" class="nav-link" data-scroll-target="#examples---ordering-by-2-different-columns"><span class="header-section-number">31.8.2</span> Examples - ordering by 2 different columns</a></li>
  <li><a href="#examples---order-by-3-different-columns" id="toc-examples---order-by-3-different-columns" class="nav-link" data-scroll-target="#examples---order-by-3-different-columns"><span class="header-section-number">31.8.3</span> Examples - order by 3 different columns</a></li>
  </ul></li>
  <li><a href="#limit-clause" id="toc-limit-clause" class="nav-link" data-scroll-target="#limit-clause"><span class="header-section-number">31.9</span> limit clause</a></li>
  <li><a href="#using-calculations-in-the-select-clause" id="toc-using-calculations-in-the-select-clause" class="nav-link" data-scroll-target="#using-calculations-in-the-select-clause"><span class="header-section-number">31.10</span> Using calculations in the select clause</a></li>
  <li><a href="#renaming-columns" id="toc-renaming-columns" class="nav-link" data-scroll-target="#renaming-columns"><span class="header-section-number">31.11</span> Renaming columns</a></li>
  <li><a href="#quoting-column-names-that-contain-spaces-or-other-special-characters" id="toc-quoting-column-names-that-contain-spaces-or-other-special-characters" class="nav-link" data-scroll-target="#quoting-column-names-that-contain-spaces-or-other-special-characters"><span class="header-section-number">31.12</span> ‘Quoting’ column names that contain spaces (or other special characters)</a></li>
  <li><a href="#single-quotes-vs-double-quotes" id="toc-single-quotes-vs-double-quotes" class="nav-link" data-scroll-target="#single-quotes-vs-double-quotes"><span class="header-section-number">31.13</span> ‘single quotes’ vs “double quotes”</a></li>
  <li><a href="#concatenation-abc-def-is-abcdef" id="toc-concatenation-abc-def-is-abcdef" class="nav-link" data-scroll-target="#concatenation-abc-def-is-abcdef"><span class="header-section-number">31.14</span> Concatenation: ‘abc’ || ‘def’ is ‘abcdef’</a>
  <ul class="collapse">
  <li><a href="#practice" id="toc-practice" class="nav-link" data-scroll-target="#practice"><span class="header-section-number">31.14.1</span> Practice</a></li>
  </ul></li>
  <li><a href="#rules-for-naming-tables-and-columns" id="toc-rules-for-naming-tables-and-columns" class="nav-link" data-scroll-target="#rules-for-naming-tables-and-columns"><span class="header-section-number">31.15</span> Rules for naming tables and columns</a>
  <ul class="collapse">
  <li><a href="#aside-using-r-raw-strings-only-for-those-learning-r" id="toc-aside-using-r-raw-strings-only-for-those-learning-r" class="nav-link" data-scroll-target="#aside-using-r-raw-strings-only-for-those-learning-r"><span class="header-section-number">31.15.1</span> Aside: using R “raw strings” (only for those learning R)</a></li>
  </ul></li>
  <li><a href="#where-clause" id="toc-where-clause" class="nav-link" data-scroll-target="#where-clause"><span class="header-section-number">31.16</span> where clause</a></li>
  <li><a href="#sql-operators" id="toc-sql-operators" class="nav-link" data-scroll-target="#sql-operators"><span class="header-section-number">31.17</span> SQL operators</a></li>
  <li><a href="#performing-calculations-with-sql" id="toc-performing-calculations-with-sql" class="nav-link" data-scroll-target="#performing-calculations-with-sql"><span class="header-section-number">31.18</span> Performing calculations with SQL</a></li>
  <li><a href="#reminder---how-na-works-in-r" id="toc-reminder---how-na-works-in-r" class="nav-link" data-scroll-target="#reminder---how-na-works-in-r"><span class="header-section-number">31.19</span> Reminder - how NA works in R</a></li>
  <li><a href="#null-in-sql" id="toc-null-in-sql" class="nav-link" data-scroll-target="#null-in-sql"><span class="header-section-number">31.20</span> NULL in SQL</a></li>
  <li><a href="#practice-1" id="toc-practice-1" class="nav-link" data-scroll-target="#practice-1"><span class="header-section-number">31.21</span> Practice</a></li>
  <li><a href="#tutorials-sqlbolt.com-and-w3chools.com" id="toc-tutorials-sqlbolt.com-and-w3chools.com" class="nav-link" data-scroll-target="#tutorials-sqlbolt.com-and-w3chools.com"><span class="header-section-number">31.22</span> Tutorials sqlbolt.com and w3chools.com</a></li>
  <li><a href="#practice---select-clause" id="toc-practice---select-clause" class="nav-link" data-scroll-target="#practice---select-clause"><span class="header-section-number">31.23</span> Practice - select clause</a></li>
  <li><a href="#practice---additional-questions-not-on-sqlbolt.com" id="toc-practice---additional-questions-not-on-sqlbolt.com" class="nav-link" data-scroll-target="#practice---additional-questions-not-on-sqlbolt.com"><span class="header-section-number">31.24</span> Practice - ADDITIONAL QUESTIONS (not on sqlbolt.com)</a></li>
  <li><a href="#andor-between-and-x-in-some-list" id="toc-andor-between-and-x-in-some-list" class="nav-link" data-scroll-target="#andor-between-and-x-in-some-list"><span class="header-section-number">31.25</span> AND/OR &nbsp;&nbsp;&nbsp; BETWEEN … AND … &nbsp;&nbsp;&nbsp; x IN (some list)</a></li>
  <li><a href="#practice---where-clause" id="toc-practice---where-clause" class="nav-link" data-scroll-target="#practice---where-clause"><span class="header-section-number">31.26</span> Practice - where clause</a>
  <ul class="collapse">
  <li><a href="#limit-clause-1" id="toc-limit-clause-1" class="nav-link" data-scroll-target="#limit-clause-1"><span class="header-section-number">31.26.1</span> limit clause</a></li>
  <li><a href="#practice-2" id="toc-practice-2" class="nav-link" data-scroll-target="#practice-2"><span class="header-section-number">31.26.2</span> PRACTICE</a></li>
  <li><a href="#the-like-operator" id="toc-the-like-operator" class="nav-link" data-scroll-target="#the-like-operator"><span class="header-section-number">31.26.3</span> The “like” operator</a></li>
  <li><a href="#practice-3" id="toc-practice-3" class="nav-link" data-scroll-target="#practice-3"><span class="header-section-number">31.26.4</span> PRACTICE</a></li>
  <li><a href="#select-distinct" id="toc-select-distinct" class="nav-link" data-scroll-target="#select-distinct"><span class="header-section-number">31.26.5</span> SELECT DISTINCT …</a></li>
  <li><a href="#practice-4" id="toc-practice-4" class="nav-link" data-scroll-target="#practice-4"><span class="header-section-number">31.26.6</span> Practice</a></li>
  <li><a href="#more-practice---north_american_cities" id="toc-more-practice---north_american_cities" class="nav-link" data-scroll-target="#more-practice---north_american_cities"><span class="header-section-number">31.26.7</span> More practice - north_american_cities</a></li>
  </ul></li>
  <li><a href="#dynamic-sql---a-brief-introduction" id="toc-dynamic-sql---a-brief-introduction" class="nav-link" data-scroll-target="#dynamic-sql---a-brief-introduction"><span class="header-section-number">31.27</span> dynamic SQL - a brief introduction</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./sql0014-theBooksDatabase-v001.html">Relational databases and SQL</a></li><li class="breadcrumb-item"><a href="./sql0010-introToSql-v023.html"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title"><yrchapternumber>30. </yrchapternumber> Intro to Relational Databases and SQL ***(no dplyr required)***</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title"><yrchapternumber>30. </yrchapternumber> Intro to Relational Databases and SQL <strong><em>(no dplyr required)</em></strong></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="important-note" class="level2" data-number="30.1">
<h2 data-number="30.1" class="anchored" data-anchor-id="important-note"><span class="header-section-number">30.1</span> IMPORTANT NOTE</h2>
<p>This section contains a general intro to the SQL SELECT statement. If you already know the basics of the R dplyr package, you can get a quicker intro to SQL SELECT from the section that assumes some dplyr knowledge that appears above.</p>
</section>
<section id="intro-to-sql" class="level2" data-number="30.2">
<h2 data-number="30.2" class="anchored" data-anchor-id="intro-to-sql"><span class="header-section-number">30.2</span> Intro to SQL</h2>
<p>We will spend the next few sections focusing on “Structured Query Language (SQL)”, the language that is used for accessing data in a relational database. Remember that a relational database stores its information as a collection of several “tables”. Each table arranges its data in rows and columns.</p>
</section>
<section id="web-resources-for-learning-sql" class="level2" data-number="30.3">
<h2 data-number="30.3" class="anchored" data-anchor-id="web-resources-for-learning-sql"><span class="header-section-number">30.3</span> Web resources for learning SQL</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The following websites contains a basic overview of many SQL </span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># commands and concepts. We will be going through the concepts and many </span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># of the interactive exercises from these websites</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># https://www.w3schools.com/sql/</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># https://sqlbolt.com/</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># https://www.sqlitetutorial.net/</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co"># https://mode.com/sql-tutorial/</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># https://sqlzoo.com/</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co"># See this page </span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co">#   https://sqlbolt.com/lesson/introduction</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="co"># For an overview of :</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="co"># - What is Structured Query Language (SQL) - pronounced "sequel"</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="co"># - What is a "Relational Database"</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="what-software-do-i-need-to-use-sql" class="level2" data-number="30.4">
<h2 data-number="30.4" class="anchored" data-anchor-id="what-software-do-i-need-to-use-sql"><span class="header-section-number">30.4</span> What software do I need to use SQL?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The sqldf package in R.  ####</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># To use SQL you must have access to software that interacts with </span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># a relational database. As mentioned above many such software packages</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># exist, e.g.</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">#      - Microsoft SQL Server</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">#      - Oracle Relational Database Management System</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">#      - MySql</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co">#      - Postgres</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co">#      - MariaDb</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co">#      - many many others</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co"># In addition many custom software packages exist that use</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># SQL to manipulate relational databases. </span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Many of these software packages tend to be overly complex to install. </span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="co"># However, the underlying SQL language that is used by all of these </span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="co"># different software packages tends to be very, very similar. </span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="co"># For this class we will be using R to learn the basic SQL commands.</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="co"># The sqldf package in R includes the sqldf function that takes a single</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="co"># character value. The value is expected to be a valid SQL command. </span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Instead of referring to database "tables" the sqldf function interprets</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="co"># database table names found in the commands as referring to R dataframes.</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="co"># This makes sense since R dataframes are very similar in structure to </span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="co"># relational database tables.</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a><span class="co"># The version of SQL that is used by default with the sqldf package</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="co"># is the "sqlite" version. You can search online for more information</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="co"># about sqlite if you want to understand more about the specifics </span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="co"># of this "flavor" of SQL. The following website is a good place to</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="co"># start: https://www.sqlitetutorial.net/</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="the-sqldf-r-package" class="level3" data-number="30.4.1">
<h3 data-number="30.4.1" class="anchored" data-anchor-id="the-sqldf-r-package"><span class="header-section-number">30.4.1</span> The sqldf R package</h3>
</section>
</section>
<section id="using-the-sqldf-r-package" class="level1" data-number="31">
<h1 data-number="31"><span class="header-section-number">31</span> Using the sqldf R package</h1>
<p>#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ SQL is NOT an “R” concept … however we can use SQL in R via the sqldf package.</p>
<p>The “sqldf” package in R allows you to use the sqldf() function to run sql statements using R dataframes instead of database tables. We will be using this package to introduce the first sql commands we will learn.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install and load (i.e. require) the sqldf package </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(sqldf, <span class="at">quietly=</span><span class="cn">TRUE</span>, <span class="at">warn.conflicts=</span><span class="cn">FALSE</span>)){<span class="fu">install.packages</span>(<span class="st">"sqldf"</span>);<span class="fu">require</span>(sqldf);}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'sqldf' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'gsubfn' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'proto' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'RSQLite' was built under R version 4.4.3</code></pre>
</div>
</div>
<section id="data-for-this-part-of-the-tutorial" class="level2" data-number="31.1">
<h2 data-number="31.1" class="anchored" data-anchor-id="data-for-this-part-of-the-tutorial"><span class="header-section-number">31.1</span> data for this part of the tutorial</h2>
<p>You can download the data for this tutorial from the following files.</p>
<ul>
<li><p><a href="grades.csv">grades.csv</a> This is a .csv file. You can read the contents of the file into R with the read.csv function as shown below.</p></li>
<li><p><a href="sqlbolt_tables-v007.RData">sqlbolt_tables-v007.RData</a> This is a .RData file. You can read the contents of the file into R with the load function as shown below.</p></li>
</ul>
<p>You can load these tables into your R session with the following commands.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>grades <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"grades.csv"</span>, <span class="at">na.strings=</span><span class="fu">c</span>(<span class="st">""</span>, <span class="st">"NULL"</span>, <span class="st">"NA"</span>))</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"sqlbolt_tables-v007.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Below are the contents of these tables:</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click here to see the <strong>grades</strong> table
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * from grades"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      id  student year honors test1 test2 test3 major
1  s0100      joe   fr  FALSE    70    82    NA   IDS
2  s0200      sue   fr  FALSE    80    80    79   IDS
3  s0300     anne   fr   TRUE    90    95    92   IDS
4  s0400    frank   so   TRUE   100    95    91   ACC
5  s0500      bob   so  FALSE    30    NA    NA   IDS
6  s0600 samantha   so   TRUE   100    70    97   IDS
7  s0700    larry   ju  FALSE    32    80    NA   FIN
8  s0800     bill   se  FALSE    84    90    92   ACC
9  s0900 lucricia   fr   TRUE    80   100    88   IDS
10 s1000 margaret   se  FALSE    59    47    NA   IDS
11 s1100    dalia   se  FALSE    85    92    93   FIN
12 s1200      zvi   ju   TRUE    90    98    92   ACC
13 s1300     mike   ju   TRUE    90    86    79   IDS
14 s1400    david   se   TRUE    90    87    87   IDS
15 s1500     dana   so  FALSE   100    93    91   FIN</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click here to see the <strong>movies</strong> table
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * from movies"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1   1           Toy Story  John Lasseter 1995             81
2   2        A Bug's Life  John Lasseter 1998             95
3   3         Toy Story 2  John Lasseter 1999             93
4   4      Monsters, Inc.    Pete Docter 2001             92
5   5        Finding Nemo Andrew Stanton 2003            107
6   6     The Incredibles      Brad Bird 2004            116
7   7                Cars  John Lasseter 2006            117
8   8         Ratatouille      Brad Bird 2007            115
9   9              WALL-E Andrew Stanton 2008            104
10 10                  Up    Pete Docter 2009            101
11 11         Toy Story 3    Lee Unkrich 2010            103
12 12              Cars 2  John Lasseter 2011            120
13 13               Brave Brenda Chapman 2012            102
14 14 Monsters University    Dan Scanlon 2013            110
15 87              WALL-G Brenda Chapman 2042             92</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click here to see the <strong>orders</strong> table
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * from orders"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    OrderID CustomerID EmployeeID  OrderDate ShipperID
1     10248         90          5   7/4/1996         3
2     10249         81          6   7/5/1996         1
3     10250         34          4   7/8/1996         2
4     10251         84          3   7/8/1996         1
5     10252         76          4   7/9/1996         2
6     10253         34          3  7/10/1996         2
7     10254         14          5  7/11/1996         2
8     10255         68          9  7/12/1996         3
9     10256         88          3  7/15/1996         2
10    10257         35          4  7/16/1996         3
11    10258         20          1  7/17/1996         1
12    10259         13          4  7/18/1996         3
13    10260         55          4  7/19/1996         1
14    10261         61          4  7/19/1996         2
15    10262         65          8  7/22/1996         3
16    10263         20          9  7/23/1996         3
17    10264         24          6  7/24/1996         3
18    10265          7          2  7/25/1996         1
19    10266         87          3  7/26/1996         3
20    10267         25          4  7/29/1996         1
21    10268         33          8  7/30/1996         3
22    10269         89          5  7/31/1996         1
23    10270         87          1   8/1/1996         1
24    10271         75          6   8/1/1996         2
25    10272         65          6   8/2/1996         2
26    10273         63          3   8/5/1996         3
27    10274         85          6   8/6/1996         1
28    10275         49          1   8/7/1996         1
29    10276         80          8   8/8/1996         3
30    10277         52          2   8/9/1996         3
31    10278          5          8  8/12/1996         2
32    10279         44          8  8/13/1996         2
33    10280          5          2  8/14/1996         1
34    10281         69          4  8/14/1996         1
35    10282         69          4  8/15/1996         1
36    10283         46          3  8/16/1996         3
37    10284         44          4  8/19/1996         1
38    10285         63          1  8/20/1996         2
39    10286         63          8  8/21/1996         3
40    10287         67          8  8/22/1996         3
41    10288         66          4  8/23/1996         1
42    10289         11          7  8/26/1996         3
43    10290         15          8  8/27/1996         1
44    10291         61          6  8/27/1996         2
45    10292         81          1  8/28/1996         2
46    10293         80          1  8/29/1996         3
47    10294         65          4  8/30/1996         2
48    10295         85          2   9/2/1996         2
49    10296         46          6   9/3/1996         1
50    10297          7          5   9/4/1996         2
51    10298         37          6   9/5/1996         2
52    10299         67          4   9/6/1996         2
53    10300         49          2   9/9/1996         2
54    10301         86          8   9/9/1996         2
55    10302         76          4  9/10/1996         2
56    10303         30          7  9/11/1996         2
57    10304         80          1  9/12/1996         2
58    10305         55          8  9/13/1996         3
59    10306         69          1  9/16/1996         3
60    10307         48          2  9/17/1996         2
61    10308          2          7  9/18/1996         3
62    10309         37          3  9/19/1996         1
63    10310         77          8  9/20/1996         2
64    10311         18          1  9/20/1996         3
65    10312         86          2  9/23/1996         2
66    10313         63          2  9/24/1996         2
67    10314         65          1  9/25/1996         2
68    10315         38          4  9/26/1996         2
69    10316         65          1  9/27/1996         3
70    10317         48          6  9/30/1996         1
71    10318         38          8  10/1/1996         2
72    10319         80          7  10/2/1996         3
73    10320         87          5  10/3/1996         3
74    10321         38          3  10/3/1996         2
75    10322         58          7  10/4/1996         3
76    10323         39          4  10/7/1996         1
77    10324         71          9  10/8/1996         1
78    10325         39          1  10/9/1996         3
79    10326          8          4 10/10/1996         2
80    10327         24          2 10/11/1996         1
81    10328         28          4 10/14/1996         3
82    10329         75          4 10/15/1996         2
83    10330         46          3 10/16/1996         1
84    10331          9          9 10/16/1996         1
85    10332         51          3 10/17/1996         2
86    10333         87          5 10/18/1996         3
87    10334         84          8 10/21/1996         2
88    10335         37          7 10/22/1996         2
89    10336         60          7 10/23/1996         2
90    10337         25          4 10/24/1996         3
91    10338         55          4 10/25/1996         3
92    10339         51          2 10/28/1996         2
93    10340          9          1 10/29/1996         3
94    10341         73          7 10/29/1996         3
95    10342         25          4 10/30/1996         2
96    10343         44          4 10/31/1996         1
97    10344         89          4  11/1/1996         2
98    10345         63          2  11/4/1996         2
99    10346         65          3  11/5/1996         3
100   10347         21          4  11/6/1996         3
101   10348         86          4  11/7/1996         2
102   10349         75          7  11/8/1996         1
103   10350         41          6 11/11/1996         2
104   10351         20          1 11/11/1996         1
105   10352         28          3 11/12/1996         3
106   10353         59          7 11/13/1996         3
107   10354         58          8 11/14/1996         3
108   10355          4          6 11/15/1996         1
109   10356         86          6 11/18/1996         2
110   10357         46          1 11/19/1996         3
111   10358         41          5 11/20/1996         1
112   10359         72          5 11/21/1996         3
113   10360          7          4 11/22/1996         3
114   10361         63          1 11/22/1996         2
115   10362          9          3 11/25/1996         1
116   10363         17          4 11/26/1996         3
117   10364         19          1 11/26/1996         1
118   10365          3          3 11/27/1996         2
119   10366         29          8 11/28/1996         2
120   10367         83          7 11/28/1996         3
121   10368         20          2 11/29/1996         2
122   10369         75          8  12/2/1996         2
123   10370         14          6  12/3/1996         2
124   10371         41          1  12/3/1996         1
125   10372         62          5  12/4/1996         2
126   10373         37          4  12/5/1996         3
127   10374         91          1  12/5/1996         3
128   10375         36          3  12/6/1996         2
129   10376         51          1  12/9/1996         2
130   10377         72          1  12/9/1996         3
131   10378         24          5 12/10/1996         3
132   10379         61          2 12/11/1996         1
133   10380         37          8 12/12/1996         3
134   10381         46          3 12/12/1996         3
135   10382         20          4 12/13/1996         1
136   10383          4          8 12/16/1996         3
137   10384          5          3 12/16/1996         3
138   10385         75          1 12/17/1996         2
139   10386         21          9 12/18/1996         3
140   10387         70          1 12/18/1996         2
141   10388         72          2 12/19/1996         1
142   10389         10          4 12/20/1996         2
143   10390         20          6 12/23/1996         1
144   10391         17          3 12/23/1996         3
145   10392         59          2 12/24/1996         3
146   10393         71          1 12/25/1996         3
147   10394         36          1 12/25/1996         3
148   10395         35          6 12/26/1996         1
149   10396         25          1 12/27/1996         3
150   10397         60          5 12/27/1996         1
151   10398         71          2 12/30/1996         3
152   10399         83          8 12/31/1996         3
153   10400         19          1   1/1/1997         3
154   10401         65          1   1/1/1997         1
155   10402         20          8   1/2/1997         2
156   10403         20          4   1/3/1997         3
157   10404         49          2   1/3/1997         1
158   10405         47          1   1/6/1997         1
159   10406         62          7   1/7/1997         1
160   10407         56          2   1/7/1997         2
161   10408         23          8   1/8/1997         1
162   10409         54          3   1/9/1997         1
163   10410         10          3  1/10/1997         3
164   10411         10          9  1/10/1997         3
165   10412         87          8  1/13/1997         2
166   10413         41          3  1/14/1997         2
167   10414         21          2  1/14/1997         3
168   10415         36          3  1/15/1997         1
169   10416         87          8  1/16/1997         3
170   10417         73          4  1/16/1997         3
171   10418         63          4  1/17/1997         1
172   10419         68          4  1/20/1997         2
173   10420         88          3  1/21/1997         1
174   10421         61          8  1/21/1997         1
175   10422         27          2  1/22/1997         1
176   10423         31          6  1/23/1997         3
177   10424         51          7  1/23/1997         2
178   10425         41          6  1/24/1997         2
179   10426         29          4  1/27/1997         1
180   10427         59          4  1/27/1997         2
181   10428         66          7  1/28/1997         1
182   10429         37          3  1/29/1997         2
183   10430         20          4  1/30/1997         1
184   10431         10          4  1/30/1997         2
185   10432         75          3  1/31/1997         2
186   10433         60          3   2/3/1997         3
187   10434         24          3   2/3/1997         2
188   10435         16          8   2/4/1997         2
189   10436          7          3   2/5/1997         2
190   10437         87          8   2/5/1997         1
191   10438         79          3   2/6/1997         2
192   10439         51          6   2/7/1997         3
193   10440         71          4  2/10/1997         2
194   10441         55          3  2/10/1997         2
195   10442         20          3  2/11/1997         2
196   10443         66          8  2/12/1997         1</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click here to see the <strong>customers</strong> table
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * from customers"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   CustomerID                         CustomerName              ContactName                                           Address             City PostalCode     Country
1           1                  Alfreds Futterkiste             Maria Anders                                     Obere Str. 57           Berlin      12209     Germany
2           2   Ana Trujillo Emparedados y helados             Ana Trujillo                  Avda. de la Constituci\xf3n 2222   M\xe9xico D.F.       5021      Mexico
3           3           Antonio Moreno Taquer\xeda           Antonio Moreno                                    Mataderos 2312   M\xe9xico D.F.       5023      Mexico
4           4                      Around the Horn             Thomas Hardy                                   120 Hanover Sq.           London    WA1 1DP          UK
5           5                Berglunds snabbk\xf6p       Christina Berglund                                 Berguvsv\xe4gen 8         Lule\xe5   S-958 22      Sweden
6           6              Blauer See Delikatessen               Hanna Moos                                    Forsterstr. 57         Mannheim      68306     Germany
7           7              Blondel p\xe8re et fils Fr\xe9d\xe9rique Citeaux                               24, place Kl\xe9ber       Strasbourg      67000      France
8           8         B\xf3lido Comidas preparadas         Mart\xedn Sommer                                    C/ Araquil, 67           Madrid      28023       Spain
9           9                             Bon app'        Laurence Lebihans                              12, rue des Bouchers        Marseille      13008      France
10         10               Bottom-Dollar Marketse        Elizabeth Lincoln                                23 Tsawassen Blvd.        Tsawassen    T2F 8M4      Canada
11         11                        B's Beverages        Victoria Ashworth                                 Fauntleroy Circus           London    EC2 5NT          UK
12         12           Cactus Comidas para llevar         Patricio Simpson                                       Cerrito 333     Buenos Aires       1010   Argentina
13         13           Centro comercial Moctezuma          Francisco Chang                           Sierras de Granada 9993   M\xe9xico D.F.       5022      Mexico
14         14                    Chop-suey Chinese                Yang Wang                                      Hauptstr. 29             Bern       3012 Switzerland
15         15                  Com\xe9rcio Mineiro             Pedro Afonso                           Av. dos Lus\xedadas, 23     S\xe3o Paulo  05432-043      Brazil
16         16                Consolidated Holdings          Elizabeth Brown                       Berkeley Gardens 12 Brewery           London    WX1 6LT          UK
17         17            Drachenblut Delikatessend             Sven Ottlieb                                      Walserweg 21           Aachen      52066     Germany
18         18                      Du monde entier           Janine Labrune                      67, rue des Cinquante Otages           Nantes      44000      France
19         19                   Eastern Connection                Ann Devon                                    35 King George           London    WX3 6FW          UK
20         20                         Ernst Handel            Roland Mendel                                      Kirchgasse 6             Graz       8010     Austria
21         21                   Familia Arquibaldo                Aria Cruz                                   Rua Or\xf3s, 92     S\xe3o Paulo  05442-030      Brazil
22         22 FISSA Fabrica Inter. Salchichas S.A.               Diego Roel                                C/ Moralzarzal, 86           Madrid      28034       Spain
23         23                    Folies gourmandes         Martine Ranc\xe9                       184, chauss\xe9e de Tournai            Lille      59000      France
24         24                    Folk och f\xe4 HB            Maria Larsson                                   \xc5kergatan 24        Br\xe4cke   S-844 67      Sweden
25         25                       Frankenversand            Peter Franken                                 Berliner Platz 43       M\xfcnchen      80805     Germany
26         26                  France restauration           Carine Schmitt                                    54, rue Royale           Nantes      44000      France
27         27                       Franchi S.p.A.            Paolo Accorti                               Via Monte Bianco 34           Torino      10100       Italy
28         28       Furia Bacalhau e Frutos do Mar           Lino Rodriguez                            Jardim das rosas n. 32           Lisboa       1675    Portugal
29         29         Galer\xeda del gastr\xf3nomo         Eduardo Saavedra                         Rambla de Catalu\xf1a, 23        Barcelona       8022       Spain
30         30               Godos Cocina T\xedpica     Jos\xe9 Pedro Freyre                                     C/ Romero, 33          Sevilla      41101       Spain
31         31                  Gourmet Lanchonetes         Andr\xe9 Fonseca                                   Av. Brasil, 442         Campinas  04876-786      Brazil
32         32              Great Lakes Food Market            Howard Snyder                                  2732 Baker Blvd.           Eugene      97403         USA
33         33                 GROSELLA-Restaurante           Manuel Pereira                      5\xaa Ave. Los Palos Grandes          Caracas       1081   Venezuela
34         34                        Hanari Carnes             Mario Pontes                                Rua do Pa\xe7o, 67   Rio de Janeiro  05454-876      Brazil
35         35                  HILARI\xd3N-Abastos      Carlos Hern\xe1ndez        Carrera 22 con Ave. Carlos Soublette #8-35 San Crist\xf3bal       5022   Venezuela
36         36           Hungry Coyote Import Store            Yoshi Latimer                    City Center Plaza 516 Main St.            Elgin      97827         USA
37         37         Hungry Owl All-Night Grocers         Patricia McKenna                                  8 Johnstown Road             Cork                Ireland
38         38                       Island Trading            Helen Bennett                         Garden House Crowther Way            Cowes   PO31 7PJ          UK
39         39                   K\xf6niglich Essen            Philip Cramer                                     Maubelstr. 90      Brandenburg      14776     Germany
40         40                 La corne d'abondance            Daniel Tonini                            67, avenue de l'Europe       Versailles      78000      France
41         41                     La maison d'Asie           Annette Roulet                             1 rue Alsace-Lorraine         Toulouse      31000      France
42         42        Laughing Bacchus Wine Cellars          Yoshi Tannamuri                                      1900 Oak St.        Vancouver    V3F 2K1      Canada
43         43                 Lazy K Kountry Store               John Steel                              12 Orchestra Terrace      Walla Walla      99362         USA
44         44                  Lehmanns Marktstand           Renate Messner                                      Magazinweg 7   Frankfurt a.M.      60528     Germany
45         45                    Let's Stop N Shop             Jaime Yorres                               87 Polk St. Suite 5    San Francisco      94117         USA
46         46                    LILA-Supermercado       Carlos Gonz\xe1lez Carrera 52 con Ave. Bol\xedvar #65-98 Llano Largo     Barquisimeto       3508   Venezuela
47         47                     LINO-Delicateses         Felipe Izquierdo                           Ave. 5 de Mayo Porlamar  I. de Margarita       4980   Venezuela
48         48             Lonesome Pine Restaurant              Fran Wilson                                89 Chiaroscuro Rd.         Portland      97219         USA
49         49         Magazzini Alimentari Riuniti         Giovanni Rovelli                           Via Ludovico il Moro 22          Bergamo      24100       Italy
50         50                         Maison Dewey          Catherine Dewey                               Rue Joseph-Bens 532        Bruxelles     B-1180     Belgium
51         51                    M\xe8re Paillarde        Jean Fresni\xe8re                                43 rue St. Laurent      Montr\xe9al    H1J 1C3      Canada
52         52               Morgenstern Gesundkost          Alexander Feuer                                       Heerstr. 22          Leipzig       4179     Germany
53         53                          North/South           Simon Crowther                      South House 300 Queensbridge           London    SW7 1RZ          UK
54         54         Oc\xe9ano Atl\xe1ntico Ltda.           Yvonne Moncada               Ing. Gustavo Moncada 8585 Piso 20-A     Buenos Aires       1010   Argentina
55         55               Old World Delicatessen            Rene Phillips                                   2743 Bering St.        Anchorage      99508         USA
56         56                Ottilies K\xe4seladen      Henriette Pfalzheim                                Mehrheimerstr. 369          K\xf6ln      50739     Germany
57         57              Paris sp\xe9cialit\xe9s           Marie Bertrand                           265, boulevard Charonne            Paris      75012      France
58         58         Pericles Comidas cl\xe1sicas   Guillermo Fern\xe1ndez                          Calle Dr. Jorge Cash 321   M\xe9xico D.F.       5033      Mexico
59         59                     Piccolo und mehr              Georg Pipps                                       Geislweg 14         Salzburg       5020     Austria
60         60              Princesa Isabel Vinhoss         Isabel de Castro                         Estrada da sa\xfade n. 58           Lisboa       1756    Portugal
61         61                       Que Del\xedcia         Bernardo Batista                           Rua da Panificadora, 12   Rio de Janeiro  02389-673      Brazil
62         62                        Queen Cozinha        L\xfacia Carvalho                      Alameda dos Can\xe0rios, 891     S\xe3o Paulo  05487-020      Brazil
63         63                           QUICK-Stop              Horst Kloss                               Taucherstra\xdfe 10        Cunewalde       1307     Germany
64         64                        Rancho grande      Sergio Guti\xe9rrez                            Av. del Libertador 900     Buenos Aires       1010   Argentina
65         65           Rattlesnake Canyon Grocery             Paula Wilson                                   2817 Milton Dr.      Albuquerque      87110         USA
66         66                   Reggiani Caseifici          Maurizio Moroni                            Strada Provinciale 124    Reggio Emilia      42100       Italy
67         67                   Ricardo Adocicados           Janete Limeira                               Av. Copacabana, 267   Rio de Janeiro  02389-890      Brazil
68         68                   Richter Supermarkt             Michael Holz                                 Grenzacherweg 237        Gen\xe8ve       1203 Switzerland
69         69                     Romero y tomillo         Alejandra Camino                                    Gran V\xeda, 1           Madrid      28001       Spain
70         70                     Sant\xe9 Gourmet         Jonas Bergulfsen                            Erling Skakkes gate 78          Stavern       4110      Norway
71         71                   Save-a-lot Markets           Jose Pavarotti                                   187 Suffolk Ln.            Boise      83720         USA
72         72                   Seven Seas Imports               Hari Kumar                                   90 Wadhurst Rd.           London   OX15 4NB          UK
73         73                        Simons bistro           Jytte Petersen                                   Vinb\xe6ltet 34     K\xf8benhavn       1734     Denmark
74         74           Sp\xe9cialit\xe9s du monde        Dominique Perrier                                 25, rue Lauriston            Paris      75016      France
75         75                Split Rail Beer &amp; Ale       Art Braunschweiger                                      P.O. Box 555           Lander      82520         USA
76         76               Supr\xeames d\xe9lices         Pascale Cartrain                              Boulevard Tirou, 255        Charleroi     B-6000     Belgium
77         77                       The Big Cheese                Liz Nixon                          89 Jefferson Way Suite 2         Portland      97201         USA
78         78                      The Cracker Box                 Liu Wong                               55 Grizzly Peak Rd.            Butte      59801         USA
79         79                Toms Spezialit\xe4ten            Karin Josephs                                     Luisenstr. 48       M\xfcnster      44087     Germany
80         80                  Tortuga Restaurante     Miguel Angel Paolino                                  Avda. Azteca 123   M\xe9xico D.F.       5033      Mexico
81         81         Tradi\xe7\xe3o Hipermercados        Anabela Domingues                        Av. In\xeas de Castro, 414     S\xe3o Paulo  05634-030      Brazil
82         82    Trail's Head Gourmet Provisioners           Helvetius Nagy                                 722 DaVinci Blvd.         Kirkland      98034         USA
83         83                         Vaffeljernet              Palle Ibsen                                  Smagsl\xf8get 45         \xc5rhus       8200     Denmark
84         84                 Victuailles en stock             Mary Saveley                                2, rue du Commerce             Lyon      69004      France
85         85            Vins et alcools Chevalier             Paul Henriot                                59 rue de l'Abbaye            Reims      51100      France
86         86                    Die Wandernde Kuh           Rita M\xfcller                                 Adenauerallee 900        Stuttgart      70563     Germany
87         87                       Wartian Herkku         Pirkko Koskitalo                                       Torikatu 38             Oulu      90110     Finland
88         88               Wellington Importadora            Paula Parente                                Rua do Mercado, 12          Resende  08737-363      Brazil
89         89                 White Clover Markets           Karl Jablonski                       305 - 14th Ave. S. Suite 3B          Seattle      98128         USA
90         90                          Wilman Kala          Matti Karttunen                                     Keskuskatu 45         Helsinki      21240     Finland
91         91                               Wolski                  Zbyszek                                   ul. Filtrowa 68            Walla     01-012      Poland</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click here to see the <strong>north_american_cities</strong> table
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * from north_american_cities"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  city       country population latitude  longitude
1          Guadalajara        Mexico    1500800 20.65970 -103.34961
2              Toronto        Canada    2795060 43.65323  -79.38318
3              Houston United States    2195914 29.76043  -95.36980
4             New York United States    8405837 40.71278  -74.00594
5         Philadelphia United States    1553165 39.95258  -75.16522
6               Havana          Cuba    2106146 23.05407  -82.34519
7          Mexico City        Mexico    8555500 19.43261  -99.13321
8              Phoenix United States    1513367 33.44838 -112.07404
9          Los Angeles United States    3884307 34.05223 -118.24368
10 Ecatepec de Morelos        Mexico    1742000 19.60184  -99.05067
11            Montreal        Canada    1717767 45.50169  -73.56726
12             Chicago United States    2718782 41.87811  -87.62980</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="sql-select-statement" class="level2" data-number="31.2">
<h2 data-number="31.2" class="anchored" data-anchor-id="sql-select-statement"><span class="header-section-number">31.2</span> SQL SELECT statement</h2>
<p>The “select” statement is used to retrieve information from a relational database table (or in our case, from an R dataframe). The select statement has several “clauses”. The following are the allowed clauses. The … after each clause name represents additional text that needs to be typed. We will learn how to use each of these different clauses below.</p>
<p>The following are the clauses of a SQL select statement:</p>
<pre><code>    select ...
    from ...
    where ...
    group by ..
    having ...
    order by ..
    limit ...        (NOTE: the limit clause is found in many SQL implementations but is not standard)</code></pre>
<p>NOTES:</p>
<ol type="1">
<li><p>All of the clauses are optional, except for the select clause.</p></li>
<li><p>The clauses that appear in a particular select statement must be in the order shown above.</p></li>
<li><p>The limit clause is not a standard part of SQL but is commonly used in many flavors of the SQL language.</p></li>
<li><p>According to the ANSI SQL standard, SQL is NOT case sensitive. In other words you can type “SELECT …” or “select …”.</p>
<p>Often, programmers will capitalize the clause names in select statements however, this is not required.</p>
<p>Some SQL products do make SQL case sensitive. This is especially true when it comes to names of tables and names of columns in the tables.</p>
<p>The sqldf package that we will be using is case-INsensitve (i.e.&nbsp;case does NOT matter) for everything EXCEPT for table names (i.e.&nbsp;dataframe names).</p></li>
</ol>
</section>
<section id="how-to-use-the-r-sqldf-function" class="level2" data-number="31.3">
<h2 data-number="31.3" class="anchored" data-anchor-id="how-to-use-the-r-sqldf-function"><span class="header-section-number">31.3</span> How to use the R sqldf() function</h2>
<p>The sqldf function accepts a single argument that is expected to be a SQL SELECT command - e.g.&nbsp;<code>sqldf( SOME_SQL_COMMAND )</code>.<br>
The table names in the SELECT command are expected to be R dataframes.</p>
<p>You can get help with the sqldf package by typing: <code>help(package="sqldf")</code></p>
<p>You can get help about the <code>sqldf</code> function that is part of the sqldf package by typing: <code>?sqldf</code></p>
</section>
<section id="intro-to-the-sql-select-command" class="level2" data-number="31.4">
<h2 data-number="31.4" class="anchored" data-anchor-id="intro-to-the-sql-select-command"><span class="header-section-number">31.4</span> Intro to the SQL SELECT command</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select clause specifies which columns you'd like to </span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># see in the results.</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, test1, test2 </span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student test1 test2
1       joe    70    82
2       sue    80    80
3      anne    90    95
4     frank   100    95
5       bob    30    NA
6  samantha   100    70
7     larry    32    80
8      bill    84    90
9  lucricia    80   100
10 margaret    59    47
11    dalia    85    92
12      zvi    90    98
13     mike    90    86
14    david    90    87
15     dana   100    93</code></pre>
</div>
</div>
</section>
<section id="select-from-.." class="level2" data-number="31.5">
<h2 data-number="31.5" class="anchored" data-anchor-id="select-from-.."><span class="header-section-number">31.5</span> SELECT * FROM …..</h2>
<p>You can type * instead of the column names to get all of the columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * from grades"</span>)   <span class="co"># display the entire grades table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      id  student year honors test1 test2 test3 major
1  s0100      joe   fr  FALSE    70    82    NA   IDS
2  s0200      sue   fr  FALSE    80    80    79   IDS
3  s0300     anne   fr   TRUE    90    95    92   IDS
4  s0400    frank   so   TRUE   100    95    91   ACC
5  s0500      bob   so  FALSE    30    NA    NA   IDS
6  s0600 samantha   so   TRUE   100    70    97   IDS
7  s0700    larry   ju  FALSE    32    80    NA   FIN
8  s0800     bill   se  FALSE    84    90    92   ACC
9  s0900 lucricia   fr   TRUE    80   100    88   IDS
10 s1000 margaret   se  FALSE    59    47    NA   IDS
11 s1100    dalia   se  FALSE    85    92    93   FIN
12 s1200      zvi   ju   TRUE    90    98    92   ACC
13 s1300     mike   ju   TRUE    90    86    79   IDS
14 s1400    david   se   TRUE    90    87    87   IDS
15 s1500     dana   so  FALSE   100    93    91   FIN</code></pre>
</div>
</div>
</section>
<section id="capturing-the-output-of-sqldf-in-an-r-variable" class="level2" data-number="31.6">
<h2 data-number="31.6" class="anchored" data-anchor-id="capturing-the-output-of-sqldf-in-an-r-variable"><span class="header-section-number">31.6</span> capturing the output of sqldf in an R variable</h2>
<p>In R, when using the sqldf function, you can capture the output of sqldf in another variable. This simply creates a new R dataframe (which in sqldf is analogous to a database table).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example: Capture the output of the sql command in a new dataframe</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>just_test1_and_test2 <span class="ot">=</span> <span class="fu">sqldf</span>(<span class="st">"select student, test1, test2</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="st">                              from grades"</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Here is the original table</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * from grades"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      id  student year honors test1 test2 test3 major
1  s0100      joe   fr  FALSE    70    82    NA   IDS
2  s0200      sue   fr  FALSE    80    80    79   IDS
3  s0300     anne   fr   TRUE    90    95    92   IDS
4  s0400    frank   so   TRUE   100    95    91   ACC
5  s0500      bob   so  FALSE    30    NA    NA   IDS
6  s0600 samantha   so   TRUE   100    70    97   IDS
7  s0700    larry   ju  FALSE    32    80    NA   FIN
8  s0800     bill   se  FALSE    84    90    92   ACC
9  s0900 lucricia   fr   TRUE    80   100    88   IDS
10 s1000 margaret   se  FALSE    59    47    NA   IDS
11 s1100    dalia   se  FALSE    85    92    93   FIN
12 s1200      zvi   ju   TRUE    90    98    92   ACC
13 s1300     mike   ju   TRUE    90    86    79   IDS
14 s1400    david   se   TRUE    90    87    87   IDS
15 s1500     dana   so  FALSE   100    93    91   FIN</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Here is the new table</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * from just_test1_and_test2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student test1 test2
1       joe    70    82
2       sue    80    80
3      anne    90    95
4     frank   100    95
5       bob    30    NA
6  samantha   100    70
7     larry    32    80
8      bill    84    90
9  lucricia    80   100
10 margaret    59    47
11    dalia    85    92
12      zvi    90    98
13     mike    90    86
14    david    90    87
15     dana   100    93</code></pre>
</div>
</div>
<p>Remember though that the actual sqldf() function in R is NOT technically part of the SQL language. It is simply how we can use SQL commands to manipulate R dataframes.</p>
<p>In a relational database there usually is some way to capture the output of a select statement in a different table however, the actual mechanism is not standard. MANY sql database software products use the “into” clause of the select statement to do so. That is not the case for SQLite (the version of SQL that we are using). The bottom line is that the exact technique of storing the output of a SELECT statement in a new table is different from SQL product to SQL product.</p>
</section>
<section id="a-note-about-case-sensitivity-in-sqldf" class="level2" data-number="31.7">
<h2 data-number="31.7" class="anchored" data-anchor-id="a-note-about-case-sensitivity-in-sqldf"><span class="header-section-number">31.7</span> A note about case-sensitivity in sqldf()</h2>
<p>As mentioned above, sqldf is case-INsensitive regarding parts of the command OTHER THAN the table names (i.e.&nbsp;the dataframe names). To demonstrate, the following will produce the same results as the command above.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># same results as above</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"SELECT STUDENT, TEST1, TEST2   </span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="st">      FROM grades"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student test1 test2
1       joe    70    82
2       sue    80    80
3      anne    90    95
4     frank   100    95
5       bob    30    NA
6  samantha   100    70
7     larry    32    80
8      bill    84    90
9  lucricia    80   100
10 margaret    59    47
11    dalia    85    92
12      zvi    90    98
13     mike    90    86
14    david    90    87
15     dana   100    93</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># However, the following command will NOT work since there is no variable</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co"># named GRADES (the name is grades)</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ERROR - should be "grades", not "GRADES"</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"SELECT STUDENT, TEST1, TEST2    </span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="st">       FROM GRADES"</span>)                      <span class="co"># Error: no such table: GRADES</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: no such table: GRADES</code></pre>
</div>
</div>
</section>
<section id="order-by" class="level2" data-number="31.8">
<h2 data-number="31.8" class="anchored" data-anchor-id="order-by"><span class="header-section-number">31.8</span> order by</h2>
<p>The ORDER BY clause allows you to specify the order that the rows should appear in the results. Numbers are ordered numerically. Character data is ordered alphabetically.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Order by test1 </span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, year, test1, test2</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="st">      order by test1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student year test1 test2
1       bob   so    30    NA
2     larry   ju    32    80
3  margaret   se    59    47
4       joe   fr    70    82
5       sue   fr    80    80
6  lucricia   fr    80   100
7      bill   se    84    90
8     dalia   se    85    92
9      anne   fr    90    95
10      zvi   ju    90    98
11     mike   ju    90    86
12    david   se    90    87
13    frank   so   100    95
14 samantha   so   100    70
15     dana   so   100    93</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Order by student</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, year, test1, test2</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="st">      order by student"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student year test1 test2
1      anne   fr    90    95
2      bill   se    84    90
3       bob   so    30    NA
4     dalia   se    85    92
5      dana   so   100    93
6     david   se    90    87
7     frank   so   100    95
8       joe   fr    70    82
9     larry   ju    32    80
10 lucricia   fr    80   100
11 margaret   se    59    47
12     mike   ju    90    86
13 samantha   so   100    70
14      sue   fr    80    80
15      zvi   ju    90    98</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Order by year</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, year, test1, test2</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="st">      order by year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student year test1 test2
1       joe   fr    70    82
2       sue   fr    80    80
3      anne   fr    90    95
4  lucricia   fr    80   100
5     larry   ju    32    80
6       zvi   ju    90    98
7      mike   ju    90    86
8      bill   se    84    90
9  margaret   se    59    47
10    dalia   se    85    92
11    david   se    90    87
12    frank   so   100    95
13      bob   so    30    NA
14 samantha   so   100    70
15     dana   so   100    93</code></pre>
</div>
</div>
<p>You can specify <strong>asc</strong> to indicate “ascending” order (this is the default)</p>
<p>You can specify <strong>desc</strong> to indicate “descending” order</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># specify asc for order (i.e. ascending) - this is the default.</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co"># if you dont' specify asc you will get the same results.</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, year, test1, test2</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="st">      order by test1 asc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student year test1 test2
1       bob   so    30    NA
2     larry   ju    32    80
3  margaret   se    59    47
4       joe   fr    70    82
5       sue   fr    80    80
6  lucricia   fr    80   100
7      bill   se    84    90
8     dalia   se    85    92
9      anne   fr    90    95
10      zvi   ju    90    98
11     mike   ju    90    86
12    david   se    90    87
13    frank   so   100    95
14 samantha   so   100    70
15     dana   so   100    93</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reversed - order is descending, ie. desc</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, year, test1, test2</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="st">      order by test1 desc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student year test1 test2
1     frank   so   100    95
2  samantha   so   100    70
3      dana   so   100    93
4      anne   fr    90    95
5       zvi   ju    90    98
6      mike   ju    90    86
7     david   se    90    87
8     dalia   se    85    92
9      bill   se    84    90
10      sue   fr    80    80
11 lucricia   fr    80   100
12      joe   fr    70    82
13 margaret   se    59    47
14    larry   ju    32    80
15      bob   so    30    NA</code></pre>
</div>
</div>
<section id="ordering-by-2-or-more-columns" class="level3" data-number="31.8.1">
<h3 data-number="31.8.1" class="anchored" data-anchor-id="ordering-by-2-or-more-columns"><span class="header-section-number">31.8.1</span> Ordering by 2 or more columns</h3>
<p>You can specify more than one column in the order by clause The 2nd specified column will only have an effect for rows that have the same value in the first specified column.</p>
<section id="examples---ordering-by-1-column-we-did-this-above" class="level4">
<h4 class="anchored" data-anchor-id="examples---ordering-by-1-column-we-did-this-above">Examples - ordering by 1 column (we did this above)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co">#.............................</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ordering by a single column</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="co">#.............................</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="co"># order the data in increasing order of test1 value</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Notice that the year values are NOT in order</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, year, test1</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="st">      order by test1 asc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student year test1
1       bob   so    30
2     larry   ju    32
3  margaret   se    59
4       joe   fr    70
5       sue   fr    80
6  lucricia   fr    80
7      bill   se    84
8     dalia   se    85
9      anne   fr    90
10      zvi   ju    90
11     mike   ju    90
12    david   se    90
13    frank   so   100
14 samantha   so   100
15     dana   so   100</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># order the data in increasing order of year value (alphabetical order)</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Notice that the test values are NOT in order</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, year, test1</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="st">      order by year asc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student year test1
1       joe   fr    70
2       sue   fr    80
3      anne   fr    90
4  lucricia   fr    80
5     larry   ju    32
6       zvi   ju    90
7      mike   ju    90
8      bill   se    84
9  margaret   se    59
10    dalia   se    85
11    david   se    90
12    frank   so   100
13      bob   so    30
14 samantha   so   100
15     dana   so   100</code></pre>
</div>
</div>
</section>
</section>
<section id="examples---ordering-by-2-different-columns" class="level3" data-number="31.8.2">
<h3 data-number="31.8.2" class="anchored" data-anchor-id="examples---ordering-by-2-different-columns"><span class="header-section-number">31.8.2</span> Examples - ordering by 2 different columns</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">#..................................................</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="co"># order the data by two different columns</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="co">#..................................................</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="co"># In the queries below we order the data by two different columns.</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Notice that there is a separate **asc** or **desc** indicator</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="co"># for each of the columns in the order by clause.</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Order the data alphabetically by year.</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a><span class="co"># For all of the rows for a particular year, sort the test1 values</span></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a><span class="co"># in ascending numeric order.</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, year, test1, test2</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a><span class="st">      order by year asc, test1 asc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student year test1 test2
1       joe   fr    70    82
2       sue   fr    80    80
3  lucricia   fr    80   100
4      anne   fr    90    95
5     larry   ju    32    80
6       zvi   ju    90    98
7      mike   ju    90    86
8  margaret   se    59    47
9      bill   se    84    90
10    dalia   se    85    92
11    david   se    90    87
12      bob   so    30    NA
13    frank   so   100    95
14 samantha   so   100    70
15     dana   so   100    93</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Order the data by alphabetically by year.</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="co"># For all of the rows for a particular year, sort the test1 values</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="co"># in descending numeric order.</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, year, test1, test2</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="st">      order by year asc, test1 desc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student year test1 test2
1      anne   fr    90    95
2       sue   fr    80    80
3  lucricia   fr    80   100
4       joe   fr    70    82
5       zvi   ju    90    98
6      mike   ju    90    86
7     larry   ju    32    80
8     david   se    90    87
9     dalia   se    85    92
10     bill   se    84    90
11 margaret   se    59    47
12    frank   so   100    95
13 samantha   so   100    70
14     dana   so   100    93
15      bob   so    30    NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Order the data by test1.</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="co"># For all the rows that have the same value for test1 sort the rows by test2</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, test1, test2</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="st">      order by test1 desc, test2 desc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student test1 test2
1     frank   100    95
2      dana   100    93
3  samantha   100    70
4       zvi    90    98
5      anne    90    95
6     david    90    87
7      mike    90    86
8     dalia    85    92
9      bill    84    90
10 lucricia    80   100
11      sue    80    80
12      joe    70    82
13 margaret    59    47
14    larry    32    80
15      bob    30    NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the rows in descending order of the test1 grades.</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="co"># If several students got the same grade on test1 then show </span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="co"># those rows in alphabetical order of the student names.</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, test1, test2</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="st">      order by test1 desc, student asc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student test1 test2
1      dana   100    93
2     frank   100    95
3  samantha   100    70
4      anne    90    95
5     david    90    87
6      mike    90    86
7       zvi    90    98
8     dalia    85    92
9      bill    84    90
10 lucricia    80   100
11      sue    80    80
12      joe    70    82
13 margaret    59    47
14    larry    32    80
15      bob    30    NA</code></pre>
</div>
</div>
</section>
<section id="examples---order-by-3-different-columns" class="level3" data-number="31.8.3">
<h3 data-number="31.8.3" class="anchored" data-anchor-id="examples---order-by-3-different-columns"><span class="header-section-number">31.8.3</span> Examples - order by 3 different columns</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co">#..................................................</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="co"># order the data by three different columns</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="co">#..................................................</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Order all of the rows by year </span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a><span class="co"># among the rows that have the same year</span></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a><span class="co"># order within those rows by test1</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a><span class="co"># among the rows that have the same year and test1 values</span></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a><span class="co"># order within those rows by test2</span></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, year, test1, test2</span></span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a><span class="st">      order by year, test1 desc, test2 desc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student year test1 test2
1      anne   fr    90    95
2  lucricia   fr    80   100
3       sue   fr    80    80
4       joe   fr    70    82
5       zvi   ju    90    98
6      mike   ju    90    86
7     larry   ju    32    80
8     david   se    90    87
9     dalia   se    85    92
10     bill   se    84    90
11 margaret   se    59    47
12    frank   so   100    95
13     dana   so   100    93
14 samantha   so   100    70
15      bob   so    30    NA</code></pre>
</div>
</div>
</section>
</section>
<section id="limit-clause" class="level2" data-number="31.9">
<h2 data-number="31.9" class="anchored" data-anchor-id="limit-clause"><span class="header-section-number">31.9</span> limit clause</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="do">###############################################################.</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="co"># LIMIT &lt;M&gt;       and     LIMIT &lt;M&gt; OFFSET &lt;N&gt;</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="do">###############################################################.</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="co"># The LIMIT clause must come at the very end of the SQL </span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a><span class="co"># statement. You can use it to display only some of the </span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a><span class="co"># rows that would otherwise have been displayed.</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a><span class="do">###############################################################.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first 3 students</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"SELECT *</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="st">      FROM grades</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="st">      ORDER BY student</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="st">      LIMIT 3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     id student year honors test1 test2 test3 major
1 s0300    anne   fr   TRUE    90    95    92   IDS
2 s0800    bill   se  FALSE    84    90    92   ACC
3 s0500     bob   so  FALSE    30    NA    NA   IDS</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="do">###############################################################.</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co"># In general the limit clause has two different forms: </span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="co">#      &lt;SOME SELECT STATEMENT&gt;</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="co">#      limit M</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="co"># (where M is an integer) results in only the first</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a><span class="co"># M rows of data from what would normally have been displayed </span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a><span class="co"># had the LIMIT clause not been specified.</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a><span class="co">#      &lt;SOME SELECT STATEMENT&gt;</span></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a><span class="co">#      limit M offset N</span></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a><span class="co"># (where both M and N are integers) </span></span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a><span class="co"># starts the output from the N+1'th row of what would normally </span></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a><span class="co"># have been displayed without the limit clause and then </span></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a><span class="co"># displays the next M rows of data.</span></span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a><span class="co"># LIMIT is often used in combination with the ORDER BY clause.</span></span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a><span class="do">###############################################################.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first 3 students</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"SELECT *</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="st">      FROM grades</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="st">      ORDER BY student</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="st">      LIMIT 3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     id student year honors test1 test2 test3 major
1 s0300    anne   fr   TRUE    90    95    92   IDS
2 s0800    bill   se  FALSE    84    90    92   ACC
3 s0500     bob   so  FALSE    30    NA    NA   IDS</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the next 3 students</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"SELECT *</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="st">      FROM grades</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="st">      ORDER BY student</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="st">      LIMIT 3 OFFSET 3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     id student year honors test1 test2 test3 major
1 s1100   dalia   se  FALSE    85    92    93   FIN
2 s1500    dana   so  FALSE   100    93    91   FIN
3 s1400   david   se   TRUE    90    87    87   IDS</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the next 3 students</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"SELECT *</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="st">      FROM grades</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="st">      ORDER BY student</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a><span class="st">      LIMIT 3 OFFSET 6"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     id student year honors test1 test2 test3 major
1 s0400   frank   so   TRUE   100    95    91   ACC
2 s0100     joe   fr  FALSE    70    82    NA   IDS
3 s0700   larry   ju  FALSE    32    80    NA   FIN</code></pre>
</div>
</div>
</section>
<section id="using-calculations-in-the-select-clause" class="level2" data-number="31.10">
<h2 data-number="31.10" class="anchored" data-anchor-id="using-calculations-in-the-select-clause"><span class="header-section-number">31.10</span> Using calculations in the select clause</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Using calculations in the select clause    ####</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="co"># You can use math or SQL functions to modify the values</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="co"># that are returned. We will discuss SQL functions later.</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a><span class="co"># For now, let's demonstrate the concept using math.</span></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a><span class="co"># See the questions and answers below:</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co">#/////////////////////////////////////////////////////////////////////////</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the student, test1 and test2 columns from the grades table.</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="co"># In addition, display a column named that contains</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="co"># the values from the test2 column with 10 points added to each number.</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="co">#/////////////////////////////////////////////////////////////////////////</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, test1, test2, test2 + 10 </span></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student test1 test2 test2 + 10
1       joe    70    82         92
2       sue    80    80         90
3      anne    90    95        105
4     frank   100    95        105
5       bob    30    NA         NA
6  samantha   100    70         80
7     larry    32    80         90
8      bill    84    90        100
9  lucricia    80   100        110
10 margaret    59    47         57
11    dalia    85    92        102
12      zvi    90    98        108
13     mike    90    86         96
14    david    90    87         97
15     dana   100    93        103</code></pre>
</div>
</div>
</section>
<section id="renaming-columns" class="level2" data-number="31.11">
<h2 data-number="31.11" class="anchored" data-anchor-id="renaming-columns"><span class="header-section-number">31.11</span> Renaming columns</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co">#/////////////////////////////////////////////////////////////////////////</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Answer the same question, but this time change the name of the new</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="co"># column to "test2_curved".</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a><span class="co">#/////////////////////////////////////////////////////////////////////////</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Use AS to change the name of the column in the output</span></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, test1, test2, test2 + 10 as test2_curved</span></span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student test1 test2 test2_curved
1       joe    70    82           92
2       sue    80    80           90
3      anne    90    95          105
4     frank   100    95          105
5       bob    30    NA           NA
6  samantha   100    70           80
7     larry    32    80           90
8      bill    84    90          100
9  lucricia    80   100          110
10 margaret    59    47           57
11    dalia    85    92          102
12      zvi    90    98          108
13     mike    90    86           96
14    david    90    87           97
15     dana   100    93          103</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You don't actually need to write "AS" </span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, test1, test2, test2 + 10 test2_curved</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student test1 test2 test2_curved
1       joe    70    82           92
2       sue    80    80           90
3      anne    90    95          105
4     frank   100    95          105
5       bob    30    NA           NA
6  samantha   100    70           80
7     larry    32    80           90
8      bill    84    90          100
9  lucricia    80   100          110
10 margaret    59    47           57
11    dalia    85    92          102
12      zvi    90    98          108
13     mike    90    86           96
14    david    90    87           97
15     dana   100    93          103</code></pre>
</div>
</div>
</section>
<section id="quoting-column-names-that-contain-spaces-or-other-special-characters" class="level2" data-number="31.12">
<h2 data-number="31.12" class="anchored" data-anchor-id="quoting-column-names-that-contain-spaces-or-other-special-characters"><span class="header-section-number">31.12</span> ‘Quoting’ column names that contain spaces (or other special characters)</h2>
<p>In general, column names and table names should only contain letters and numbers. If the name of a column or a table needs to contain spaces or other “special characters” (e.g.&nbsp;!@#$%^&amp;*()_+~~ etc.) you need to ‘quote’ the name using ‘apostrophes’ or “quotes”. See the following example which contains a space in the new column name.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You must 'quote column names that contain spaces' </span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, test1, test2, test2 + 10 'test2 curved'</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student test1 test2 test2 curved
1       joe    70    82           92
2       sue    80    80           90
3      anne    90    95          105
4     frank   100    95          105
5       bob    30    NA           NA
6  samantha   100    70           80
7     larry    32    80           90
8      bill    84    90          100
9  lucricia    80   100          110
10 margaret    59    47           57
11    dalia    85    92          102
12      zvi    90    98          108
13     mike    90    86           96
14    david    90    87           97
15     dana   100    93          103</code></pre>
</div>
</div>
<p>Note that in the SQLite dialect of SQL (which is what is being used in R with sqldf) you can use ‘apostrophes’ in place of quotes. We used ‘apostrophes’ instead of “quotes” to quote the new column name to avoid issues that would arise if we used “quotes” since we are already using “quotes” to surround the entire SQL statement. See the next section for more info.</p>
</section>
<section id="single-quotes-vs-double-quotes" class="level2" data-number="31.13">
<h2 data-number="31.13" class="anchored" data-anchor-id="single-quotes-vs-double-quotes"><span class="header-section-number">31.13</span> ‘single quotes’ vs “double quotes”</h2>
<p>In many areas of technology, ‘apostrophes’ are used to ‘quote’ text instead of “quotation marks”. Apostrophes are used in this way, are referred to as ‘single quotes’ whereas quotation marks are referred to as “double quotes” (since an apostophe has one short line while a single quotation mark is comprised of two short lines).</p>
<p>In SQL, there are two different situations where something needs to be quoted. One situation is as shown above to create column headings that contain spaces or special characters. Another situation is where you want to include some literal text (see the description of “concatenation” below).</p>
<p>In this presentation we are using ‘single quotes’ for most purposes inside our SQL statements. This is because SQLite (i.e.&nbsp;the dialect of SQL we are using here) allows for the use of either ‘single quotes’ or “double quotes” wherever you need to quote something. Using ‘single quotes’ allows us to sidestep issues that would arise with “double quotes”. Using double quotes inside the SQL statement would interfere with the “double quotes” that we are using to “quote” the entire sql statement in our call to sqldf(” … “). Other SQL envirnoments that do not rely on sqldf() do not have this issue.</p>
<p>It should be noted though that the ANSI SQL standard, calls for using double quotes for column names (as in the example above) and for using single quotes to quote textual values (as in the concatenation example below).</p>
<p>(see <a href="https://www.googlecloudcommunity.com/gc/Technical-Tips-Tricks/In-SQL-do-I-use-double-quotes-or-single-quotes-for-string/ta-p/584590" class="uri">https://www.googlecloudcommunity.com/gc/Technical-Tips-Tricks/In-SQL-do-I-use-double-quotes-or-single-quotes-for-string/ta-p/584590</a>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 'single quotes' (ie. 'apostrophes')   vs     "double quotes" (ie. "quotes")  ####</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Explicit textual values need to be 'quoted'.</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Standard SQL uses single quotes for quoting values.</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Many sql software packages allow for "double quotes" however, that is not </span></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a><span class="co"># officially part of the standard.</span></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a><span class="co"># The sqlite dialect of SQL (which is the default dialect used by sqldf)</span></span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a><span class="co"># DOES recognize "double quotes" too. However, we will try to stick to </span></span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 'single quotes' in order to adhere to the standard SQL notation.</span></span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a><span class="co"># The following example combines the id and the student name into a single</span></span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a><span class="co"># value with a dash (i.e. - ) between them. Notice the 'single quotes' around</span></span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a><span class="co"># the dash.</span></span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="concatenation-abc-def-is-abcdef" class="level2" data-number="31.14">
<h2 data-number="31.14" class="anchored" data-anchor-id="concatenation-abc-def-is-abcdef"><span class="header-section-number">31.14</span> Concatenation: ‘abc’ || ‘def’ is ‘abcdef’</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="co"># To "concatenate" two values means to "paste" them together </span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="co"># into a single character value.</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSI SQL defines the  || as the "concatenation" operator.</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a><span class="co"># This is similar to the &amp; operator in Excel.</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Sqlite (which is used by R's sqldf package) uses the ANSI standard || operator.</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a><span class="co"># See the examples below.</span></span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: Some other database software products use non-standard </span></span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a><span class="co">#       operators for concatenation. For example:</span></span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   * MySql does not have a concatenation operator. MySql uses || for logical or. </span></span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a><span class="co">#     Rather, it uses the function, concat(a, b), to concatenate a with b.</span></span>
<span id="cb76-16"><a href="#cb76-16" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb76-17"><a href="#cb76-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   * Microsoft SQL Server uses + for concatenation.</span></span>
<span id="cb76-18"><a href="#cb76-18" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="practice" class="level3" data-number="31.14.1">
<h3 data-number="31.14.1" class="anchored" data-anchor-id="practice"><span class="header-section-number">31.14.1</span> Practice</h3>
<section id="question" class="level4">
<h4 class="anchored" data-anchor-id="question">QUESTION</h4>
<p>Show a column named id_student that contains the values from the the id and student columns concatenated together. Also show the test1, test2 and test3 columns.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click here for answer
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER </span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select id || student as id_student, test1, test2, test3</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      id_student test1 test2 test3
1       s0100joe    70    82    NA
2       s0200sue    80    80    79
3      s0300anne    90    95    92
4     s0400frank   100    95    91
5       s0500bob    30    NA    NA
6  s0600samantha   100    70    97
7     s0700larry    32    80    NA
8      s0800bill    84    90    92
9  s0900lucricia    80   100    88
10 s1000margaret    59    47    NA
11    s1100dalia    85    92    93
12      s1200zvi    90    98    92
13     s1300mike    90    86    79
14    s1400david    90    87    87
15     s1500dana   100    93    91</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="question-1" class="level4">
<h4 class="anchored" data-anchor-id="question-1">Question</h4>
<p>Modify the answer to the previous question so that the data in the “id_student” column contains a dash between the id and the name of the student.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click here for answer
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER:</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="co"># You need to use 'quotes' around the '-' dash.</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="co"># First concatenate the id with '-' (don't forget the 'single quotes').</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Then concatenate the student's name.</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select id || '-' || student as id_student, test1, test2, test3</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       id_student test1 test2 test3
1       s0100-joe    70    82    NA
2       s0200-sue    80    80    79
3      s0300-anne    90    95    92
4     s0400-frank   100    95    91
5       s0500-bob    30    NA    NA
6  s0600-samantha   100    70    97
7     s0700-larry    32    80    NA
8      s0800-bill    84    90    92
9  s0900-lucricia    80   100    88
10 s1000-margaret    59    47    NA
11    s1100-dalia    85    92    93
12      s1200-zvi    90    98    92
13     s1300-mike    90    86    79
14    s1400-david    90    87    87
15     s1500-dana   100    93    91</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="rules-for-naming-tables-and-columns" class="level2" data-number="31.15">
<h2 data-number="31.15" class="anchored" data-anchor-id="rules-for-naming-tables-and-columns"><span class="header-section-number">31.15</span> Rules for naming tables and columns</h2>
<p><strong>NOTE</strong>: “IDS1020-Intro to IDS” students can ignore this section.</p>
<p>What happens if you use non-standard characters in the names.</p>
<ul>
<li><p><strong>ANSI standard SQL</strong>: use “double quotes” for non-standard column or table names ( NOT ‘single quotes’ ) - e.g.&nbsp;"table name"</p></li>
<li><p>some other flavors of SQL may use other symbols for this purpose.</p>
<p>For example:</p>
<ul>
<li><p><strong>Microsoft Access</strong> uses [square brackets] and</p></li>
<li><p><strong>MySql</strong> uses <code>grave accent</code> characters (AKA <code>backticks</code>) (https://en.wikipedia.org/wiki/Grave_accent) - e.g.&nbsp;`table name`</p></li>
<li><p><strong>SQLite</strong> (i.e.&nbsp;the default version of SQL for sqldf) allows all of the above, i.e.&nbsp;“double quotes”, `back ticks` and [square brackets] to surround non-standard names. However, it is best to use “double quotes” as that is the ANSI standard.</p></li>
</ul></li>
</ul>
<p>Every version of SQL has its own rules for which characters are allowed to be used in table names and column names. To be safe that your code will work on any version of SQL the best bet is to stick to the following rules for both table names and for column names:</p>
<ul>
<li><p>only use letters, numbers and underscores</p></li>
<li><p>start the name with a letter</p></li>
</ul>
<p>However, many SQL versions allow for non-standard characters to be included in a table name or column name. However, if you use a non-standard characters then you must ‘quote’ the name of the table or name of the column in SQL commands using the quoting rules provided by the version of SQL you are using. When using sqldf, if you use a non-standard character in a column name or table name (e.g.&nbsp;a period, a space, etc) then you should surround the name of the table or column with “double quotes” (<code>backticks</code> and [square brackets] also work but “double quotes” are preferred as that is the ANSI standard). You cannot use ‘single quotes’ for this purpose.</p>
<p>EXAMPLE:</p>
<p>To demonstrate we can use the iris dataframe that is built into R.</p>
<p><strong>WARNING:</strong> In SQLite, you must use “double quotes” for non standard table or column names.</p>
<p><strong>NOTE</strong>:</p>
<ul>
<li><p>“IDS1020-Intro to IDS” students can ignore this section.</p></li>
<li><p>“IDS2460-Data Management” you should be aware of the following issue.</p></li>
</ul>
<p>This doesn’t come up too often but if you are using sqldf to work with R dataframes you should be aware of the following issue. R dataframes often use periods in the column names. This is non-standard for SQL.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the first 10 rows of the iris dataframe that comes built into R.</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris,<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1           5.1         3.5          1.4         0.2  setosa
2           4.9         3.0          1.4         0.2  setosa
3           4.7         3.2          1.3         0.2  setosa
4           4.6         3.1          1.5         0.2  setosa
5           5.0         3.6          1.4         0.2  setosa
6           5.4         3.9          1.7         0.4  setosa
7           4.6         3.4          1.4         0.3  setosa
8           5.0         3.4          1.5         0.2  setosa
9           4.4         2.9          1.4         0.2  setosa
10          4.9         3.1          1.5         0.1  setosa</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co">#//////////////////////////////////////////////////////////////////////////</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Use sqldf to display just the Sepal.Length, Sepal.Width and Species columns </span></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a><span class="co"># from the "iris" dataframe.</span></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a><span class="co">#//////////////////////////////////////////////////////////////////////////</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
click here for answer
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="co"># This dataframe has column names that contain periods. A period</span></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="co"># is NOT a standard character for table and column names. Therefore</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="co"># we must use "double quotes" or `back ticks` to quote these column names.</span></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a><span class="co"># This does NOT work because of the periods in the column names</span></span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a><span class="co"># sqldf("select Sepal.Length, Sepal.Width, Species </span></span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a><span class="co">#         from iris")                              # ERROR: no such column Sepal.Length</span></span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-12"><a href="#cb84-12" aria-hidden="true" tabindex="-1"></a><span class="co"># This works - i.e. use "double quotes". Note that we used </span></span>
<span id="cb84-13"><a href="#cb84-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 'single quotes' to quote the entire select statement.</span></span>
<span id="cb84-14"><a href="#cb84-14" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">'select "Sepal.Length", "Sepal.Width", Species from iris'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Sepal.Length Sepal.Width    Species
1            5.1         3.5     setosa
2            4.9         3.0     setosa
3            4.7         3.2     setosa
4            4.6         3.1     setosa
5            5.0         3.6     setosa
6            5.4         3.9     setosa
7            4.6         3.4     setosa
8            5.0         3.4     setosa
9            4.4         2.9     setosa
10           4.9         3.1     setosa
11           5.4         3.7     setosa
12           4.8         3.4     setosa
13           4.8         3.0     setosa
14           4.3         3.0     setosa
15           5.8         4.0     setosa
16           5.7         4.4     setosa
17           5.4         3.9     setosa
18           5.1         3.5     setosa
19           5.7         3.8     setosa
20           5.1         3.8     setosa
21           5.4         3.4     setosa
22           5.1         3.7     setosa
23           4.6         3.6     setosa
24           5.1         3.3     setosa
25           4.8         3.4     setosa
26           5.0         3.0     setosa
27           5.0         3.4     setosa
28           5.2         3.5     setosa
29           5.2         3.4     setosa
30           4.7         3.2     setosa
31           4.8         3.1     setosa
32           5.4         3.4     setosa
33           5.2         4.1     setosa
34           5.5         4.2     setosa
35           4.9         3.1     setosa
36           5.0         3.2     setosa
37           5.5         3.5     setosa
38           4.9         3.6     setosa
39           4.4         3.0     setosa
40           5.1         3.4     setosa
41           5.0         3.5     setosa
42           4.5         2.3     setosa
43           4.4         3.2     setosa
44           5.0         3.5     setosa
45           5.1         3.8     setosa
46           4.8         3.0     setosa
47           5.1         3.8     setosa
48           4.6         3.2     setosa
49           5.3         3.7     setosa
50           5.0         3.3     setosa
51           7.0         3.2 versicolor
52           6.4         3.2 versicolor
53           6.9         3.1 versicolor
54           5.5         2.3 versicolor
55           6.5         2.8 versicolor
56           5.7         2.8 versicolor
57           6.3         3.3 versicolor
58           4.9         2.4 versicolor
59           6.6         2.9 versicolor
60           5.2         2.7 versicolor
61           5.0         2.0 versicolor
62           5.9         3.0 versicolor
63           6.0         2.2 versicolor
64           6.1         2.9 versicolor
65           5.6         2.9 versicolor
66           6.7         3.1 versicolor
67           5.6         3.0 versicolor
68           5.8         2.7 versicolor
69           6.2         2.2 versicolor
70           5.6         2.5 versicolor
71           5.9         3.2 versicolor
72           6.1         2.8 versicolor
73           6.3         2.5 versicolor
74           6.1         2.8 versicolor
75           6.4         2.9 versicolor
76           6.6         3.0 versicolor
77           6.8         2.8 versicolor
78           6.7         3.0 versicolor
79           6.0         2.9 versicolor
80           5.7         2.6 versicolor
81           5.5         2.4 versicolor
82           5.5         2.4 versicolor
83           5.8         2.7 versicolor
84           6.0         2.7 versicolor
85           5.4         3.0 versicolor
86           6.0         3.4 versicolor
87           6.7         3.1 versicolor
88           6.3         2.3 versicolor
89           5.6         3.0 versicolor
90           5.5         2.5 versicolor
91           5.5         2.6 versicolor
92           6.1         3.0 versicolor
93           5.8         2.6 versicolor
94           5.0         2.3 versicolor
95           5.6         2.7 versicolor
96           5.7         3.0 versicolor
97           5.7         2.9 versicolor
98           6.2         2.9 versicolor
99           5.1         2.5 versicolor
100          5.7         2.8 versicolor
101          6.3         3.3  virginica
102          5.8         2.7  virginica
103          7.1         3.0  virginica
104          6.3         2.9  virginica
105          6.5         3.0  virginica
106          7.6         3.0  virginica
107          4.9         2.5  virginica
108          7.3         2.9  virginica
109          6.7         2.5  virginica
110          7.2         3.6  virginica
111          6.5         3.2  virginica
112          6.4         2.7  virginica
113          6.8         3.0  virginica
114          5.7         2.5  virginica
115          5.8         2.8  virginica
116          6.4         3.2  virginica
117          6.5         3.0  virginica
118          7.7         3.8  virginica
119          7.7         2.6  virginica
120          6.0         2.2  virginica
121          6.9         3.2  virginica
122          5.6         2.8  virginica
123          7.7         2.8  virginica
124          6.3         2.7  virginica
125          6.7         3.3  virginica
126          7.2         3.2  virginica
127          6.2         2.8  virginica
128          6.1         3.0  virginica
129          6.4         2.8  virginica
130          7.2         3.0  virginica
131          7.4         2.8  virginica
132          7.9         3.8  virginica
133          6.4         2.8  virginica
134          6.3         2.8  virginica
135          6.1         2.6  virginica
136          7.7         3.0  virginica
137          6.3         3.4  virginica
138          6.4         3.1  virginica
139          6.0         3.0  virginica
140          6.9         3.1  virginica
141          6.7         3.1  virginica
142          6.9         3.1  virginica
143          5.8         2.7  virginica
144          6.8         3.2  virginica
145          6.7         3.3  virginica
146          6.7         3.0  virginica
147          6.3         2.5  virginica
148          6.5         3.0  virginica
149          6.2         3.4  virginica
150          5.9         3.0  virginica</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Same thing but we used "double quotes" to quote the entire select statement.</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Therefore we used \" for every double quote that is inside the command.</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select </span><span class="sc">\"</span><span class="st">Sepal.Length</span><span class="sc">\"</span><span class="st">, </span><span class="sc">\"</span><span class="st">Sepal.Width</span><span class="sc">\"</span><span class="st">, Species from iris"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Sepal.Length Sepal.Width    Species
1            5.1         3.5     setosa
2            4.9         3.0     setosa
3            4.7         3.2     setosa
4            4.6         3.1     setosa
5            5.0         3.6     setosa
6            5.4         3.9     setosa
7            4.6         3.4     setosa
8            5.0         3.4     setosa
9            4.4         2.9     setosa
10           4.9         3.1     setosa
11           5.4         3.7     setosa
12           4.8         3.4     setosa
13           4.8         3.0     setosa
14           4.3         3.0     setosa
15           5.8         4.0     setosa
16           5.7         4.4     setosa
17           5.4         3.9     setosa
18           5.1         3.5     setosa
19           5.7         3.8     setosa
20           5.1         3.8     setosa
21           5.4         3.4     setosa
22           5.1         3.7     setosa
23           4.6         3.6     setosa
24           5.1         3.3     setosa
25           4.8         3.4     setosa
26           5.0         3.0     setosa
27           5.0         3.4     setosa
28           5.2         3.5     setosa
29           5.2         3.4     setosa
30           4.7         3.2     setosa
31           4.8         3.1     setosa
32           5.4         3.4     setosa
33           5.2         4.1     setosa
34           5.5         4.2     setosa
35           4.9         3.1     setosa
36           5.0         3.2     setosa
37           5.5         3.5     setosa
38           4.9         3.6     setosa
39           4.4         3.0     setosa
40           5.1         3.4     setosa
41           5.0         3.5     setosa
42           4.5         2.3     setosa
43           4.4         3.2     setosa
44           5.0         3.5     setosa
45           5.1         3.8     setosa
46           4.8         3.0     setosa
47           5.1         3.8     setosa
48           4.6         3.2     setosa
49           5.3         3.7     setosa
50           5.0         3.3     setosa
51           7.0         3.2 versicolor
52           6.4         3.2 versicolor
53           6.9         3.1 versicolor
54           5.5         2.3 versicolor
55           6.5         2.8 versicolor
56           5.7         2.8 versicolor
57           6.3         3.3 versicolor
58           4.9         2.4 versicolor
59           6.6         2.9 versicolor
60           5.2         2.7 versicolor
61           5.0         2.0 versicolor
62           5.9         3.0 versicolor
63           6.0         2.2 versicolor
64           6.1         2.9 versicolor
65           5.6         2.9 versicolor
66           6.7         3.1 versicolor
67           5.6         3.0 versicolor
68           5.8         2.7 versicolor
69           6.2         2.2 versicolor
70           5.6         2.5 versicolor
71           5.9         3.2 versicolor
72           6.1         2.8 versicolor
73           6.3         2.5 versicolor
74           6.1         2.8 versicolor
75           6.4         2.9 versicolor
76           6.6         3.0 versicolor
77           6.8         2.8 versicolor
78           6.7         3.0 versicolor
79           6.0         2.9 versicolor
80           5.7         2.6 versicolor
81           5.5         2.4 versicolor
82           5.5         2.4 versicolor
83           5.8         2.7 versicolor
84           6.0         2.7 versicolor
85           5.4         3.0 versicolor
86           6.0         3.4 versicolor
87           6.7         3.1 versicolor
88           6.3         2.3 versicolor
89           5.6         3.0 versicolor
90           5.5         2.5 versicolor
91           5.5         2.6 versicolor
92           6.1         3.0 versicolor
93           5.8         2.6 versicolor
94           5.0         2.3 versicolor
95           5.6         2.7 versicolor
96           5.7         3.0 versicolor
97           5.7         2.9 versicolor
98           6.2         2.9 versicolor
99           5.1         2.5 versicolor
100          5.7         2.8 versicolor
101          6.3         3.3  virginica
102          5.8         2.7  virginica
103          7.1         3.0  virginica
104          6.3         2.9  virginica
105          6.5         3.0  virginica
106          7.6         3.0  virginica
107          4.9         2.5  virginica
108          7.3         2.9  virginica
109          6.7         2.5  virginica
110          7.2         3.6  virginica
111          6.5         3.2  virginica
112          6.4         2.7  virginica
113          6.8         3.0  virginica
114          5.7         2.5  virginica
115          5.8         2.8  virginica
116          6.4         3.2  virginica
117          6.5         3.0  virginica
118          7.7         3.8  virginica
119          7.7         2.6  virginica
120          6.0         2.2  virginica
121          6.9         3.2  virginica
122          5.6         2.8  virginica
123          7.7         2.8  virginica
124          6.3         2.7  virginica
125          6.7         3.3  virginica
126          7.2         3.2  virginica
127          6.2         2.8  virginica
128          6.1         3.0  virginica
129          6.4         2.8  virginica
130          7.2         3.0  virginica
131          7.4         2.8  virginica
132          7.9         3.8  virginica
133          6.4         2.8  virginica
134          6.3         2.8  virginica
135          6.1         2.6  virginica
136          7.7         3.0  virginica
137          6.3         3.4  virginica
138          6.4         3.1  virginica
139          6.0         3.0  virginica
140          6.9         3.1  virginica
141          6.7         3.1  virginica
142          6.9         3.1  virginica
143          5.8         2.7  virginica
144          6.8         3.2  virginica
145          6.7         3.3  virginica
146          6.7         3.0  virginica
147          6.3         2.5  virginica
148          6.5         3.0  virginica
149          6.2         3.4  virginica
150          5.9         3.0  virginica</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This also works - use `back ticks`</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">'select `Sepal.Length`, `Sepal.Width`, Species from iris'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Sepal.Length Sepal.Width    Species
1            5.1         3.5     setosa
2            4.9         3.0     setosa
3            4.7         3.2     setosa
4            4.6         3.1     setosa
5            5.0         3.6     setosa
6            5.4         3.9     setosa
7            4.6         3.4     setosa
8            5.0         3.4     setosa
9            4.4         2.9     setosa
10           4.9         3.1     setosa
11           5.4         3.7     setosa
12           4.8         3.4     setosa
13           4.8         3.0     setosa
14           4.3         3.0     setosa
15           5.8         4.0     setosa
16           5.7         4.4     setosa
17           5.4         3.9     setosa
18           5.1         3.5     setosa
19           5.7         3.8     setosa
20           5.1         3.8     setosa
21           5.4         3.4     setosa
22           5.1         3.7     setosa
23           4.6         3.6     setosa
24           5.1         3.3     setosa
25           4.8         3.4     setosa
26           5.0         3.0     setosa
27           5.0         3.4     setosa
28           5.2         3.5     setosa
29           5.2         3.4     setosa
30           4.7         3.2     setosa
31           4.8         3.1     setosa
32           5.4         3.4     setosa
33           5.2         4.1     setosa
34           5.5         4.2     setosa
35           4.9         3.1     setosa
36           5.0         3.2     setosa
37           5.5         3.5     setosa
38           4.9         3.6     setosa
39           4.4         3.0     setosa
40           5.1         3.4     setosa
41           5.0         3.5     setosa
42           4.5         2.3     setosa
43           4.4         3.2     setosa
44           5.0         3.5     setosa
45           5.1         3.8     setosa
46           4.8         3.0     setosa
47           5.1         3.8     setosa
48           4.6         3.2     setosa
49           5.3         3.7     setosa
50           5.0         3.3     setosa
51           7.0         3.2 versicolor
52           6.4         3.2 versicolor
53           6.9         3.1 versicolor
54           5.5         2.3 versicolor
55           6.5         2.8 versicolor
56           5.7         2.8 versicolor
57           6.3         3.3 versicolor
58           4.9         2.4 versicolor
59           6.6         2.9 versicolor
60           5.2         2.7 versicolor
61           5.0         2.0 versicolor
62           5.9         3.0 versicolor
63           6.0         2.2 versicolor
64           6.1         2.9 versicolor
65           5.6         2.9 versicolor
66           6.7         3.1 versicolor
67           5.6         3.0 versicolor
68           5.8         2.7 versicolor
69           6.2         2.2 versicolor
70           5.6         2.5 versicolor
71           5.9         3.2 versicolor
72           6.1         2.8 versicolor
73           6.3         2.5 versicolor
74           6.1         2.8 versicolor
75           6.4         2.9 versicolor
76           6.6         3.0 versicolor
77           6.8         2.8 versicolor
78           6.7         3.0 versicolor
79           6.0         2.9 versicolor
80           5.7         2.6 versicolor
81           5.5         2.4 versicolor
82           5.5         2.4 versicolor
83           5.8         2.7 versicolor
84           6.0         2.7 versicolor
85           5.4         3.0 versicolor
86           6.0         3.4 versicolor
87           6.7         3.1 versicolor
88           6.3         2.3 versicolor
89           5.6         3.0 versicolor
90           5.5         2.5 versicolor
91           5.5         2.6 versicolor
92           6.1         3.0 versicolor
93           5.8         2.6 versicolor
94           5.0         2.3 versicolor
95           5.6         2.7 versicolor
96           5.7         3.0 versicolor
97           5.7         2.9 versicolor
98           6.2         2.9 versicolor
99           5.1         2.5 versicolor
100          5.7         2.8 versicolor
101          6.3         3.3  virginica
102          5.8         2.7  virginica
103          7.1         3.0  virginica
104          6.3         2.9  virginica
105          6.5         3.0  virginica
106          7.6         3.0  virginica
107          4.9         2.5  virginica
108          7.3         2.9  virginica
109          6.7         2.5  virginica
110          7.2         3.6  virginica
111          6.5         3.2  virginica
112          6.4         2.7  virginica
113          6.8         3.0  virginica
114          5.7         2.5  virginica
115          5.8         2.8  virginica
116          6.4         3.2  virginica
117          6.5         3.0  virginica
118          7.7         3.8  virginica
119          7.7         2.6  virginica
120          6.0         2.2  virginica
121          6.9         3.2  virginica
122          5.6         2.8  virginica
123          7.7         2.8  virginica
124          6.3         2.7  virginica
125          6.7         3.3  virginica
126          7.2         3.2  virginica
127          6.2         2.8  virginica
128          6.1         3.0  virginica
129          6.4         2.8  virginica
130          7.2         3.0  virginica
131          7.4         2.8  virginica
132          7.9         3.8  virginica
133          6.4         2.8  virginica
134          6.3         2.8  virginica
135          6.1         2.6  virginica
136          7.7         3.0  virginica
137          6.3         3.4  virginica
138          6.4         3.1  virginica
139          6.0         3.0  virginica
140          6.9         3.1  virginica
141          6.7         3.1  virginica
142          6.9         3.1  virginica
143          5.8         2.7  virginica
144          6.8         3.2  virginica
145          6.7         3.3  virginica
146          6.7         3.0  virginica
147          6.3         2.5  virginica
148          6.5         3.0  virginica
149          6.2         3.4  virginica
150          5.9         3.0  virginica</code></pre>
</div>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># *** </span><span class="al">WARNING</span><span class="co">!!! ***</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="co"># BE CAREFUL - don't use 'single quotes' here. Single quotes will NOT</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="co"># work to quote column names or table names.</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a><span class="co"># The following will simply display the words 'Sepal.Length' and 'Sepal.Width'</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a><span class="co"># for every row in the output.</span></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select 'Sepal.Length', 'Sepal.Width', Species from iris"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    'Sepal.Length' 'Sepal.Width'    Species
1     Sepal.Length   Sepal.Width     setosa
2     Sepal.Length   Sepal.Width     setosa
3     Sepal.Length   Sepal.Width     setosa
4     Sepal.Length   Sepal.Width     setosa
5     Sepal.Length   Sepal.Width     setosa
6     Sepal.Length   Sepal.Width     setosa
7     Sepal.Length   Sepal.Width     setosa
8     Sepal.Length   Sepal.Width     setosa
9     Sepal.Length   Sepal.Width     setosa
10    Sepal.Length   Sepal.Width     setosa
11    Sepal.Length   Sepal.Width     setosa
12    Sepal.Length   Sepal.Width     setosa
13    Sepal.Length   Sepal.Width     setosa
14    Sepal.Length   Sepal.Width     setosa
15    Sepal.Length   Sepal.Width     setosa
16    Sepal.Length   Sepal.Width     setosa
17    Sepal.Length   Sepal.Width     setosa
18    Sepal.Length   Sepal.Width     setosa
19    Sepal.Length   Sepal.Width     setosa
20    Sepal.Length   Sepal.Width     setosa
21    Sepal.Length   Sepal.Width     setosa
22    Sepal.Length   Sepal.Width     setosa
23    Sepal.Length   Sepal.Width     setosa
24    Sepal.Length   Sepal.Width     setosa
25    Sepal.Length   Sepal.Width     setosa
26    Sepal.Length   Sepal.Width     setosa
27    Sepal.Length   Sepal.Width     setosa
28    Sepal.Length   Sepal.Width     setosa
29    Sepal.Length   Sepal.Width     setosa
30    Sepal.Length   Sepal.Width     setosa
31    Sepal.Length   Sepal.Width     setosa
32    Sepal.Length   Sepal.Width     setosa
33    Sepal.Length   Sepal.Width     setosa
34    Sepal.Length   Sepal.Width     setosa
35    Sepal.Length   Sepal.Width     setosa
36    Sepal.Length   Sepal.Width     setosa
37    Sepal.Length   Sepal.Width     setosa
38    Sepal.Length   Sepal.Width     setosa
39    Sepal.Length   Sepal.Width     setosa
40    Sepal.Length   Sepal.Width     setosa
41    Sepal.Length   Sepal.Width     setosa
42    Sepal.Length   Sepal.Width     setosa
43    Sepal.Length   Sepal.Width     setosa
44    Sepal.Length   Sepal.Width     setosa
45    Sepal.Length   Sepal.Width     setosa
46    Sepal.Length   Sepal.Width     setosa
47    Sepal.Length   Sepal.Width     setosa
48    Sepal.Length   Sepal.Width     setosa
49    Sepal.Length   Sepal.Width     setosa
50    Sepal.Length   Sepal.Width     setosa
51    Sepal.Length   Sepal.Width versicolor
52    Sepal.Length   Sepal.Width versicolor
53    Sepal.Length   Sepal.Width versicolor
54    Sepal.Length   Sepal.Width versicolor
55    Sepal.Length   Sepal.Width versicolor
56    Sepal.Length   Sepal.Width versicolor
57    Sepal.Length   Sepal.Width versicolor
58    Sepal.Length   Sepal.Width versicolor
59    Sepal.Length   Sepal.Width versicolor
60    Sepal.Length   Sepal.Width versicolor
61    Sepal.Length   Sepal.Width versicolor
62    Sepal.Length   Sepal.Width versicolor
63    Sepal.Length   Sepal.Width versicolor
64    Sepal.Length   Sepal.Width versicolor
65    Sepal.Length   Sepal.Width versicolor
66    Sepal.Length   Sepal.Width versicolor
67    Sepal.Length   Sepal.Width versicolor
68    Sepal.Length   Sepal.Width versicolor
69    Sepal.Length   Sepal.Width versicolor
70    Sepal.Length   Sepal.Width versicolor
71    Sepal.Length   Sepal.Width versicolor
72    Sepal.Length   Sepal.Width versicolor
73    Sepal.Length   Sepal.Width versicolor
74    Sepal.Length   Sepal.Width versicolor
75    Sepal.Length   Sepal.Width versicolor
76    Sepal.Length   Sepal.Width versicolor
77    Sepal.Length   Sepal.Width versicolor
78    Sepal.Length   Sepal.Width versicolor
79    Sepal.Length   Sepal.Width versicolor
80    Sepal.Length   Sepal.Width versicolor
81    Sepal.Length   Sepal.Width versicolor
82    Sepal.Length   Sepal.Width versicolor
83    Sepal.Length   Sepal.Width versicolor
84    Sepal.Length   Sepal.Width versicolor
85    Sepal.Length   Sepal.Width versicolor
86    Sepal.Length   Sepal.Width versicolor
87    Sepal.Length   Sepal.Width versicolor
88    Sepal.Length   Sepal.Width versicolor
89    Sepal.Length   Sepal.Width versicolor
90    Sepal.Length   Sepal.Width versicolor
91    Sepal.Length   Sepal.Width versicolor
92    Sepal.Length   Sepal.Width versicolor
93    Sepal.Length   Sepal.Width versicolor
94    Sepal.Length   Sepal.Width versicolor
95    Sepal.Length   Sepal.Width versicolor
96    Sepal.Length   Sepal.Width versicolor
97    Sepal.Length   Sepal.Width versicolor
98    Sepal.Length   Sepal.Width versicolor
99    Sepal.Length   Sepal.Width versicolor
100   Sepal.Length   Sepal.Width versicolor
101   Sepal.Length   Sepal.Width  virginica
102   Sepal.Length   Sepal.Width  virginica
103   Sepal.Length   Sepal.Width  virginica
104   Sepal.Length   Sepal.Width  virginica
105   Sepal.Length   Sepal.Width  virginica
106   Sepal.Length   Sepal.Width  virginica
107   Sepal.Length   Sepal.Width  virginica
108   Sepal.Length   Sepal.Width  virginica
109   Sepal.Length   Sepal.Width  virginica
110   Sepal.Length   Sepal.Width  virginica
111   Sepal.Length   Sepal.Width  virginica
112   Sepal.Length   Sepal.Width  virginica
113   Sepal.Length   Sepal.Width  virginica
114   Sepal.Length   Sepal.Width  virginica
115   Sepal.Length   Sepal.Width  virginica
116   Sepal.Length   Sepal.Width  virginica
117   Sepal.Length   Sepal.Width  virginica
118   Sepal.Length   Sepal.Width  virginica
119   Sepal.Length   Sepal.Width  virginica
120   Sepal.Length   Sepal.Width  virginica
121   Sepal.Length   Sepal.Width  virginica
122   Sepal.Length   Sepal.Width  virginica
123   Sepal.Length   Sepal.Width  virginica
124   Sepal.Length   Sepal.Width  virginica
125   Sepal.Length   Sepal.Width  virginica
126   Sepal.Length   Sepal.Width  virginica
127   Sepal.Length   Sepal.Width  virginica
128   Sepal.Length   Sepal.Width  virginica
129   Sepal.Length   Sepal.Width  virginica
130   Sepal.Length   Sepal.Width  virginica
131   Sepal.Length   Sepal.Width  virginica
132   Sepal.Length   Sepal.Width  virginica
133   Sepal.Length   Sepal.Width  virginica
134   Sepal.Length   Sepal.Width  virginica
135   Sepal.Length   Sepal.Width  virginica
136   Sepal.Length   Sepal.Width  virginica
137   Sepal.Length   Sepal.Width  virginica
138   Sepal.Length   Sepal.Width  virginica
139   Sepal.Length   Sepal.Width  virginica
140   Sepal.Length   Sepal.Width  virginica
141   Sepal.Length   Sepal.Width  virginica
142   Sepal.Length   Sepal.Width  virginica
143   Sepal.Length   Sepal.Width  virginica
144   Sepal.Length   Sepal.Width  virginica
145   Sepal.Length   Sepal.Width  virginica
146   Sepal.Length   Sepal.Width  virginica
147   Sepal.Length   Sepal.Width  virginica
148   Sepal.Length   Sepal.Width  virginica
149   Sepal.Length   Sepal.Width  virginica
150   Sepal.Length   Sepal.Width  virginica</code></pre>
</div>
</div>
</div>
</div>
</div>
<section id="aside-using-r-raw-strings-only-for-those-learning-r" class="level3" data-number="31.15.1">
<h3 data-number="31.15.1" class="anchored" data-anchor-id="aside-using-r-raw-strings-only-for-those-learning-r"><span class="header-section-number">31.15.1</span> Aside: using R “raw strings” (only for those learning R)</h3>
<p><strong>NOTE</strong>:</p>
<ul>
<li>“IDS1020-Intro to IDS” students can ignore this section.</li>
</ul>
<p>If you are learning SQL but are not interested in learning more about R right now you can safely skip this section.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># RAW STRINGS in R  - i.e.    r"( ... )"</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="co"># You can also use a "raw string" - introduced in R 4.0</span></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Any string (ie. character value) that appears between r"( .... )"</span></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a><span class="co"># is quoted as exactly the value that appears between the r"( and )"</span></span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a><span class="co"># symbols. For detailed info about R's new raw string feature see this page:</span></span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a><span class="co">#    https://r4ds.hadley.nz/strings.html#sec-raw-strings</span></span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a><span class="co"># You can use an R "raw string" to quote anything without</span></span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a><span class="co"># resorting to backslahes or other techniques.</span></span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a><span class="co"># To create a "raw string" in R place the text that you want to quote</span></span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a><span class="co"># between    r"(      and      )"</span></span>
<span id="cb92-15"><a href="#cb92-15" aria-hidden="true" tabindex="-1"></a><span class="co"># The r stands for raw, not "R". </span></span>
<span id="cb92-16"><a href="#cb92-16" aria-hidden="true" tabindex="-1"></a><span class="co"># The text being quoted can safely include any characters you like.</span></span>
<span id="cb92-17"><a href="#cb92-17" aria-hidden="true" tabindex="-1"></a><span class="co"># For example, the following "strangeValue" gets displayed just fine.</span></span>
<span id="cb92-18"><a href="#cb92-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-19"><a href="#cb92-19" aria-hidden="true" tabindex="-1"></a>strangeValue <span class="ot">=</span> r<span class="st">"( Backslash: \  Quote: "</span>  Apostrophe<span class="sc">:</span> <span class="st">' )"</span></span>
<span id="cb92-20"><a href="#cb92-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-21"><a href="#cb92-21" aria-hidden="true" tabindex="-1"></a><span class="st">cat(strangeValue)    # Backslash: \  Quote: "  Apostrophe: '</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Backslash: \  Quote: "  Apostrophe: ' </code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can use r"(raw strings)" to very simply quote any SQL command</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="co"># that you want to pass to sqldf, regardless of what is in the SQL.</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>( r<span class="st">"(select "</span>Sepal.Length<span class="st">", "</span>Sepal.Width<span class="st">", Species from iris limit 10)"</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Sepal.Length Sepal.Width Species
1           5.1         3.5  setosa
2           4.9         3.0  setosa
3           4.7         3.2  setosa
4           4.6         3.1  setosa
5           5.0         3.6  setosa
6           5.4         3.9  setosa
7           4.6         3.4  setosa
8           5.0         3.4  setosa
9           4.4         2.9  setosa
10          4.9         3.1  setosa</code></pre>
</div>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co"> - R's new "raw string" syntax is very useful for </span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="co"># writing regular expression patterns in R</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="co"># For example:</span></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   without raw strings - you NEED \\double-backslashes</span></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">=</span> <span class="st">"</span><span class="sc">\\</span><span class="st">d+</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">d+"</span> </span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(pattern)   <span class="co"># \d+\.\d+</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>\d+\.\d+</code></pre>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   with raw strings - you DON'T need the \\double-backslashes</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">=</span> r<span class="st">"(\d+\.\d)"</span>      </span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(pattern)   <span class="co"># \d+\.\d+</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>\d+\.\d</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>charNums <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"one"</span>, <span class="st">"1.593"</span>, <span class="st">"278.123"</span>, <span class="st">"999"</span>)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, charNums, <span class="at">value=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1.593"   "278.123"</code></pre>
</div>
</div>
</section>
</section>
<section id="where-clause" class="level2" data-number="31.16">
<h2 data-number="31.16" class="anchored" data-anchor-id="where-clause"><span class="header-section-number">31.16</span> where clause</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="co"># where clause   ####</span></span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="co"># The where clause allows you to specify the rows that you want.</span></span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a><span class="co"># The where clause include a logical expression. The expression is evaluated</span></span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a><span class="co"># separately for each row in the table (i.e. dataframe in our case). </span></span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a><span class="co"># The data from the row is substituted into the logical expression. If the</span></span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a><span class="co"># logical expression results in TRUE then information from the row becomes</span></span>
<span id="cb102-11"><a href="#cb102-11" aria-hidden="true" tabindex="-1"></a><span class="co"># encorporated into the output. If the logical expression results in FALSE </span></span>
<span id="cb102-12"><a href="#cb102-12" aria-hidden="true" tabindex="-1"></a><span class="co"># for the row then the row does not appear in the output.</span></span>
<span id="cb102-13"><a href="#cb102-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-14"><a href="#cb102-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Only the rows that have a TRUE result are displayed</span></span>
<span id="cb102-15"><a href="#cb102-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-16"><a href="#cb102-16" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, test1, test2 </span></span>
<span id="cb102-17"><a href="#cb102-17" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb102-18"><a href="#cb102-18" aria-hidden="true" tabindex="-1"></a><span class="st">      where test1 &gt; test2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   student test1 test2
1    frank   100    95
2 samantha   100    70
3 margaret    59    47
4     mike    90    86
5    david    90    87
6     dana   100    93</code></pre>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can get all of the columns by using the * instead of the column names</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select *</span></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a><span class="st">      where test1 &gt; test2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     id  student year honors test1 test2 test3 major
1 s0400    frank   so   TRUE   100    95    91   ACC
2 s0600 samantha   so   TRUE   100    70    97   IDS
3 s1000 margaret   se  FALSE    59    47    NA   IDS
4 s1300     mike   ju   TRUE    90    86    79   IDS
5 s1400    david   se   TRUE    90    87    87   IDS
6 s1500     dana   so  FALSE   100    93    91   FIN</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, test1, test2 </span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="st">      where test1 &gt;= test2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   student test1 test2
1      sue    80    80
2    frank   100    95
3 samantha   100    70
4 margaret    59    47
5     mike    90    86
6    david    90    87
7     dana   100    93</code></pre>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, honors, test1, test2 </span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades </span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="st">      where honors == TRUE and test1 &lt; 90 and test2 &lt; 90"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] student honors  test1   test2  
&lt;0 rows&gt; (or 0-length row.names)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, honors, test1, test2 </span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades </span></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="st">      where honors != TRUE and test1 &gt; 90 and test2 &gt; 90"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  student honors test1 test2
1    dana  FALSE   100    93</code></pre>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: </span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a><span class="co"># When using the relational operators &gt;  &lt;   &gt;=   &lt;=</span></span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a><span class="co"># with character data, values that would appear earlier in a dictionary</span></span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a><span class="co"># are considered "less than" values that would appear later in the dictionary.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="sql-operators" class="level2" data-number="31.17">
<h2 data-number="31.17" class="anchored" data-anchor-id="sql-operators"><span class="header-section-number">31.17</span> SQL operators</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ </span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="co"># SQL operators</span></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Different flavors of SQL sometimes use different operators.</span></span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Look up the documentation for your particular flavor of SQL.</span></span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a><span class="co"># See the SQLite operators here</span></span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a><span class="co"># https://www.tutorialspoint.com/sqlite/sqlite_operators.htm</span></span>
<span id="cb113-8"><a href="#cb113-8" aria-hidden="true" tabindex="-1"></a><span class="co"># They are summarized below.</span></span>
<span id="cb113-9"><a href="#cb113-9" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb113-10"><a href="#cb113-10" aria-hidden="true" tabindex="-1"></a><span class="co">#                        R operator        sqlite operator</span></span>
<span id="cb113-11"><a href="#cb113-11" aria-hidden="true" tabindex="-1"></a><span class="co">#                        -----------       ---------------</span></span>
<span id="cb113-12"><a href="#cb113-12" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb113-13"><a href="#cb113-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   ARITHMETIC OPERATORS</span></span>
<span id="cb113-14"><a href="#cb113-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   addition                +                 same as R</span></span>
<span id="cb113-15"><a href="#cb113-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   subtraction             -                 same as R</span></span>
<span id="cb113-16"><a href="#cb113-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   multiplication          *                 same as R</span></span>
<span id="cb113-17"><a href="#cb113-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   regular division        /                 /     depends on the type of data</span></span>
<span id="cb113-18"><a href="#cb113-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   integer division        %/%               /     depends on the type of data</span></span>
<span id="cb113-19"><a href="#cb113-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   modulus (remainder)     %%                %</span></span>
<span id="cb113-20"><a href="#cb113-20" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb113-21"><a href="#cb113-21" aria-hidden="true" tabindex="-1"></a><span class="co">#   LOGICAL OPERATORS</span></span>
<span id="cb113-22"><a href="#cb113-22" aria-hidden="true" tabindex="-1"></a><span class="co">#   equal to                ==                = or == (they both work)</span></span>
<span id="cb113-23"><a href="#cb113-23" aria-hidden="true" tabindex="-1"></a><span class="co">#   not equal to            !=                != or &lt;&gt; (they both work)</span></span>
<span id="cb113-24"><a href="#cb113-24" aria-hidden="true" tabindex="-1"></a><span class="co">#   greater than            &gt;                 same as R</span></span>
<span id="cb113-25"><a href="#cb113-25" aria-hidden="true" tabindex="-1"></a><span class="co">#   less than               &lt;                 same as R</span></span>
<span id="cb113-26"><a href="#cb113-26" aria-hidden="true" tabindex="-1"></a><span class="co">#   greater or equal        &gt;=                same as R</span></span>
<span id="cb113-27"><a href="#cb113-27" aria-hidden="true" tabindex="-1"></a><span class="co">#   less or equal           &lt;=                same as R</span></span>
<span id="cb113-28"><a href="#cb113-28" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb113-29"><a href="#cb113-29" aria-hidden="true" tabindex="-1"></a><span class="co">#   logical not             !                 not</span></span>
<span id="cb113-30"><a href="#cb113-30" aria-hidden="true" tabindex="-1"></a><span class="co">#   logical and             &amp;&amp;                and</span></span>
<span id="cb113-31"><a href="#cb113-31" aria-hidden="true" tabindex="-1"></a><span class="co">#   logical or              ||                or</span></span>
<span id="cb113-32"><a href="#cb113-32" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb113-33"><a href="#cb113-33" aria-hidden="true" tabindex="-1"></a><span class="co">#   CHARACTER OPERATORS</span></span>
<span id="cb113-34"><a href="#cb113-34" aria-hidden="true" tabindex="-1"></a><span class="co">#   concatenation           paste0(a,b)       a || b</span></span>
<span id="cb113-35"><a href="#cb113-35" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb113-36"><a href="#cb113-36" aria-hidden="true" tabindex="-1"></a><span class="co"># . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</span></span>
<span id="cb113-37"><a href="#cb113-37" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb113-38"><a href="#cb113-38" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span><span class="al">NOTE</span><span class="co"> - the following operators exist in sqlite but mean different </span></span>
<span id="cb113-39"><a href="#cb113-39" aria-hidden="true" tabindex="-1"></a><span class="co">#          things than what they mean in R.</span></span>
<span id="cb113-40"><a href="#cb113-40" aria-hidden="true" tabindex="-1"></a><span class="co">#          We will probably not cover the details of these operators</span></span>
<span id="cb113-41"><a href="#cb113-41" aria-hidden="true" tabindex="-1"></a><span class="co">#          (unless we have extra time) but you should be aware that</span></span>
<span id="cb113-42"><a href="#cb113-42" aria-hidden="true" tabindex="-1"></a><span class="co">#          they do NOT do the same thing as in R.</span></span>
<span id="cb113-43"><a href="#cb113-43" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb113-44"><a href="#cb113-44" aria-hidden="true" tabindex="-1"></a><span class="co">#                        R operator      sqlite operator</span></span>
<span id="cb113-45"><a href="#cb113-45" aria-hidden="true" tabindex="-1"></a><span class="co">#                        -----------     ---------------</span></span>
<span id="cb113-46"><a href="#cb113-46" aria-hidden="true" tabindex="-1"></a><span class="co">#   BITWISE OPERATORS - we will probably not cover these unless we have extra time.</span></span>
<span id="cb113-47"><a href="#cb113-47" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb113-48"><a href="#cb113-48" aria-hidden="true" tabindex="-1"></a><span class="co">#   bitwise "and"        not avaialble        &amp;</span></span>
<span id="cb113-49"><a href="#cb113-49" aria-hidden="true" tabindex="-1"></a><span class="co">#   bitwise "or"         not avaialble        |</span></span>
<span id="cb113-50"><a href="#cb113-50" aria-hidden="true" tabindex="-1"></a><span class="co">#   bitwise "not"        not avaialble        ~</span></span>
<span id="cb113-51"><a href="#cb113-51" aria-hidden="true" tabindex="-1"></a><span class="co">#   left shift bits      not avaialble        &lt;&lt;</span></span>
<span id="cb113-52"><a href="#cb113-52" aria-hidden="true" tabindex="-1"></a><span class="co">#   right shift bits     not avaialble        &gt;&gt;</span></span>
<span id="cb113-53"><a href="#cb113-53" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="performing-calculations-with-sql" class="level2" data-number="31.18">
<h2 data-number="31.18" class="anchored" data-anchor-id="performing-calculations-with-sql"><span class="header-section-number">31.18</span> Performing calculations with SQL</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ </span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Using SQL to perform calculations  ####</span></span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="co"># In the sqlite flavor of SQL you can perform calculations by simply</span></span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a><span class="co"># using SELECT without a FROM clause.</span></span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Some other versions of SQL (e.g. Oracle) require a FROM clause in every select.</span></span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ </span></span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-10"><a href="#cb114-10" aria-hidden="true" tabindex="-1"></a><span class="co"># RESULTS of following query</span></span>
<span id="cb114-11"><a href="#cb114-11" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb114-12"><a href="#cb114-12" aria-hidden="true" tabindex="-1"></a><span class="co">#     3+2   23/5    23.0/5</span></span>
<span id="cb114-13"><a href="#cb114-13" aria-hidden="true" tabindex="-1"></a><span class="co">#       5      4       4.6</span></span>
<span id="cb114-14"><a href="#cb114-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-15"><a href="#cb114-15" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select 3+2, 23/5, 23.0 / 5"</span>)   <span class="co"># 5   4   4.6 (headings show calculations)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  3+2 23/5 23.0 / 5
1   5    4      4.6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Same result but headings show Sum, IntegerDivision, RealDivision</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a><span class="co">#     Sum   IntegerDivision   RealDivision</span></span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a><span class="co">#       5                 4            4.6</span></span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select 3+2 as Sum, </span></span>
<span id="cb116-7"><a href="#cb116-7" aria-hidden="true" tabindex="-1"></a><span class="st">      23/5 as IntegerDivision, </span></span>
<span id="cb116-8"><a href="#cb116-8" aria-hidden="true" tabindex="-1"></a><span class="st">      23.0 / 5 as RealDivision"</span>)   <span class="co"># 5   4   4.6   (same results with differnet headings)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sum IntegerDivision RealDivision
1   5               4          4.6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You don't actullay need the word "as" but it makes the code more readable.</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The following will produce the same results as above.</span></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select 3+2 Sum, </span></span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a><span class="st">      23/5 IntegerDivision, </span></span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a><span class="st">      23.0 / 5 RealDivision"</span>)   <span class="co"># 5   4   4.6   (same results with differnet headings)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sum IntegerDivision RealDivision
1   5               4          4.6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The column heading must only use legal column heading characters.</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="co"># If you want to add non-legal column-heading characters, you can put the</span></span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a><span class="co"># column heading in "double quotes".</span></span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a><span class="co"># The following adds spaces to some of the column headings.</span></span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">'select 3+2 "Sum", </span></span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a><span class="st">      23/5 "Integer Division", </span></span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a><span class="st">      23.0 / 5 "Real Division"'</span>)   <span class="co"># 5   4   4.6   (same results with differnet headings)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sum Integer Division Real Division
1   5                4           4.6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="co"># If you perform calculations that do not refer to the columns in a table,</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="co"># you will get back the result of the calculation for every row of the table.</span></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a><span class="co"># The following will return multiple rows of the answers, one row for each</span></span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a><span class="co"># of the grades table.</span></span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a><span class="co"># You generally don't want to do this, which is why we left off the FROM </span></span>
<span id="cb122-8"><a href="#cb122-8" aria-hidden="true" tabindex="-1"></a><span class="co"># clause in our earlier examples.</span></span>
<span id="cb122-9"><a href="#cb122-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-10"><a href="#cb122-10" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">'select 3+2 "Sum", </span></span>
<span id="cb122-11"><a href="#cb122-11" aria-hidden="true" tabindex="-1"></a><span class="st">      23/5 "Integer Division", </span></span>
<span id="cb122-12"><a href="#cb122-12" aria-hidden="true" tabindex="-1"></a><span class="st">      23.0 / 5 "Real Division"</span></span>
<span id="cb122-13"><a href="#cb122-13" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades'</span>)                <span class="co"># you probably dont want the from clause here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Sum Integer Division Real Division
1    5                4           4.6
2    5                4           4.6
3    5                4           4.6
4    5                4           4.6
5    5                4           4.6
6    5                4           4.6
7    5                4           4.6
8    5                4           4.6
9    5                4           4.6
10   5                4           4.6
11   5                4           4.6
12   5                4           4.6
13   5                4           4.6
14   5                4           4.6
15   5                4           4.6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select 3 as curve, student, test1, test1 + 3 as curved_test1 from grades"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   curve  student test1 curved_test1
1      3      joe    70           73
2      3      sue    80           83
3      3     anne    90           93
4      3    frank   100          103
5      3      bob    30           33
6      3 samantha   100          103
7      3    larry    32           35
8      3     bill    84           87
9      3 lucricia    80           83
10     3 margaret    59           62
11     3    dalia    85           88
12     3      zvi    90           93
13     3     mike    90           93
14     3    david    90           93
15     3     dana   100          103</code></pre>
</div>
</div>
</section>
<section id="reminder---how-na-works-in-r" class="level2" data-number="31.19">
<h2 data-number="31.19" class="anchored" data-anchor-id="reminder---how-na-works-in-r"><span class="header-section-number">31.19</span> Reminder - how NA works in R</h2>
<p><strong>NOTE</strong>:</p>
<ul>
<li>“IDS1020-Intro to IDS” students can ignore this section.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click here to see the notes on NA (this is a review from last semester)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Remember how NA works in R  ####</span></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ANY expression that contains NA results in NA</span></span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a>franksSalary <span class="ot">=</span> <span class="dv">100</span></span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a>tinasSalary <span class="ot">=</span> <span class="dv">200</span></span>
<span id="cb126-9"><a href="#cb126-9" aria-hidden="true" tabindex="-1"></a>nancysSalary <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb126-10"><a href="#cb126-10" aria-hidden="true" tabindex="-1"></a>nedsSalary <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb126-11"><a href="#cb126-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-12"><a href="#cb126-12" aria-hidden="true" tabindex="-1"></a><span class="co"># all of the following result in NA</span></span>
<span id="cb126-13"><a href="#cb126-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-14"><a href="#cb126-14" aria-hidden="true" tabindex="-1"></a>franksSalary <span class="sc">&gt;</span> nancysSalary  <span class="co"># NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>nancysSalary <span class="sc">==</span> nedsSalary   <span class="co"># NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>franksSalary <span class="sc">+</span> nancysSalary  <span class="co"># NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The only way to test for NA in R is with the is.na function</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>salarys <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">100</span>,<span class="dv">200</span>,<span class="cn">NA</span>,<span class="cn">NA</span>) </span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a>salarys <span class="sc">==</span> <span class="cn">NA</span>     <span class="co"># NA NA NA NA</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA NA NA NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(salarys)    <span class="co"># FALSE FALSE TRUE TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE  TRUE  TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="co"># In R, you can check for non-na values using not operator ( ! )</span></span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span><span class="fu">is.na</span>(salarys)   <span class="co"># TRUE TRUE FALSE FALSE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE  TRUE FALSE FALSE</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="co">#..................................................................</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Remember in R that when you perform any operation with NA</span></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="co"># the result is NA. For example:</span></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a><span class="co">#    &gt; NA + 10</span></span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a><span class="co">#    [1] NA</span></span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb138-8"><a href="#cb138-8" aria-hidden="true" tabindex="-1"></a><span class="co">#    &gt; NA == NA  </span></span>
<span id="cb138-9"><a href="#cb138-9" aria-hidden="true" tabindex="-1"></a><span class="co">#    [1] NA</span></span>
<span id="cb138-10"><a href="#cb138-10" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb138-11"><a href="#cb138-11" aria-hidden="true" tabindex="-1"></a><span class="co">#    &gt; NA != NA  </span></span>
<span id="cb138-12"><a href="#cb138-12" aria-hidden="true" tabindex="-1"></a><span class="co">#    [1] NA</span></span>
<span id="cb138-13"><a href="#cb138-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb138-14"><a href="#cb138-14" aria-hidden="true" tabindex="-1"></a><span class="co"># SQL has the same approach to NULL values. Any operation with NULL</span></span>
<span id="cb138-15"><a href="#cb138-15" aria-hidden="true" tabindex="-1"></a><span class="co"># results in NULL.</span></span>
<span id="cb138-16"><a href="#cb138-16" aria-hidden="true" tabindex="-1"></a><span class="co">#..................................................................</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="null-in-sql" class="level2" data-number="31.20">
<h2 data-number="31.20" class="anchored" data-anchor-id="null-in-sql"><span class="header-section-number">31.20</span> NULL in SQL</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="co"># NULL values in SQL  ####</span></span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a><span class="co"># In relational database tables, the value NULL is used to record </span></span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a><span class="co"># a value that is "not known". For example a salary value of NULL</span></span>
<span id="cb139-6"><a href="#cb139-6" aria-hidden="true" tabindex="-1"></a><span class="co"># is treated as a salary that hasn't been recorded in the database yet. </span></span>
<span id="cb139-7"><a href="#cb139-7" aria-hidden="true" tabindex="-1"></a><span class="co"># This is very different from a salary of 0 which would be the case if </span></span>
<span id="cb139-8"><a href="#cb139-8" aria-hidden="true" tabindex="-1"></a><span class="co"># someone is volunteering or donating their time.</span></span>
<span id="cb139-9"><a href="#cb139-9" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb139-10"><a href="#cb139-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that when using sqldf to run SQL commands in R</span></span>
<span id="cb139-11"><a href="#cb139-11" aria-hidden="true" tabindex="-1"></a><span class="co"># the data is stored in an R dataframe. Therefore these types of values</span></span>
<span id="cb139-12"><a href="#cb139-12" aria-hidden="true" tabindex="-1"></a><span class="co"># appear in the dataframe as NA but the SQL statements use the term NULL.</span></span>
<span id="cb139-13"><a href="#cb139-13" aria-hidden="true" tabindex="-1"></a><span class="co"># In an actual relational database these values would also appear in the </span></span>
<span id="cb139-14"><a href="#cb139-14" aria-hidden="true" tabindex="-1"></a><span class="co"># table as NULL (not as NA)</span></span>
<span id="cb139-15"><a href="#cb139-15" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb139-16"><a href="#cb139-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-17"><a href="#cb139-17" aria-hidden="true" tabindex="-1"></a><span class="co">#...............................................................</span></span>
<span id="cb139-18"><a href="#cb139-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for values that are NULL in the following way:</span></span>
<span id="cb139-19"><a href="#cb139-19" aria-hidden="true" tabindex="-1"></a><span class="co">#     </span></span>
<span id="cb139-20"><a href="#cb139-20" aria-hidden="true" tabindex="-1"></a><span class="co">#     WHERE COLUMN_NAME IS NULL</span></span>
<span id="cb139-21"><a href="#cb139-21" aria-hidden="true" tabindex="-1"></a><span class="co">#     (see examples below)</span></span>
<span id="cb139-22"><a href="#cb139-22" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb139-23"><a href="#cb139-23" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: DO NOT USE "== NULL". The == operator will NOT work with NULL</span></span>
<span id="cb139-24"><a href="#cb139-24" aria-hidden="true" tabindex="-1"></a><span class="co">#...............................................................</span></span>
<span id="cb139-25"><a href="#cb139-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-26"><a href="#cb139-26" aria-hidden="true" tabindex="-1"></a><span class="co"># show all rows for which the test3 grade is NULL </span></span>
<span id="cb139-27"><a href="#cb139-27" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb139-28"><a href="#cb139-28" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: Remember that R does not understand NULL, R uses NA.</span></span>
<span id="cb139-29"><a href="#cb139-29" aria-hidden="true" tabindex="-1"></a><span class="co">#       Remember that SQL understands NULL and does not understand NA.</span></span>
<span id="cb139-30"><a href="#cb139-30" aria-hidden="true" tabindex="-1"></a><span class="co">#       Since sqldf uses R dataframes, the sqldf function automatically </span></span>
<span id="cb139-31"><a href="#cb139-31" aria-hidden="true" tabindex="-1"></a><span class="co">#       translates NULL into NA and vice versa when using SQL code to </span></span>
<span id="cb139-32"><a href="#cb139-32" aria-hidden="true" tabindex="-1"></a><span class="co">#       access data in R dataframes.</span></span>
<span id="cb139-33"><a href="#cb139-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-34"><a href="#cb139-34" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select *</span></span>
<span id="cb139-35"><a href="#cb139-35" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb139-36"><a href="#cb139-36" aria-hidden="true" tabindex="-1"></a><span class="st">      where test3 is NULL"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     id  student year honors test1 test2 test3 major
1 s0100      joe   fr  FALSE    70    82    NA   IDS
2 s0500      bob   so  FALSE    30    NA    NA   IDS
3 s0700    larry   ju  FALSE    32    80    NA   FIN
4 s1000 margaret   se  FALSE    59    47    NA   IDS</code></pre>
</div>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DON'T DO THE FOLLOWING !!! IT DOESN'T WORK!!!</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select *</span></span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a><span class="st">      where test3 = NULL"</span>)  <span class="co"># use IS NULL!!!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] id      student year    honors  test1   test2   test3   major  
&lt;0 rows&gt; (or 0-length row.names)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co">#...............................................................</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for values that aren't NULL in the following way:</span></span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a><span class="co">#     </span></span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a><span class="co">#     WHERE COLUMN_NAME IS NOT NULL</span></span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a><span class="co">#     (see examples below)</span></span>
<span id="cb143-6"><a href="#cb143-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb143-7"><a href="#cb143-7" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: DO NOT USE "!= NULL". The != operator will NOT work with NULL</span></span>
<span id="cb143-8"><a href="#cb143-8" aria-hidden="true" tabindex="-1"></a><span class="co">#...............................................................</span></span>
<span id="cb143-9"><a href="#cb143-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-10"><a href="#cb143-10" aria-hidden="true" tabindex="-1"></a><span class="co"># show all rows for which the test3 grade is NOT NULL (i.e. isn't NA)</span></span>
<span id="cb143-11"><a href="#cb143-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-12"><a href="#cb143-12" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select *</span></span>
<span id="cb143-13"><a href="#cb143-13" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb143-14"><a href="#cb143-14" aria-hidden="true" tabindex="-1"></a><span class="st">      where test3 is NOT NULL"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      id  student year honors test1 test2 test3 major
1  s0200      sue   fr  FALSE    80    80    79   IDS
2  s0300     anne   fr   TRUE    90    95    92   IDS
3  s0400    frank   so   TRUE   100    95    91   ACC
4  s0600 samantha   so   TRUE   100    70    97   IDS
5  s0800     bill   se  FALSE    84    90    92   ACC
6  s0900 lucricia   fr   TRUE    80   100    88   IDS
7  s1100    dalia   se  FALSE    85    92    93   FIN
8  s1200      zvi   ju   TRUE    90    98    92   ACC
9  s1300     mike   ju   TRUE    90    86    79   IDS
10 s1400    david   se   TRUE    90    87    87   IDS
11 s1500     dana   so  FALSE   100    93    91   FIN</code></pre>
</div>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DON'T DO THE FOLLOWING !!! IT DOESN'T WORK!!!</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select *</span></span>
<span id="cb145-4"><a href="#cb145-4" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb145-5"><a href="#cb145-5" aria-hidden="true" tabindex="-1"></a><span class="st">      where test3 != NULL"</span>)   <span class="co"># use IS NOT NULL !!!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] id      student year    honors  test1   test2   test3   major  
&lt;0 rows&gt; (or 0-length row.names)</code></pre>
</div>
</div>
</section>
<section id="practice-1" class="level2" data-number="31.21">
<h2 data-number="31.21" class="anchored" data-anchor-id="practice-1"><span class="header-section-number">31.21</span> Practice</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co"># . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a><span class="co"># curve all test3 grades by 10 points (NULLs remain NULL)</span></span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a><span class="co"># (remember that since we are using R, the NULL values</span></span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a><span class="co">#  appear as NA)</span></span>
<span id="cb147-8"><a href="#cb147-8" aria-hidden="true" tabindex="-1"></a><span class="co"># . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</span></span>
<span id="cb147-9"><a href="#cb147-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-10"><a href="#cb147-10" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, test3, test3 + 10 as curved_test3</span></span>
<span id="cb147-11"><a href="#cb147-11" aria-hidden="true" tabindex="-1"></a><span class="st">       from grades</span></span>
<span id="cb147-12"><a href="#cb147-12" aria-hidden="true" tabindex="-1"></a><span class="st">       order by student"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student test3 curved_test3
1      anne    92          102
2      bill    92          102
3       bob    NA           NA
4     dalia    93          103
5      dana    91          101
6     david    87           97
7     frank    91          101
8       joe    NA           NA
9     larry    NA           NA
10 lucricia    88           98
11 margaret    NA           NA
12     mike    79           89
13 samantha    97          107
14      sue    79           89
15      zvi    92          102</code></pre>
</div>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="co"># . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</span></span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Show rows where both test2 and test3 are NULL</span></span>
<span id="cb149-5"><a href="#cb149-5" aria-hidden="true" tabindex="-1"></a><span class="co"># REMEMBER when looking for NULL values: </span></span>
<span id="cb149-6"><a href="#cb149-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb149-7"><a href="#cb149-7" aria-hidden="true" tabindex="-1"></a><span class="co">#    USE:        value IS NULL      # correct</span></span>
<span id="cb149-8"><a href="#cb149-8" aria-hidden="true" tabindex="-1"></a><span class="co">#    DON'T use:  value = NULL       # wrong</span></span>
<span id="cb149-9"><a href="#cb149-9" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb149-10"><a href="#cb149-10" aria-hidden="true" tabindex="-1"></a><span class="co">#    USE:        value IS NOT NULL  # correct</span></span>
<span id="cb149-11"><a href="#cb149-11" aria-hidden="true" tabindex="-1"></a><span class="co">#    DON'T use:  value != NULL      # wrong</span></span>
<span id="cb149-12"><a href="#cb149-12" aria-hidden="true" tabindex="-1"></a><span class="co"># . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .</span></span>
<span id="cb149-13"><a href="#cb149-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-14"><a href="#cb149-14" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, test1, test2, test3</span></span>
<span id="cb149-15"><a href="#cb149-15" aria-hidden="true" tabindex="-1"></a><span class="st">       from grades</span></span>
<span id="cb149-16"><a href="#cb149-16" aria-hidden="true" tabindex="-1"></a><span class="st">       where test2 IS NULL and test3 IS NULL  </span></span>
<span id="cb149-17"><a href="#cb149-17" aria-hidden="true" tabindex="-1"></a><span class="st">       order by student"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  student test1 test2 test3
1     bob    30    NA    NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DON'T DO THE FOLLOWING !!! IT DOESN'T WORK!!!</span></span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select student, test1, test2, test3</span></span>
<span id="cb151-4"><a href="#cb151-4" aria-hidden="true" tabindex="-1"></a><span class="st">       from grades</span></span>
<span id="cb151-5"><a href="#cb151-5" aria-hidden="true" tabindex="-1"></a><span class="st">       where test2 == NULL and test3 == NULL  </span></span>
<span id="cb151-6"><a href="#cb151-6" aria-hidden="true" tabindex="-1"></a><span class="st">       order by student"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] student test1   test2   test3  
&lt;0 rows&gt; (or 0-length row.names)</code></pre>
</div>
</div>
</section>
<section id="tutorials-sqlbolt.com-and-w3chools.com" class="level2" data-number="31.22">
<h2 data-number="31.22" class="anchored" data-anchor-id="tutorials-sqlbolt.com-and-w3chools.com"><span class="header-section-number">31.22</span> Tutorials sqlbolt.com and w3chools.com</h2>
<p>Please see the tutorials at the following locations.</p>
<ul>
<li><a href="https://sqlbolt.com/" class="uri">https://sqlbolt.com/</a> These pages cover basic SELECT statements. They refer to the following tables
<ul>
<li>movies</li>
<li>north_american_cities</li>
</ul></li>
<li><a href="https://www.w3schools.com/sql/sql_join.asp" class="uri">https://www.w3schools.com/sql/sql_join.asp</a> This page teaches how to work with more than one table. They refer to the following tables
<ul>
<li>customers</li>
<li>orders</li>
</ul></li>
</ul>
<p>The file &lt;sqlbolt_tables-v007.RData&gt; contains the dataframes with the information for each table that are used on these websites. These dataframes can be loaded into R from this file with the following command.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a><span class="co"># sqlbolt.com    and    https://www.w3schools.com/sql/sql_join.asp    ####</span></span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"sqlbolt_tables-v007.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Below are the contents of these tables:</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
click to see movies table
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * from movies"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1   1           Toy Story  John Lasseter 1995             81
2   2        A Bug's Life  John Lasseter 1998             95
3   3         Toy Story 2  John Lasseter 1999             93
4   4      Monsters, Inc.    Pete Docter 2001             92
5   5        Finding Nemo Andrew Stanton 2003            107
6   6     The Incredibles      Brad Bird 2004            116
7   7                Cars  John Lasseter 2006            117
8   8         Ratatouille      Brad Bird 2007            115
9   9              WALL-E Andrew Stanton 2008            104
10 10                  Up    Pete Docter 2009            101
11 11         Toy Story 3    Lee Unkrich 2010            103
12 12              Cars 2  John Lasseter 2011            120
13 13               Brave Brenda Chapman 2012            102
14 14 Monsters University    Dan Scanlon 2013            110
15 87              WALL-G Brenda Chapman 2042             92</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
click to see orders table
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * from orders"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    OrderID CustomerID EmployeeID  OrderDate ShipperID
1     10248         90          5   7/4/1996         3
2     10249         81          6   7/5/1996         1
3     10250         34          4   7/8/1996         2
4     10251         84          3   7/8/1996         1
5     10252         76          4   7/9/1996         2
6     10253         34          3  7/10/1996         2
7     10254         14          5  7/11/1996         2
8     10255         68          9  7/12/1996         3
9     10256         88          3  7/15/1996         2
10    10257         35          4  7/16/1996         3
11    10258         20          1  7/17/1996         1
12    10259         13          4  7/18/1996         3
13    10260         55          4  7/19/1996         1
14    10261         61          4  7/19/1996         2
15    10262         65          8  7/22/1996         3
16    10263         20          9  7/23/1996         3
17    10264         24          6  7/24/1996         3
18    10265          7          2  7/25/1996         1
19    10266         87          3  7/26/1996         3
20    10267         25          4  7/29/1996         1
21    10268         33          8  7/30/1996         3
22    10269         89          5  7/31/1996         1
23    10270         87          1   8/1/1996         1
24    10271         75          6   8/1/1996         2
25    10272         65          6   8/2/1996         2
26    10273         63          3   8/5/1996         3
27    10274         85          6   8/6/1996         1
28    10275         49          1   8/7/1996         1
29    10276         80          8   8/8/1996         3
30    10277         52          2   8/9/1996         3
31    10278          5          8  8/12/1996         2
32    10279         44          8  8/13/1996         2
33    10280          5          2  8/14/1996         1
34    10281         69          4  8/14/1996         1
35    10282         69          4  8/15/1996         1
36    10283         46          3  8/16/1996         3
37    10284         44          4  8/19/1996         1
38    10285         63          1  8/20/1996         2
39    10286         63          8  8/21/1996         3
40    10287         67          8  8/22/1996         3
41    10288         66          4  8/23/1996         1
42    10289         11          7  8/26/1996         3
43    10290         15          8  8/27/1996         1
44    10291         61          6  8/27/1996         2
45    10292         81          1  8/28/1996         2
46    10293         80          1  8/29/1996         3
47    10294         65          4  8/30/1996         2
48    10295         85          2   9/2/1996         2
49    10296         46          6   9/3/1996         1
50    10297          7          5   9/4/1996         2
51    10298         37          6   9/5/1996         2
52    10299         67          4   9/6/1996         2
53    10300         49          2   9/9/1996         2
54    10301         86          8   9/9/1996         2
55    10302         76          4  9/10/1996         2
56    10303         30          7  9/11/1996         2
57    10304         80          1  9/12/1996         2
58    10305         55          8  9/13/1996         3
59    10306         69          1  9/16/1996         3
60    10307         48          2  9/17/1996         2
61    10308          2          7  9/18/1996         3
62    10309         37          3  9/19/1996         1
63    10310         77          8  9/20/1996         2
64    10311         18          1  9/20/1996         3
65    10312         86          2  9/23/1996         2
66    10313         63          2  9/24/1996         2
67    10314         65          1  9/25/1996         2
68    10315         38          4  9/26/1996         2
69    10316         65          1  9/27/1996         3
70    10317         48          6  9/30/1996         1
71    10318         38          8  10/1/1996         2
72    10319         80          7  10/2/1996         3
73    10320         87          5  10/3/1996         3
74    10321         38          3  10/3/1996         2
75    10322         58          7  10/4/1996         3
76    10323         39          4  10/7/1996         1
77    10324         71          9  10/8/1996         1
78    10325         39          1  10/9/1996         3
79    10326          8          4 10/10/1996         2
80    10327         24          2 10/11/1996         1
81    10328         28          4 10/14/1996         3
82    10329         75          4 10/15/1996         2
83    10330         46          3 10/16/1996         1
84    10331          9          9 10/16/1996         1
85    10332         51          3 10/17/1996         2
86    10333         87          5 10/18/1996         3
87    10334         84          8 10/21/1996         2
88    10335         37          7 10/22/1996         2
89    10336         60          7 10/23/1996         2
90    10337         25          4 10/24/1996         3
91    10338         55          4 10/25/1996         3
92    10339         51          2 10/28/1996         2
93    10340          9          1 10/29/1996         3
94    10341         73          7 10/29/1996         3
95    10342         25          4 10/30/1996         2
96    10343         44          4 10/31/1996         1
97    10344         89          4  11/1/1996         2
98    10345         63          2  11/4/1996         2
99    10346         65          3  11/5/1996         3
100   10347         21          4  11/6/1996         3
101   10348         86          4  11/7/1996         2
102   10349         75          7  11/8/1996         1
103   10350         41          6 11/11/1996         2
104   10351         20          1 11/11/1996         1
105   10352         28          3 11/12/1996         3
106   10353         59          7 11/13/1996         3
107   10354         58          8 11/14/1996         3
108   10355          4          6 11/15/1996         1
109   10356         86          6 11/18/1996         2
110   10357         46          1 11/19/1996         3
111   10358         41          5 11/20/1996         1
112   10359         72          5 11/21/1996         3
113   10360          7          4 11/22/1996         3
114   10361         63          1 11/22/1996         2
115   10362          9          3 11/25/1996         1
116   10363         17          4 11/26/1996         3
117   10364         19          1 11/26/1996         1
118   10365          3          3 11/27/1996         2
119   10366         29          8 11/28/1996         2
120   10367         83          7 11/28/1996         3
121   10368         20          2 11/29/1996         2
122   10369         75          8  12/2/1996         2
123   10370         14          6  12/3/1996         2
124   10371         41          1  12/3/1996         1
125   10372         62          5  12/4/1996         2
126   10373         37          4  12/5/1996         3
127   10374         91          1  12/5/1996         3
128   10375         36          3  12/6/1996         2
129   10376         51          1  12/9/1996         2
130   10377         72          1  12/9/1996         3
131   10378         24          5 12/10/1996         3
132   10379         61          2 12/11/1996         1
133   10380         37          8 12/12/1996         3
134   10381         46          3 12/12/1996         3
135   10382         20          4 12/13/1996         1
136   10383          4          8 12/16/1996         3
137   10384          5          3 12/16/1996         3
138   10385         75          1 12/17/1996         2
139   10386         21          9 12/18/1996         3
140   10387         70          1 12/18/1996         2
141   10388         72          2 12/19/1996         1
142   10389         10          4 12/20/1996         2
143   10390         20          6 12/23/1996         1
144   10391         17          3 12/23/1996         3
145   10392         59          2 12/24/1996         3
146   10393         71          1 12/25/1996         3
147   10394         36          1 12/25/1996         3
148   10395         35          6 12/26/1996         1
149   10396         25          1 12/27/1996         3
150   10397         60          5 12/27/1996         1
151   10398         71          2 12/30/1996         3
152   10399         83          8 12/31/1996         3
153   10400         19          1   1/1/1997         3
154   10401         65          1   1/1/1997         1
155   10402         20          8   1/2/1997         2
156   10403         20          4   1/3/1997         3
157   10404         49          2   1/3/1997         1
158   10405         47          1   1/6/1997         1
159   10406         62          7   1/7/1997         1
160   10407         56          2   1/7/1997         2
161   10408         23          8   1/8/1997         1
162   10409         54          3   1/9/1997         1
163   10410         10          3  1/10/1997         3
164   10411         10          9  1/10/1997         3
165   10412         87          8  1/13/1997         2
166   10413         41          3  1/14/1997         2
167   10414         21          2  1/14/1997         3
168   10415         36          3  1/15/1997         1
169   10416         87          8  1/16/1997         3
170   10417         73          4  1/16/1997         3
171   10418         63          4  1/17/1997         1
172   10419         68          4  1/20/1997         2
173   10420         88          3  1/21/1997         1
174   10421         61          8  1/21/1997         1
175   10422         27          2  1/22/1997         1
176   10423         31          6  1/23/1997         3
177   10424         51          7  1/23/1997         2
178   10425         41          6  1/24/1997         2
179   10426         29          4  1/27/1997         1
180   10427         59          4  1/27/1997         2
181   10428         66          7  1/28/1997         1
182   10429         37          3  1/29/1997         2
183   10430         20          4  1/30/1997         1
184   10431         10          4  1/30/1997         2
185   10432         75          3  1/31/1997         2
186   10433         60          3   2/3/1997         3
187   10434         24          3   2/3/1997         2
188   10435         16          8   2/4/1997         2
189   10436          7          3   2/5/1997         2
190   10437         87          8   2/5/1997         1
191   10438         79          3   2/6/1997         2
192   10439         51          6   2/7/1997         3
193   10440         71          4  2/10/1997         2
194   10441         55          3  2/10/1997         2
195   10442         20          3  2/11/1997         2
196   10443         66          8  2/12/1997         1</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
click to see customers table
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * from customers"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   CustomerID                         CustomerName              ContactName                                           Address             City PostalCode     Country
1           1                  Alfreds Futterkiste             Maria Anders                                     Obere Str. 57           Berlin      12209     Germany
2           2   Ana Trujillo Emparedados y helados             Ana Trujillo                  Avda. de la Constituci\xf3n 2222   M\xe9xico D.F.       5021      Mexico
3           3           Antonio Moreno Taquer\xeda           Antonio Moreno                                    Mataderos 2312   M\xe9xico D.F.       5023      Mexico
4           4                      Around the Horn             Thomas Hardy                                   120 Hanover Sq.           London    WA1 1DP          UK
5           5                Berglunds snabbk\xf6p       Christina Berglund                                 Berguvsv\xe4gen 8         Lule\xe5   S-958 22      Sweden
6           6              Blauer See Delikatessen               Hanna Moos                                    Forsterstr. 57         Mannheim      68306     Germany
7           7              Blondel p\xe8re et fils Fr\xe9d\xe9rique Citeaux                               24, place Kl\xe9ber       Strasbourg      67000      France
8           8         B\xf3lido Comidas preparadas         Mart\xedn Sommer                                    C/ Araquil, 67           Madrid      28023       Spain
9           9                             Bon app'        Laurence Lebihans                              12, rue des Bouchers        Marseille      13008      France
10         10               Bottom-Dollar Marketse        Elizabeth Lincoln                                23 Tsawassen Blvd.        Tsawassen    T2F 8M4      Canada
11         11                        B's Beverages        Victoria Ashworth                                 Fauntleroy Circus           London    EC2 5NT          UK
12         12           Cactus Comidas para llevar         Patricio Simpson                                       Cerrito 333     Buenos Aires       1010   Argentina
13         13           Centro comercial Moctezuma          Francisco Chang                           Sierras de Granada 9993   M\xe9xico D.F.       5022      Mexico
14         14                    Chop-suey Chinese                Yang Wang                                      Hauptstr. 29             Bern       3012 Switzerland
15         15                  Com\xe9rcio Mineiro             Pedro Afonso                           Av. dos Lus\xedadas, 23     S\xe3o Paulo  05432-043      Brazil
16         16                Consolidated Holdings          Elizabeth Brown                       Berkeley Gardens 12 Brewery           London    WX1 6LT          UK
17         17            Drachenblut Delikatessend             Sven Ottlieb                                      Walserweg 21           Aachen      52066     Germany
18         18                      Du monde entier           Janine Labrune                      67, rue des Cinquante Otages           Nantes      44000      France
19         19                   Eastern Connection                Ann Devon                                    35 King George           London    WX3 6FW          UK
20         20                         Ernst Handel            Roland Mendel                                      Kirchgasse 6             Graz       8010     Austria
21         21                   Familia Arquibaldo                Aria Cruz                                   Rua Or\xf3s, 92     S\xe3o Paulo  05442-030      Brazil
22         22 FISSA Fabrica Inter. Salchichas S.A.               Diego Roel                                C/ Moralzarzal, 86           Madrid      28034       Spain
23         23                    Folies gourmandes         Martine Ranc\xe9                       184, chauss\xe9e de Tournai            Lille      59000      France
24         24                    Folk och f\xe4 HB            Maria Larsson                                   \xc5kergatan 24        Br\xe4cke   S-844 67      Sweden
25         25                       Frankenversand            Peter Franken                                 Berliner Platz 43       M\xfcnchen      80805     Germany
26         26                  France restauration           Carine Schmitt                                    54, rue Royale           Nantes      44000      France
27         27                       Franchi S.p.A.            Paolo Accorti                               Via Monte Bianco 34           Torino      10100       Italy
28         28       Furia Bacalhau e Frutos do Mar           Lino Rodriguez                            Jardim das rosas n. 32           Lisboa       1675    Portugal
29         29         Galer\xeda del gastr\xf3nomo         Eduardo Saavedra                         Rambla de Catalu\xf1a, 23        Barcelona       8022       Spain
30         30               Godos Cocina T\xedpica     Jos\xe9 Pedro Freyre                                     C/ Romero, 33          Sevilla      41101       Spain
31         31                  Gourmet Lanchonetes         Andr\xe9 Fonseca                                   Av. Brasil, 442         Campinas  04876-786      Brazil
32         32              Great Lakes Food Market            Howard Snyder                                  2732 Baker Blvd.           Eugene      97403         USA
33         33                 GROSELLA-Restaurante           Manuel Pereira                      5\xaa Ave. Los Palos Grandes          Caracas       1081   Venezuela
34         34                        Hanari Carnes             Mario Pontes                                Rua do Pa\xe7o, 67   Rio de Janeiro  05454-876      Brazil
35         35                  HILARI\xd3N-Abastos      Carlos Hern\xe1ndez        Carrera 22 con Ave. Carlos Soublette #8-35 San Crist\xf3bal       5022   Venezuela
36         36           Hungry Coyote Import Store            Yoshi Latimer                    City Center Plaza 516 Main St.            Elgin      97827         USA
37         37         Hungry Owl All-Night Grocers         Patricia McKenna                                  8 Johnstown Road             Cork                Ireland
38         38                       Island Trading            Helen Bennett                         Garden House Crowther Way            Cowes   PO31 7PJ          UK
39         39                   K\xf6niglich Essen            Philip Cramer                                     Maubelstr. 90      Brandenburg      14776     Germany
40         40                 La corne d'abondance            Daniel Tonini                            67, avenue de l'Europe       Versailles      78000      France
41         41                     La maison d'Asie           Annette Roulet                             1 rue Alsace-Lorraine         Toulouse      31000      France
42         42        Laughing Bacchus Wine Cellars          Yoshi Tannamuri                                      1900 Oak St.        Vancouver    V3F 2K1      Canada
43         43                 Lazy K Kountry Store               John Steel                              12 Orchestra Terrace      Walla Walla      99362         USA
44         44                  Lehmanns Marktstand           Renate Messner                                      Magazinweg 7   Frankfurt a.M.      60528     Germany
45         45                    Let's Stop N Shop             Jaime Yorres                               87 Polk St. Suite 5    San Francisco      94117         USA
46         46                    LILA-Supermercado       Carlos Gonz\xe1lez Carrera 52 con Ave. Bol\xedvar #65-98 Llano Largo     Barquisimeto       3508   Venezuela
47         47                     LINO-Delicateses         Felipe Izquierdo                           Ave. 5 de Mayo Porlamar  I. de Margarita       4980   Venezuela
48         48             Lonesome Pine Restaurant              Fran Wilson                                89 Chiaroscuro Rd.         Portland      97219         USA
49         49         Magazzini Alimentari Riuniti         Giovanni Rovelli                           Via Ludovico il Moro 22          Bergamo      24100       Italy
50         50                         Maison Dewey          Catherine Dewey                               Rue Joseph-Bens 532        Bruxelles     B-1180     Belgium
51         51                    M\xe8re Paillarde        Jean Fresni\xe8re                                43 rue St. Laurent      Montr\xe9al    H1J 1C3      Canada
52         52               Morgenstern Gesundkost          Alexander Feuer                                       Heerstr. 22          Leipzig       4179     Germany
53         53                          North/South           Simon Crowther                      South House 300 Queensbridge           London    SW7 1RZ          UK
54         54         Oc\xe9ano Atl\xe1ntico Ltda.           Yvonne Moncada               Ing. Gustavo Moncada 8585 Piso 20-A     Buenos Aires       1010   Argentina
55         55               Old World Delicatessen            Rene Phillips                                   2743 Bering St.        Anchorage      99508         USA
56         56                Ottilies K\xe4seladen      Henriette Pfalzheim                                Mehrheimerstr. 369          K\xf6ln      50739     Germany
57         57              Paris sp\xe9cialit\xe9s           Marie Bertrand                           265, boulevard Charonne            Paris      75012      France
58         58         Pericles Comidas cl\xe1sicas   Guillermo Fern\xe1ndez                          Calle Dr. Jorge Cash 321   M\xe9xico D.F.       5033      Mexico
59         59                     Piccolo und mehr              Georg Pipps                                       Geislweg 14         Salzburg       5020     Austria
60         60              Princesa Isabel Vinhoss         Isabel de Castro                         Estrada da sa\xfade n. 58           Lisboa       1756    Portugal
61         61                       Que Del\xedcia         Bernardo Batista                           Rua da Panificadora, 12   Rio de Janeiro  02389-673      Brazil
62         62                        Queen Cozinha        L\xfacia Carvalho                      Alameda dos Can\xe0rios, 891     S\xe3o Paulo  05487-020      Brazil
63         63                           QUICK-Stop              Horst Kloss                               Taucherstra\xdfe 10        Cunewalde       1307     Germany
64         64                        Rancho grande      Sergio Guti\xe9rrez                            Av. del Libertador 900     Buenos Aires       1010   Argentina
65         65           Rattlesnake Canyon Grocery             Paula Wilson                                   2817 Milton Dr.      Albuquerque      87110         USA
66         66                   Reggiani Caseifici          Maurizio Moroni                            Strada Provinciale 124    Reggio Emilia      42100       Italy
67         67                   Ricardo Adocicados           Janete Limeira                               Av. Copacabana, 267   Rio de Janeiro  02389-890      Brazil
68         68                   Richter Supermarkt             Michael Holz                                 Grenzacherweg 237        Gen\xe8ve       1203 Switzerland
69         69                     Romero y tomillo         Alejandra Camino                                    Gran V\xeda, 1           Madrid      28001       Spain
70         70                     Sant\xe9 Gourmet         Jonas Bergulfsen                            Erling Skakkes gate 78          Stavern       4110      Norway
71         71                   Save-a-lot Markets           Jose Pavarotti                                   187 Suffolk Ln.            Boise      83720         USA
72         72                   Seven Seas Imports               Hari Kumar                                   90 Wadhurst Rd.           London   OX15 4NB          UK
73         73                        Simons bistro           Jytte Petersen                                   Vinb\xe6ltet 34     K\xf8benhavn       1734     Denmark
74         74           Sp\xe9cialit\xe9s du monde        Dominique Perrier                                 25, rue Lauriston            Paris      75016      France
75         75                Split Rail Beer &amp; Ale       Art Braunschweiger                                      P.O. Box 555           Lander      82520         USA
76         76               Supr\xeames d\xe9lices         Pascale Cartrain                              Boulevard Tirou, 255        Charleroi     B-6000     Belgium
77         77                       The Big Cheese                Liz Nixon                          89 Jefferson Way Suite 2         Portland      97201         USA
78         78                      The Cracker Box                 Liu Wong                               55 Grizzly Peak Rd.            Butte      59801         USA
79         79                Toms Spezialit\xe4ten            Karin Josephs                                     Luisenstr. 48       M\xfcnster      44087     Germany
80         80                  Tortuga Restaurante     Miguel Angel Paolino                                  Avda. Azteca 123   M\xe9xico D.F.       5033      Mexico
81         81         Tradi\xe7\xe3o Hipermercados        Anabela Domingues                        Av. In\xeas de Castro, 414     S\xe3o Paulo  05634-030      Brazil
82         82    Trail's Head Gourmet Provisioners           Helvetius Nagy                                 722 DaVinci Blvd.         Kirkland      98034         USA
83         83                         Vaffeljernet              Palle Ibsen                                  Smagsl\xf8get 45         \xc5rhus       8200     Denmark
84         84                 Victuailles en stock             Mary Saveley                                2, rue du Commerce             Lyon      69004      France
85         85            Vins et alcools Chevalier             Paul Henriot                                59 rue de l'Abbaye            Reims      51100      France
86         86                    Die Wandernde Kuh           Rita M\xfcller                                 Adenauerallee 900        Stuttgart      70563     Germany
87         87                       Wartian Herkku         Pirkko Koskitalo                                       Torikatu 38             Oulu      90110     Finland
88         88               Wellington Importadora            Paula Parente                                Rua do Mercado, 12          Resende  08737-363      Brazil
89         89                 White Clover Markets           Karl Jablonski                       305 - 14th Ave. S. Suite 3B          Seattle      98128         USA
90         90                          Wilman Kala          Matti Karttunen                                     Keskuskatu 45         Helsinki      21240     Finland
91         91                               Wolski                  Zbyszek                                   ul. Filtrowa 68            Walla     01-012      Poland</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
click to see north_american_cities table
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * from north_american_cities"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  city       country population latitude  longitude
1          Guadalajara        Mexico    1500800 20.65970 -103.34961
2              Toronto        Canada    2795060 43.65323  -79.38318
3              Houston United States    2195914 29.76043  -95.36980
4             New York United States    8405837 40.71278  -74.00594
5         Philadelphia United States    1553165 39.95258  -75.16522
6               Havana          Cuba    2106146 23.05407  -82.34519
7          Mexico City        Mexico    8555500 19.43261  -99.13321
8              Phoenix United States    1513367 33.44838 -112.07404
9          Los Angeles United States    3884307 34.05223 -118.24368
10 Ecatepec de Morelos        Mexico    1742000 19.60184  -99.05067
11            Montreal        Canada    1717767 45.50169  -73.56726
12             Chicago United States    2718782 41.87811  -87.62980</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="practice---select-clause" class="level2" data-number="31.23">
<h2 data-number="31.23" class="anchored" data-anchor-id="practice---select-clause"><span class="header-section-number">31.23</span> Practice - select clause</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a><span class="co"># https://sqlbolt.com/lesson/select_queries_introduction</span></span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Concepts:</span></span>
<span id="cb162-5"><a href="#cb162-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb162-6"><a href="#cb162-6" aria-hidden="true" tabindex="-1"></a><span class="co">#  Select query for a specific columns</span></span>
<span id="cb162-7"><a href="#cb162-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb162-8"><a href="#cb162-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   SELECT column, another_column, .</span></span>
<span id="cb162-9"><a href="#cb162-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   FROM mytable;</span></span>
<span id="cb162-10"><a href="#cb162-10" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb162-11"><a href="#cb162-11" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb162-12"><a href="#cb162-12" aria-hidden="true" tabindex="-1"></a><span class="co">#  Select query for all columns</span></span>
<span id="cb162-13"><a href="#cb162-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb162-14"><a href="#cb162-14" aria-hidden="true" tabindex="-1"></a><span class="co">#    SELECT * </span></span>
<span id="cb162-15"><a href="#cb162-15" aria-hidden="true" tabindex="-1"></a><span class="co">#    FROM mytable;</span></span>
<span id="cb162-16"><a href="#cb162-16" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb162-17"><a href="#cb162-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-18"><a href="#cb162-18" aria-hidden="true" tabindex="-1"></a><span class="co">#https://sqlbolt.com/lesson/select_queries_introduction</span></span>
<span id="cb162-19"><a href="#cb162-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-20"><a href="#cb162-20" aria-hidden="true" tabindex="-1"></a>movies  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1   1           Toy Story  John Lasseter 1995             81
2   2        A Bug's Life  John Lasseter 1998             95
3   3         Toy Story 2  John Lasseter 1999             93
4   4      Monsters, Inc.    Pete Docter 2001             92
5   5        Finding Nemo Andrew Stanton 2003            107
6   6     The Incredibles      Brad Bird 2004            116
7   7                Cars  John Lasseter 2006            117
8   8         Ratatouille      Brad Bird 2007            115
9   9              WALL-E Andrew Stanton 2008            104
10 10                  Up    Pete Docter 2009            101
11 11         Toy Story 3    Lee Unkrich 2010            103
12 12              Cars 2  John Lasseter 2011            120
13 13               Brave Brenda Chapman 2012            102
14 14 Monsters University    Dan Scanlon 2013            110
15 87              WALL-G Brenda Chapman 2042             92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="do">###########################</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Exercise 1 - Tasks</span></span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a><span class="do">###########################</span></span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Find the title of each film</span></span>
<span id="cb164-6"><a href="#cb164-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-7"><a href="#cb164-7" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> </span>
<span id="cb164-8"><a href="#cb164-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"select title</span></span>
<span id="cb164-9"><a href="#cb164-9" aria-hidden="true" tabindex="-1"></a><span class="st">   from movies"</span></span>
<span id="cb164-10"><a href="#cb164-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-11"><a href="#cb164-11" aria-hidden="true" tabindex="-1"></a>sql</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "select title\n   from movies"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 title
1            Toy Story
2         A Bug's Life
3          Toy Story 2
4       Monsters, Inc.
5         Finding Nemo
6      The Incredibles
7                 Cars
8          Ratatouille
9               WALL-E
10                  Up
11         Toy Story 3
12              Cars 2
13               Brave
14 Monsters University
15              WALL-G</code></pre>
</div>
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Find the director of each film</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> </span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"select director</span></span>
<span id="cb168-5"><a href="#cb168-5" aria-hidden="true" tabindex="-1"></a><span class="st">   from movies"</span></span>
<span id="cb168-6"><a href="#cb168-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-7"><a href="#cb168-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         director
1   John Lasseter
2   John Lasseter
3   John Lasseter
4     Pete Docter
5  Andrew Stanton
6       Brad Bird
7   John Lasseter
8       Brad Bird
9  Andrew Stanton
10    Pete Docter
11    Lee Unkrich
12  John Lasseter
13 Brenda Chapman
14    Dan Scanlon
15 Brenda Chapman</code></pre>
</div>
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Find the title and director of each film</span></span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> </span>
<span id="cb170-4"><a href="#cb170-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"select title, director</span></span>
<span id="cb170-5"><a href="#cb170-5" aria-hidden="true" tabindex="-1"></a><span class="st">   from movies"</span></span>
<span id="cb170-6"><a href="#cb170-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-7"><a href="#cb170-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 title       director
1            Toy Story  John Lasseter
2         A Bug's Life  John Lasseter
3          Toy Story 2  John Lasseter
4       Monsters, Inc.    Pete Docter
5         Finding Nemo Andrew Stanton
6      The Incredibles      Brad Bird
7                 Cars  John Lasseter
8          Ratatouille      Brad Bird
9               WALL-E Andrew Stanton
10                  Up    Pete Docter
11         Toy Story 3    Lee Unkrich
12              Cars 2  John Lasseter
13               Brave Brenda Chapman
14 Monsters University    Dan Scanlon
15              WALL-G Brenda Chapman</code></pre>
</div>
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Find the title and year of each film</span></span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-3"><a href="#cb172-3" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> </span>
<span id="cb172-4"><a href="#cb172-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"select title, year</span></span>
<span id="cb172-5"><a href="#cb172-5" aria-hidden="true" tabindex="-1"></a><span class="st">   from movies"</span></span>
<span id="cb172-6"><a href="#cb172-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-7"><a href="#cb172-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 title year
1            Toy Story 1995
2         A Bug's Life 1998
3          Toy Story 2 1999
4       Monsters, Inc. 2001
5         Finding Nemo 2003
6      The Incredibles 2004
7                 Cars 2006
8          Ratatouille 2007
9               WALL-E 2008
10                  Up 2009
11         Toy Story 3 2010
12              Cars 2 2011
13               Brave 2012
14 Monsters University 2013
15              WALL-G 2042</code></pre>
</div>
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Find all the information about each film</span></span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select *</span></span>
<span id="cb174-4"><a href="#cb174-4" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1   1           Toy Story  John Lasseter 1995             81
2   2        A Bug's Life  John Lasseter 1998             95
3   3         Toy Story 2  John Lasseter 1999             93
4   4      Monsters, Inc.    Pete Docter 2001             92
5   5        Finding Nemo Andrew Stanton 2003            107
6   6     The Incredibles      Brad Bird 2004            116
7   7                Cars  John Lasseter 2006            117
8   8         Ratatouille      Brad Bird 2007            115
9   9              WALL-E Andrew Stanton 2008            104
10 10                  Up    Pete Docter 2009            101
11 11         Toy Story 3    Lee Unkrich 2010            103
12 12              Cars 2  John Lasseter 2011            120
13 13               Brave Brenda Chapman 2012            102
14 14 Monsters University    Dan Scanlon 2013            110
15 87              WALL-G Brenda Chapman 2042             92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The following produces the exact same results as above</span></span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-3"><a href="#cb176-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select id, title, director, year, length_minutes</span></span>
<span id="cb176-4"><a href="#cb176-4" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1   1           Toy Story  John Lasseter 1995             81
2   2        A Bug's Life  John Lasseter 1998             95
3   3         Toy Story 2  John Lasseter 1999             93
4   4      Monsters, Inc.    Pete Docter 2001             92
5   5        Finding Nemo Andrew Stanton 2003            107
6   6     The Incredibles      Brad Bird 2004            116
7   7                Cars  John Lasseter 2006            117
8   8         Ratatouille      Brad Bird 2007            115
9   9              WALL-E Andrew Stanton 2008            104
10 10                  Up    Pete Docter 2009            101
11 11         Toy Story 3    Lee Unkrich 2010            103
12 12              Cars 2  John Lasseter 2011            120
13 13               Brave Brenda Chapman 2012            102
14 14 Monsters University    Dan Scanlon 2013            110
15 87              WALL-G Brenda Chapman 2042             92</code></pre>
</div>
</div>
</section>
<section id="practice---additional-questions-not-on-sqlbolt.com" class="level2" data-number="31.24">
<h2 data-number="31.24" class="anchored" data-anchor-id="practice---additional-questions-not-on-sqlbolt.com"><span class="header-section-number">31.24</span> Practice - ADDITIONAL QUESTIONS (not on sqlbolt.com)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the movie name, length_minutes and a third column that you </span></span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate which is the length in hours</span></span>
<span id="cb178-4"><a href="#cb178-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-5"><a href="#cb178-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb178-6"><a href="#cb178-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb178-7"><a href="#cb178-7" aria-hidden="true" tabindex="-1"></a><span class="co"># when you divide an integer by an integer the result in sql in an integer</span></span>
<span id="cb178-8"><a href="#cb178-8" aria-hidden="true" tabindex="-1"></a><span class="co"># if you divide a floating point number by an integer or vice versa the </span></span>
<span id="cb178-9"><a href="#cb178-9" aria-hidden="true" tabindex="-1"></a><span class="co"># result is floating point (i.e. a number that has values after the decimal point)</span></span>
<span id="cb178-10"><a href="#cb178-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-11"><a href="#cb178-11" aria-hidden="true" tabindex="-1"></a><span class="co"># This is a good start but the length_hours column will always show up </span></span>
<span id="cb178-12"><a href="#cb178-12" aria-hidden="true" tabindex="-1"></a><span class="co"># as a whole number - this is NOT what we wanted.</span></span>
<span id="cb178-13"><a href="#cb178-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-14"><a href="#cb178-14" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select title, length_minutes, length_minutes/60 as length_hours</span></span>
<span id="cb178-15"><a href="#cb178-15" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies"</span></span>
<span id="cb178-16"><a href="#cb178-16" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 title length_minutes length_hours
1            Toy Story             81            1
2         A Bug's Life             95            1
3          Toy Story 2             93            1
4       Monsters, Inc.             92            1
5         Finding Nemo            107            1
6      The Incredibles            116            1
7                 Cars            117            1
8          Ratatouille            115            1
9               WALL-E            104            1
10                  Up            101            1
11         Toy Story 3            103            1
12              Cars 2            120            2
13               Brave            102            1
14 Monsters University            110            1
15              WALL-G             92            1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change 60 to 60.0 to produce a "floating point" value (i.e. a value</span></span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a><span class="co"># that contains numbers after the decimal point)</span></span>
<span id="cb180-3"><a href="#cb180-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-4"><a href="#cb180-4" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select title, length_minutes, length_minutes/60.0 as length_hours</span></span>
<span id="cb180-5"><a href="#cb180-5" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies"</span></span>
<span id="cb180-6"><a href="#cb180-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 title length_minutes length_hours
1            Toy Story             81     1.350000
2         A Bug's Life             95     1.583333
3          Toy Story 2             93     1.550000
4       Monsters, Inc.             92     1.533333
5         Finding Nemo            107     1.783333
6      The Incredibles            116     1.933333
7                 Cars            117     1.950000
8          Ratatouille            115     1.916667
9               WALL-E            104     1.733333
10                  Up            101     1.683333
11         Toy Story 3            103     1.716667
12              Cars 2            120     2.000000
13               Brave            102     1.700000
14 Monsters University            110     1.833333
15              WALL-G             92     1.533333</code></pre>
</div>
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a><span class="co"># show the length in hours, minutes - eg. 81 minutes show as 2 hours and 21 minutes</span></span>
<span id="cb182-3"><a href="#cb182-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-4"><a href="#cb182-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER</span></span>
<span id="cb182-5"><a href="#cb182-5" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span></span>
<span id="cb182-6"><a href="#cb182-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"select title, length_minutes, length_minutes / 60 as hours,</span></span>
<span id="cb182-7"><a href="#cb182-7" aria-hidden="true" tabindex="-1"></a><span class="st">                  length_minutes - 60 * (length_minutes/60) as minutes</span></span>
<span id="cb182-8"><a href="#cb182-8" aria-hidden="true" tabindex="-1"></a><span class="st">   from movies"</span></span>
<span id="cb182-9"><a href="#cb182-9" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 title length_minutes hours minutes
1            Toy Story             81     1      21
2         A Bug's Life             95     1      35
3          Toy Story 2             93     1      33
4       Monsters, Inc.             92     1      32
5         Finding Nemo            107     1      47
6      The Incredibles            116     1      56
7                 Cars            117     1      57
8          Ratatouille            115     1      55
9               WALL-E            104     1      44
10                  Up            101     1      41
11         Toy Story 3            103     1      43
12              Cars 2            120     2       0
13               Brave            102     1      42
14 Monsters University            110     1      50
15              WALL-G             92     1      32</code></pre>
</div>
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER - using sqlite's % operator</span></span>
<span id="cb184-2"><a href="#cb184-2" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span></span>
<span id="cb184-3"><a href="#cb184-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"select title, length_minutes, length_minutes / 60 as hours,</span></span>
<span id="cb184-4"><a href="#cb184-4" aria-hidden="true" tabindex="-1"></a><span class="st">                  length_minutes % 60 as minutes</span></span>
<span id="cb184-5"><a href="#cb184-5" aria-hidden="true" tabindex="-1"></a><span class="st">   from movies"</span></span>
<span id="cb184-6"><a href="#cb184-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 title length_minutes hours minutes
1            Toy Story             81     1      21
2         A Bug's Life             95     1      35
3          Toy Story 2             93     1      33
4       Monsters, Inc.             92     1      32
5         Finding Nemo            107     1      47
6      The Incredibles            116     1      56
7                 Cars            117     1      57
8          Ratatouille            115     1      55
9               WALL-E            104     1      44
10                  Up            101     1      41
11         Toy Story 3            103     1      43
12              Cars 2            120     2       0
13               Brave            102     1      42
14 Monsters University            110     1      50
15              WALL-G             92     1      32</code></pre>
</div>
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that while it is tempting to refer to hours on line 2 of the following</span></span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a><span class="co"># query, R's version of SQL (ie. sqlite) will not allow for this.</span></span>
<span id="cb186-3"><a href="#cb186-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Some SQL flavors will allow this.</span></span>
<span id="cb186-4"><a href="#cb186-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb186-5"><a href="#cb186-5" aria-hidden="true" tabindex="-1"></a><span class="co"># The following WILL NOT WORK IN R's VERSION OF SQL</span></span>
<span id="cb186-6"><a href="#cb186-6" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span></span>
<span id="cb186-7"><a href="#cb186-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"select title, length_minutes, length_minutes / 60 as hours,</span></span>
<span id="cb186-8"><a href="#cb186-8" aria-hidden="true" tabindex="-1"></a><span class="st">                  length_minutes - 60 * hours as minutes</span></span>
<span id="cb186-9"><a href="#cb186-9" aria-hidden="true" tabindex="-1"></a><span class="st">   from movies"</span></span>
<span id="cb186-10"><a href="#cb186-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-11"><a href="#cb186-11" aria-hidden="true" tabindex="-1"></a><span class="co"># sqldf(sql)       # ERROR - no such column: hours</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="andor-between-and-x-in-some-list" class="level2" data-number="31.25">
<h2 data-number="31.25" class="anchored" data-anchor-id="andor-between-and-x-in-some-list"><span class="header-section-number">31.25</span> AND/OR &nbsp;&nbsp;&nbsp; BETWEEN … AND … &nbsp;&nbsp;&nbsp; x IN (some list)</h2>
<p>WHERE conditions can include any/all of the following</p>
<ul>
<li><p>AND/OR (and is done before or), you can use (parentheses) to change the order of operations</p></li>
<li><p>x BETWEEN y AND z</p>
<ul>
<li><p>if x is numeric then no qoutes - e.g.&nbsp;</p>
<blockquote class="blockquote">
<p>WHERE x BETWEEN 100 AND 200</p>
</blockquote></li>
<li><p>if x is TEXT (i.e.&nbsp;character) then values have ‘single quotes’ - e.g.&nbsp;</p>
<blockquote class="blockquote">
<p>WHERE x BETWEEN ‘A’ AND ‘D’ – includes all text that starts with A,B or C (not D)</p>
</blockquote></li>
</ul></li>
<li><p>x IN (‘a’,‘list’,‘of’,‘values’)</p>
<ul>
<li><p>if x is numeric then the numbers in parentheses do NOT have quotes, e.g.&nbsp;</p>
<blockquote class="blockquote">
<p>WHERE x IN (100,200,300)</p>
</blockquote></li>
<li><p>if x is TEXT (ie. character) then the values in parentheses must have ‘single quotes’</p>
<blockquote class="blockquote">
<p>WHERE x IN (‘value1’, ‘value2’, ‘value3’)</p>
</blockquote></li>
</ul></li>
</ul>
</section>
<section id="practice---where-clause" class="level2" data-number="31.26">
<h2 data-number="31.26" class="anchored" data-anchor-id="practice---where-clause"><span class="header-section-number">31.26</span> Practice - where clause</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="co">#-------------------------------------------------------------------------</span></span>
<span id="cb187-2"><a href="#cb187-2" aria-hidden="true" tabindex="-1"></a><span class="co"># https://sqlbolt.com/lesson/select_queries_with_constraints</span></span>
<span id="cb187-3"><a href="#cb187-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb187-4"><a href="#cb187-4" aria-hidden="true" tabindex="-1"></a><span class="co"># CONCEPTS</span></span>
<span id="cb187-5"><a href="#cb187-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb187-6"><a href="#cb187-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Select query with constraints</span></span>
<span id="cb187-7"><a href="#cb187-7" aria-hidden="true" tabindex="-1"></a><span class="co"># SELECT column, another_column, .</span></span>
<span id="cb187-8"><a href="#cb187-8" aria-hidden="true" tabindex="-1"></a><span class="co"># FROM mytable</span></span>
<span id="cb187-9"><a href="#cb187-9" aria-hidden="true" tabindex="-1"></a><span class="co"># WHERE condition</span></span>
<span id="cb187-10"><a href="#cb187-10" aria-hidden="true" tabindex="-1"></a><span class="co">#       AND/OR another_condition</span></span>
<span id="cb187-11"><a href="#cb187-11" aria-hidden="true" tabindex="-1"></a><span class="co">#       AND/OR another_conditiion, etc</span></span>
<span id="cb187-12"><a href="#cb187-12" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb187-13"><a href="#cb187-13" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb187-14"><a href="#cb187-14" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb187-15"><a href="#cb187-15" aria-hidden="true" tabindex="-1"></a><span class="co"># # List of SQL operators (see webpage) </span></span>
<span id="cb187-16"><a href="#cb187-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Operator  Condition   SQL Example</span></span>
<span id="cb187-17"><a href="#cb187-17" aria-hidden="true" tabindex="-1"></a><span class="co"># =, !=, &lt; &lt;=, &gt;, &gt;=    Standard numerical operators    col_name != 4</span></span>
<span id="cb187-18"><a href="#cb187-18" aria-hidden="true" tabindex="-1"></a><span class="co"># BETWEEN . AND .   Number is within range of two values (inclusive)    col_name BETWEEN 1.5 AND 10.5</span></span>
<span id="cb187-19"><a href="#cb187-19" aria-hidden="true" tabindex="-1"></a><span class="co"># NOT BETWEEN . AND .   Number is not within range of two values (inclusive)    col_name NOT BETWEEN 1 AND 10</span></span>
<span id="cb187-20"><a href="#cb187-20" aria-hidden="true" tabindex="-1"></a><span class="co"># IN (.)    Number exists in a list     col_name IN (2, 4, 6)</span></span>
<span id="cb187-21"><a href="#cb187-21" aria-hidden="true" tabindex="-1"></a><span class="co"># NOT IN (.)    Number does not exist in a list     col_name NOT IN (1, 3, 5)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>###########################
# Exercise 2 - Tasks
###########################
 
# Find the movie with a row id of 6

sql = "
  select *
  from movies
  where id=6"

sqldf(sql)



###############################################################.
#  BETWEEN ... AND ...
#
#    and 
#
#  NOT BETWEEN ... AND ...
###############################################################.

# Find the movies released in the years between 2000 and 2010

sql = "select * 
       from movies
       where year &gt;= 2000 and year &lt;= 2010 "
sqldf(sql)

# you can combine the above where clause with a different select clause:
# For example:

sql = "select title, length_minutes, length_minutes / 60 as hours,
                  length_minutes - 60 * (length_minutes/60) as minutes,
                  year
       from movies
       where year &gt;= 2000 and year &lt;= 2010 "
sqldf(sql)

# use the BETWEEN ... AND ...
# to do the same thing

sql = "select * 
       from movies
       where year between 2000 and 2010"

sqldf(sql)

# Find the movies not released in the years between 2000 and 2010

sql = "select * 
       from movies
       where year &lt; 2000 or year &gt; 2010"
sqldf(sql)

# use the NOT BETWEEN ... AND ...
# to do the same thing

sql = "select * 
       from movies
       where year not between 2000 and 2010"

sqldf(sql)</code></pre>
<section id="limit-clause-1" class="level3" data-number="31.26.1">
<h3 data-number="31.26.1" class="anchored" data-anchor-id="limit-clause-1"><span class="header-section-number">31.26.1</span> limit clause</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="do">###############################################################.</span></span>
<span id="cb189-2"><a href="#cb189-2" aria-hidden="true" tabindex="-1"></a><span class="co"># LIMIT &lt;M&gt;       and     LIMIT &lt;M&gt; OFFSET &lt;N&gt;</span></span>
<span id="cb189-3"><a href="#cb189-3" aria-hidden="true" tabindex="-1"></a><span class="do">###############################################################.</span></span>
<span id="cb189-4"><a href="#cb189-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb189-5"><a href="#cb189-5" aria-hidden="true" tabindex="-1"></a><span class="co"># The LIMIT clause must come at the very end of the SQL </span></span>
<span id="cb189-6"><a href="#cb189-6" aria-hidden="true" tabindex="-1"></a><span class="co"># statement. For example: </span></span>
<span id="cb189-7"><a href="#cb189-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb189-8"><a href="#cb189-8" aria-hidden="true" tabindex="-1"></a><span class="co">#      SELECT *</span></span>
<span id="cb189-9"><a href="#cb189-9" aria-hidden="true" tabindex="-1"></a><span class="co">#      FROM grades</span></span>
<span id="cb189-10"><a href="#cb189-10" aria-hidden="true" tabindex="-1"></a><span class="co">#      ORDER BY student</span></span>
<span id="cb189-11"><a href="#cb189-11" aria-hidden="true" tabindex="-1"></a><span class="co">#      LIMIT 3</span></span>
<span id="cb189-12"><a href="#cb189-12" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb189-13"><a href="#cb189-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Displayes the first 3 students.</span></span>
<span id="cb189-14"><a href="#cb189-14" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb189-15"><a href="#cb189-15" aria-hidden="true" tabindex="-1"></a><span class="co"># In general:</span></span>
<span id="cb189-16"><a href="#cb189-16" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb189-17"><a href="#cb189-17" aria-hidden="true" tabindex="-1"></a><span class="co">#      &lt;SOME SELECT STATEMENT&gt;</span></span>
<span id="cb189-18"><a href="#cb189-18" aria-hidden="true" tabindex="-1"></a><span class="co">#      limit M</span></span>
<span id="cb189-19"><a href="#cb189-19" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb189-20"><a href="#cb189-20" aria-hidden="true" tabindex="-1"></a><span class="co"># (where M is an integer) results in only the first</span></span>
<span id="cb189-21"><a href="#cb189-21" aria-hidden="true" tabindex="-1"></a><span class="co"># M rows of data from what would normally have been displayed </span></span>
<span id="cb189-22"><a href="#cb189-22" aria-hidden="true" tabindex="-1"></a><span class="co"># had the LIMIT clause not been specified.</span></span>
<span id="cb189-23"><a href="#cb189-23" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb189-24"><a href="#cb189-24" aria-hidden="true" tabindex="-1"></a><span class="co">#      &lt;SOME SELECT STATEMENT&gt;</span></span>
<span id="cb189-25"><a href="#cb189-25" aria-hidden="true" tabindex="-1"></a><span class="co">#      limit M offset N</span></span>
<span id="cb189-26"><a href="#cb189-26" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb189-27"><a href="#cb189-27" aria-hidden="true" tabindex="-1"></a><span class="co"># (where both M and N are integers) </span></span>
<span id="cb189-28"><a href="#cb189-28" aria-hidden="true" tabindex="-1"></a><span class="co"># starts the output from the N+1'th row of what would normally </span></span>
<span id="cb189-29"><a href="#cb189-29" aria-hidden="true" tabindex="-1"></a><span class="co"># have been displayed without the limit clause and then </span></span>
<span id="cb189-30"><a href="#cb189-30" aria-hidden="true" tabindex="-1"></a><span class="co"># displays the next M rows of data.</span></span>
<span id="cb189-31"><a href="#cb189-31" aria-hidden="true" tabindex="-1"></a><span class="do">###############################################################.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="practice-2" class="level3" data-number="31.26.2">
<h3 data-number="31.26.2" class="anchored" data-anchor-id="practice-2"><span class="header-section-number">31.26.2</span> PRACTICE</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the first 5 movies and their release year</span></span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-3"><a href="#cb190-3" aria-hidden="true" tabindex="-1"></a><span class="co"># We will learn the best way to do this a little later. The</span></span>
<span id="cb190-4"><a href="#cb190-4" aria-hidden="true" tabindex="-1"></a><span class="co"># answer on the sqlbolt website is not ideal.</span></span>
<span id="cb190-5"><a href="#cb190-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-6"><a href="#cb190-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * </span></span>
<span id="cb190-7"><a href="#cb190-7" aria-hidden="true" tabindex="-1"></a><span class="st">      from movies</span></span>
<span id="cb190-8"><a href="#cb190-8" aria-hidden="true" tabindex="-1"></a><span class="st">      order by year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1   1           Toy Story  John Lasseter 1995             81
2   2        A Bug's Life  John Lasseter 1998             95
3   3         Toy Story 2  John Lasseter 1999             93
4   4      Monsters, Inc.    Pete Docter 2001             92
5   5        Finding Nemo Andrew Stanton 2003            107
6   6     The Incredibles      Brad Bird 2004            116
7   7                Cars  John Lasseter 2006            117
8   8         Ratatouille      Brad Bird 2007            115
9   9              WALL-E Andrew Stanton 2008            104
10 10                  Up    Pete Docter 2009            101
11 11         Toy Story 3    Lee Unkrich 2010            103
12 12              Cars 2  John Lasseter 2011            120
13 13               Brave Brenda Chapman 2012            102
14 14 Monsters University    Dan Scanlon 2013            110
15 87              WALL-G Brenda Chapman 2042             92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The limit clause allows to retrieve the first several values from an </span></span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ordered query</span></span>
<span id="cb192-3"><a href="#cb192-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-4"><a href="#cb192-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * </span></span>
<span id="cb192-5"><a href="#cb192-5" aria-hidden="true" tabindex="-1"></a><span class="st">      from movies</span></span>
<span id="cb192-6"><a href="#cb192-6" aria-hidden="true" tabindex="-1"></a><span class="st">      order by year</span></span>
<span id="cb192-7"><a href="#cb192-7" aria-hidden="true" tabindex="-1"></a><span class="st">      limit 5"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id          title       director year length_minutes
1  1      Toy Story  John Lasseter 1995             81
2  2   A Bug's Life  John Lasseter 1998             95
3  3    Toy Story 2  John Lasseter 1999             93
4  4 Monsters, Inc.    Pete Docter 2001             92
5  5   Finding Nemo Andrew Stanton 2003            107</code></pre>
</div>
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the next 2 movies</span></span>
<span id="cb194-2"><a href="#cb194-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-3"><a href="#cb194-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * </span></span>
<span id="cb194-4"><a href="#cb194-4" aria-hidden="true" tabindex="-1"></a><span class="st">      from movies</span></span>
<span id="cb194-5"><a href="#cb194-5" aria-hidden="true" tabindex="-1"></a><span class="st">      order by year</span></span>
<span id="cb194-6"><a href="#cb194-6" aria-hidden="true" tabindex="-1"></a><span class="st">      limit 2 offset 5"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id           title      director year length_minutes
1  6 The Incredibles     Brad Bird 2004            116
2  7            Cars John Lasseter 2006            117</code></pre>
</div>
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all movies that were released in 2000, 2004 or 2008</span></span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-3"><a href="#cb196-3" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> </span>
<span id="cb196-4"><a href="#cb196-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"select * </span></span>
<span id="cb196-5"><a href="#cb196-5" aria-hidden="true" tabindex="-1"></a><span class="st">  from movies</span></span>
<span id="cb196-6"><a href="#cb196-6" aria-hidden="true" tabindex="-1"></a><span class="st">  where year = 2000 or year = 2004 or year = 2008"</span></span>
<span id="cb196-7"><a href="#cb196-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-8"><a href="#cb196-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id           title       director year length_minutes
1  6 The Incredibles      Brad Bird 2004            116
2  9          WALL-E Andrew Stanton 2008            104</code></pre>
</div>
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Do this again using the IN operator</span></span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb198-3"><a href="#cb198-3" aria-hidden="true" tabindex="-1"></a><span class="co"># The IN operators takes a LIST of information</span></span>
<span id="cb198-4"><a href="#cb198-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A LIST is a set of values in parentheses, separated by commans.</span></span>
<span id="cb198-5"><a href="#cb198-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb198-6"><a href="#cb198-6" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> </span>
<span id="cb198-7"><a href="#cb198-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"select * </span></span>
<span id="cb198-8"><a href="#cb198-8" aria-hidden="true" tabindex="-1"></a><span class="st">  from movies</span></span>
<span id="cb198-9"><a href="#cb198-9" aria-hidden="true" tabindex="-1"></a><span class="st">  where year in (2000,2004,2008)"</span></span>
<span id="cb198-10"><a href="#cb198-10" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id           title       director year length_minutes
1  6 The Incredibles      Brad Bird 2004            116
2  9          WALL-E Andrew Stanton 2008            104</code></pre>
</div>
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="co"># show the movies that were released in years other than 2000, 2004, 2008</span></span>
<span id="cb200-2"><a href="#cb200-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb200-3"><a href="#cb200-3" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> </span>
<span id="cb200-4"><a href="#cb200-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"select * </span></span>
<span id="cb200-5"><a href="#cb200-5" aria-hidden="true" tabindex="-1"></a><span class="st">  from movies</span></span>
<span id="cb200-6"><a href="#cb200-6" aria-hidden="true" tabindex="-1"></a><span class="st">  where year != 2000 and year != 2004 and year != 2008"</span></span>
<span id="cb200-7"><a href="#cb200-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb200-8"><a href="#cb200-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1   1           Toy Story  John Lasseter 1995             81
2   2        A Bug's Life  John Lasseter 1998             95
3   3         Toy Story 2  John Lasseter 1999             93
4   4      Monsters, Inc.    Pete Docter 2001             92
5   5        Finding Nemo Andrew Stanton 2003            107
6   7                Cars  John Lasseter 2006            117
7   8         Ratatouille      Brad Bird 2007            115
8  10                  Up    Pete Docter 2009            101
9  11         Toy Story 3    Lee Unkrich 2010            103
10 12              Cars 2  John Lasseter 2011            120
11 13               Brave Brenda Chapman 2012            102
12 14 Monsters University    Dan Scanlon 2013            110
13 87              WALL-G Brenda Chapman 2042             92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A student asked if we could change the and's in the previous question</span></span>
<span id="cb202-2"><a href="#cb202-2" aria-hidden="true" tabindex="-1"></a><span class="co"># to be or's instead. The answer is you can but in addition to </span></span>
<span id="cb202-3"><a href="#cb202-3" aria-hidden="true" tabindex="-1"></a><span class="co"># changing the and's to or's you must also modify the logical expression</span></span>
<span id="cb202-4"><a href="#cb202-4" aria-hidden="true" tabindex="-1"></a><span class="co"># in other ways. Specifically, DeMorgan's law describes how to </span></span>
<span id="cb202-5"><a href="#cb202-5" aria-hidden="true" tabindex="-1"></a><span class="co"># rewrite any logical expression that uses and's and or's into an</span></span>
<span id="cb202-6"><a href="#cb202-6" aria-hidden="true" tabindex="-1"></a><span class="co"># equivalent expression.</span></span>
<span id="cb202-7"><a href="#cb202-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb202-8"><a href="#cb202-8" aria-hidden="true" tabindex="-1"></a><span class="co"># DeMorgans law says: to convert a logical expression </span></span>
<span id="cb202-9"><a href="#cb202-9" aria-hidden="true" tabindex="-1"></a><span class="co"># step 1: negate it twice (ie. use two not's)</span></span>
<span id="cb202-10"><a href="#cb202-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: (a) distribute one of the not's over the expression</span></span>
<span id="cb202-11"><a href="#cb202-11" aria-hidden="true" tabindex="-1"></a><span class="co">#         (b) change the and's to or's </span></span>
<span id="cb202-12"><a href="#cb202-12" aria-hidden="true" tabindex="-1"></a><span class="co">#         (c) change the or's to and's</span></span>
<span id="cb202-13"><a href="#cb202-13" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> </span>
<span id="cb202-14"><a href="#cb202-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"select * </span></span>
<span id="cb202-15"><a href="#cb202-15" aria-hidden="true" tabindex="-1"></a><span class="st">  from movies</span></span>
<span id="cb202-16"><a href="#cb202-16" aria-hidden="true" tabindex="-1"></a><span class="st">  where not ( year = 2000 or year = 2004 or year = 2008)"</span></span>
<span id="cb202-17"><a href="#cb202-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb202-18"><a href="#cb202-18" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1   1           Toy Story  John Lasseter 1995             81
2   2        A Bug's Life  John Lasseter 1998             95
3   3         Toy Story 2  John Lasseter 1999             93
4   4      Monsters, Inc.    Pete Docter 2001             92
5   5        Finding Nemo Andrew Stanton 2003            107
6   7                Cars  John Lasseter 2006            117
7   8         Ratatouille      Brad Bird 2007            115
8  10                  Up    Pete Docter 2009            101
9  11         Toy Story 3    Lee Unkrich 2010            103
10 12              Cars 2  John Lasseter 2011            120
11 13               Brave Brenda Chapman 2012            102
12 14 Monsters University    Dan Scanlon 2013            110
13 87              WALL-G Brenda Chapman 2042             92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="co"># do this with the "not in" operator</span></span>
<span id="cb204-2"><a href="#cb204-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-3"><a href="#cb204-3" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> </span>
<span id="cb204-4"><a href="#cb204-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"select * </span></span>
<span id="cb204-5"><a href="#cb204-5" aria-hidden="true" tabindex="-1"></a><span class="st">  from movies</span></span>
<span id="cb204-6"><a href="#cb204-6" aria-hidden="true" tabindex="-1"></a><span class="st">  where year not in (2000,2004,2008)"</span></span>
<span id="cb204-7"><a href="#cb204-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1   1           Toy Story  John Lasseter 1995             81
2   2        A Bug's Life  John Lasseter 1998             95
3   3         Toy Story 2  John Lasseter 1999             93
4   4      Monsters, Inc.    Pete Docter 2001             92
5   5        Finding Nemo Andrew Stanton 2003            107
6   7                Cars  John Lasseter 2006            117
7   8         Ratatouille      Brad Bird 2007            115
8  10                  Up    Pete Docter 2009            101
9  11         Toy Story 3    Lee Unkrich 2010            103
10 12              Cars 2  John Lasseter 2011            120
11 13               Brave Brenda Chapman 2012            102
12 14 Monsters University    Dan Scanlon 2013            110
13 87              WALL-G Brenda Chapman 2042             92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="co"># warning - the "in" operator is followed by a list of values.</span></span>
<span id="cb206-2"><a href="#cb206-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The list of values is in parentheses.</span></span>
<span id="cb206-3"><a href="#cb206-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb206-4"><a href="#cb206-4" aria-hidden="true" tabindex="-1"></a><span class="co"># if the values are numbers there are no quotes e.g. (2000,2004,2005)</span></span>
<span id="cb206-5"><a href="#cb206-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb206-6"><a href="#cb206-6" aria-hidden="true" tabindex="-1"></a><span class="co"># If the values are character values then in SQL you must use</span></span>
<span id="cb206-7"><a href="#cb206-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 'single quotes' around the different values.</span></span>
<span id="cb206-8"><a href="#cb206-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb206-9"><a href="#cb206-9" aria-hidden="true" tabindex="-1"></a><span class="co"># See the next question</span></span>
<span id="cb206-10"><a href="#cb206-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-11"><a href="#cb206-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-12"><a href="#cb206-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Write a SQL SELECT statment to show all the movies that</span></span>
<span id="cb206-13"><a href="#cb206-13" aria-hidden="true" tabindex="-1"></a><span class="co"># were directed by any of the following people:</span></span>
<span id="cb206-14"><a href="#cb206-14" aria-hidden="true" tabindex="-1"></a><span class="co">#     Pete Docter , Brad Bird, Dan Scanlon</span></span>
<span id="cb206-15"><a href="#cb206-15" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb206-16"><a href="#cb206-16" aria-hidden="true" tabindex="-1"></a><span class="co"># (a) Write it using the IN operator</span></span>
<span id="cb206-17"><a href="#cb206-17" aria-hidden="true" tabindex="-1"></a><span class="co"># (b) write it without using the IN operator</span></span>
<span id="cb206-18"><a href="#cb206-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-19"><a href="#cb206-19" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER - part (a)</span></span>
<span id="cb206-20"><a href="#cb206-20" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb206-21"><a href="#cb206-21" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb206-22"><a href="#cb206-22" aria-hidden="true" tabindex="-1"></a><span class="st">       where director IN ('Pete Docter', 'Brad Bird', 'Dan Scanlon')</span></span>
<span id="cb206-23"><a href="#cb206-23" aria-hidden="true" tabindex="-1"></a><span class="st">       order by director"</span></span>
<span id="cb206-24"><a href="#cb206-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-25"><a href="#cb206-25" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id               title    director year length_minutes
1  6     The Incredibles   Brad Bird 2004            116
2  8         Ratatouille   Brad Bird 2007            115
3 14 Monsters University Dan Scanlon 2013            110
4  4      Monsters, Inc. Pete Docter 2001             92
5 10                  Up Pete Docter 2009            101</code></pre>
</div>
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ANSWER - part (b) - without the IN operator</span></span>
<span id="cb208-2"><a href="#cb208-2" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb208-3"><a href="#cb208-3" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb208-4"><a href="#cb208-4" aria-hidden="true" tabindex="-1"></a><span class="st">       where director='Pete Docter' or  director='Brad Bird' or director = 'Dan Scanlon'</span></span>
<span id="cb208-5"><a href="#cb208-5" aria-hidden="true" tabindex="-1"></a><span class="st">       order by director"</span></span>
<span id="cb208-6"><a href="#cb208-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-7"><a href="#cb208-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id               title    director year length_minutes
1  6     The Incredibles   Brad Bird 2004            116
2  8         Ratatouille   Brad Bird 2007            115
3 14 Monsters University Dan Scanlon 2013            110
4  4      Monsters, Inc. Pete Docter 2001             92
5 10                  Up Pete Docter 2009            101</code></pre>
</div>
</div>
</section>
<section id="the-like-operator" class="level3" data-number="31.26.3">
<h3 data-number="31.26.3" class="anchored" data-anchor-id="the-like-operator"><span class="header-section-number">31.26.3</span> The “like” operator</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="do">######################################################################.</span></span>
<span id="cb210-2"><a href="#cb210-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The "like" operator</span></span>
<span id="cb210-3"><a href="#cb210-3" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb210-4"><a href="#cb210-4" aria-hidden="true" tabindex="-1"></a><span class="co"># The like operator in sql uses a "pattern" to match data values</span></span>
<span id="cb210-5"><a href="#cb210-5" aria-hidden="true" tabindex="-1"></a><span class="co"># This is similar to regular expressions. However, the SQL like </span></span>
<span id="cb210-6"><a href="#cb210-6" aria-hidden="true" tabindex="-1"></a><span class="co"># operator uses very different meta characters. </span></span>
<span id="cb210-7"><a href="#cb210-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb210-8"><a href="#cb210-8" aria-hidden="true" tabindex="-1"></a><span class="co"># The two standard metacharacters that are used by the sql like </span></span>
<span id="cb210-9"><a href="#cb210-9" aria-hidden="true" tabindex="-1"></a><span class="co"># operator in the pattern are:</span></span>
<span id="cb210-10"><a href="#cb210-10" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb210-11"><a href="#cb210-11" aria-hidden="true" tabindex="-1"></a><span class="co">#   %    will "match" 0 or more characters  (equivalent to .* in regex)</span></span>
<span id="cb210-12"><a href="#cb210-12" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb210-13"><a href="#cb210-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   _    i.e. an underscore, will "match" exactly one character (equivalent to . in regex)</span></span>
<span id="cb210-14"><a href="#cb210-14" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb210-15"><a href="#cb210-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Some DBMS software allows for additional metacharacters in LIKE clauses</span></span>
<span id="cb210-16"><a href="#cb210-16" aria-hidden="true" tabindex="-1"></a><span class="co"># For example, MySql allows for the following. (sqlite does not)</span></span>
<span id="cb210-17"><a href="#cb210-17" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb210-18"><a href="#cb210-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   [abc]  MySQL DBMS software recognizes these "character classes" </span></span>
<span id="cb210-19"><a href="#cb210-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   [a-c]  similar to regular expressions. Not all DBMS software recognizes</span></span>
<span id="cb210-20"><a href="#cb210-20" aria-hidden="true" tabindex="-1"></a><span class="co">#   [^a-c] these. sqlite does not.</span></span>
<span id="cb210-21"><a href="#cb210-21" aria-hidden="true" tabindex="-1"></a><span class="do">######################################################################.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="practice-3" class="level3" data-number="31.26.4">
<h3 data-number="31.26.4" class="anchored" data-anchor-id="practice-3"><span class="header-section-number">31.26.4</span> PRACTICE</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="co"># exercise 3</span></span>
<span id="cb211-2"><a href="#cb211-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb211-3"><a href="#cb211-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Exercise 3 - Tasks</span></span>
<span id="cb211-4"><a href="#cb211-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all the Toy Story movies</span></span>
<span id="cb211-5"><a href="#cb211-5" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select *</span></span>
<span id="cb211-6"><a href="#cb211-6" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb211-7"><a href="#cb211-7" aria-hidden="true" tabindex="-1"></a><span class="st">       where title like 'Toy Story%'"</span></span>
<span id="cb211-8"><a href="#cb211-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id       title      director year length_minutes
1  1   Toy Story John Lasseter 1995             81
2  3 Toy Story 2 John Lasseter 1999             93
3 11 Toy Story 3   Lee Unkrich 2010            103</code></pre>
</div>
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all the movies directed by John Lasseter</span></span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-3"><a href="#cb213-3" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select *</span></span>
<span id="cb213-4"><a href="#cb213-4" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb213-5"><a href="#cb213-5" aria-hidden="true" tabindex="-1"></a><span class="st">       where director = 'John Lasseter'"</span></span>
<span id="cb213-6"><a href="#cb213-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id        title      director year length_minutes
1  1    Toy Story John Lasseter 1995             81
2  2 A Bug's Life John Lasseter 1998             95
3  3  Toy Story 2 John Lasseter 1999             93
4  7         Cars John Lasseter 2006            117
5 12       Cars 2 John Lasseter 2011            120</code></pre>
</div>
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all the movies (and director) not directed by John Lasseter</span></span>
<span id="cb215-2"><a href="#cb215-2" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb215-3"><a href="#cb215-3" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies </span></span>
<span id="cb215-4"><a href="#cb215-4" aria-hidden="true" tabindex="-1"></a><span class="st">       where director != 'John Lasseter'"</span></span>
<span id="cb215-5"><a href="#cb215-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1   4      Monsters, Inc.    Pete Docter 2001             92
2   5        Finding Nemo Andrew Stanton 2003            107
3   6     The Incredibles      Brad Bird 2004            116
4   8         Ratatouille      Brad Bird 2007            115
5   9              WALL-E Andrew Stanton 2008            104
6  10                  Up    Pete Docter 2009            101
7  11         Toy Story 3    Lee Unkrich 2010            103
8  13               Brave Brenda Chapman 2012            102
9  14 Monsters University    Dan Scanlon 2013            110
10 87              WALL-G Brenda Chapman 2042             92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The following will work but is NOT recommended (no pun intended)</span></span>
<span id="cb217-2"><a href="#cb217-2" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb217-3"><a href="#cb217-3" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies </span></span>
<span id="cb217-4"><a href="#cb217-4" aria-hidden="true" tabindex="-1"></a><span class="st">       where NOT ( director = 'John Lasseter' ) "</span></span>
<span id="cb217-5"><a href="#cb217-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1   4      Monsters, Inc.    Pete Docter 2001             92
2   5        Finding Nemo Andrew Stanton 2003            107
3   6     The Incredibles      Brad Bird 2004            116
4   8         Ratatouille      Brad Bird 2007            115
5   9              WALL-E Andrew Stanton 2008            104
6  10                  Up    Pete Docter 2009            101
7  11         Toy Story 3    Lee Unkrich 2010            103
8  13               Brave Brenda Chapman 2012            102
9  14 Monsters University    Dan Scanlon 2013            110
10 87              WALL-G Brenda Chapman 2042             92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all the WALL-* movies</span></span>
<span id="cb219-2"><a href="#cb219-2" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select *</span></span>
<span id="cb219-3"><a href="#cb219-3" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb219-4"><a href="#cb219-4" aria-hidden="true" tabindex="-1"></a><span class="st">       where title like 'WALL-_'"</span></span>
<span id="cb219-5"><a href="#cb219-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id  title       director year length_minutes
1  9 WALL-E Andrew Stanton 2008            104
2 87 WALL-G Brenda Chapman 2042             92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a>movies</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1   1           Toy Story  John Lasseter 1995             81
2   2        A Bug's Life  John Lasseter 1998             95
3   3         Toy Story 2  John Lasseter 1999             93
4   4      Monsters, Inc.    Pete Docter 2001             92
5   5        Finding Nemo Andrew Stanton 2003            107
6   6     The Incredibles      Brad Bird 2004            116
7   7                Cars  John Lasseter 2006            117
8   8         Ratatouille      Brad Bird 2007            115
9   9              WALL-E Andrew Stanton 2008            104
10 10                  Up    Pete Docter 2009            101
11 11         Toy Story 3    Lee Unkrich 2010            103
12 12              Cars 2  John Lasseter 2011            120
13 13               Brave Brenda Chapman 2012            102
14 14 Monsters University    Dan Scanlon 2013            110
15 87              WALL-G Brenda Chapman 2042             92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb223"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION </span></span>
<span id="cb223-2"><a href="#cb223-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Show all movies that start with a "T" and end with an "s"</span></span>
<span id="cb223-3"><a href="#cb223-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb223-4"><a href="#cb223-4" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb223-5"><a href="#cb223-5" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb223-6"><a href="#cb223-6" aria-hidden="true" tabindex="-1"></a><span class="st">       where title like 'T%s'</span></span>
<span id="cb223-7"><a href="#cb223-7" aria-hidden="true" tabindex="-1"></a><span class="st">       order by title"</span></span>
<span id="cb223-8"><a href="#cb223-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id           title  director year length_minutes
1  6 The Incredibles Brad Bird 2004            116</code></pre>
</div>
<div class="sourceCode cell-code" id="cb225"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION </span></span>
<span id="cb225-2"><a href="#cb225-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Show all movies whose title is exactly 6 charcters (including spaces)</span></span>
<span id="cb225-3"><a href="#cb225-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-4"><a href="#cb225-4" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb225-5"><a href="#cb225-5" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb225-6"><a href="#cb225-6" aria-hidden="true" tabindex="-1"></a><span class="st">       where title like '______'</span></span>
<span id="cb225-7"><a href="#cb225-7" aria-hidden="true" tabindex="-1"></a><span class="st">       order by title"</span></span>
<span id="cb225-8"><a href="#cb225-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id  title       director year length_minutes
1 12 Cars 2  John Lasseter 2011            120
2  9 WALL-E Andrew Stanton 2008            104
3 87 WALL-G Brenda Chapman 2042             92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb227"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb227-2"><a href="#cb227-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Show all movies whose title starts with A,B or C</span></span>
<span id="cb227-3"><a href="#cb227-3" aria-hidden="true" tabindex="-1"></a><span class="co"># and whose title is 10 characters or longer</span></span>
<span id="cb227-4"><a href="#cb227-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-5"><a href="#cb227-5" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span><span class="st">"select title</span></span>
<span id="cb227-6"><a href="#cb227-6" aria-hidden="true" tabindex="-1"></a><span class="st">      from movies</span></span>
<span id="cb227-7"><a href="#cb227-7" aria-hidden="true" tabindex="-1"></a><span class="st">      where title BETWEEN 'A' AND 'D' and</span></span>
<span id="cb227-8"><a href="#cb227-8" aria-hidden="true" tabindex="-1"></a><span class="st">            title LIKE '__________%'"</span></span>
<span id="cb227-9"><a href="#cb227-9" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         title
1 A Bug's Life</code></pre>
</div>
<div class="sourceCode cell-code" id="cb229"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="co"># QUESTION</span></span>
<span id="cb229-2"><a href="#cb229-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Show all movies whose title starts with A,B or C</span></span>
<span id="cb229-3"><a href="#cb229-3" aria-hidden="true" tabindex="-1"></a><span class="co"># and whose title is fewer than 10 characters or long</span></span>
<span id="cb229-4"><a href="#cb229-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb229-5"><a href="#cb229-5" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span><span class="st">"select title</span></span>
<span id="cb229-6"><a href="#cb229-6" aria-hidden="true" tabindex="-1"></a><span class="st">      from movies</span></span>
<span id="cb229-7"><a href="#cb229-7" aria-hidden="true" tabindex="-1"></a><span class="st">      where title BETWEEN 'A' AND 'D' and</span></span>
<span id="cb229-8"><a href="#cb229-8" aria-hidden="true" tabindex="-1"></a><span class="st">            title NOT LIKE '__________%'"</span></span>
<span id="cb229-9"><a href="#cb229-9" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   title
1   Cars
2 Cars 2
3  Brave</code></pre>
</div>
<div class="sourceCode cell-code" id="cb231"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb231-1"><a href="#cb231-1" aria-hidden="true" tabindex="-1"></a>sql<span class="ot">=</span><span class="st">"select substr(title, 1,1) from movies order by 1"</span></span>
<span id="cb231-2"><a href="#cb231-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   substr(title, 1,1)
1                   A
2                   B
3                   C
4                   C
5                   F
6                   M
7                   M
8                   R
9                   T
10                  T
11                  T
12                  T
13                  U
14                  W
15                  W</code></pre>
</div>
<div class="sourceCode cell-code" id="cb233"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * from movies where substr(title,1,1) = 'M'"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id               title    director year length_minutes
1  4      Monsters, Inc. Pete Docter 2001             92
2 14 Monsters University Dan Scanlon 2013            110</code></pre>
</div>
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * from movies where title &lt; 'D'"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id        title       director year length_minutes
1  2 A Bug's Life  John Lasseter 1998             95
2  7         Cars  John Lasseter 2006            117
3 12       Cars 2  John Lasseter 2011            120
4 13        Brave Brenda Chapman 2012            102</code></pre>
</div>
</div>
</section>
<section id="select-distinct" class="level3" data-number="31.26.5">
<h3 data-number="31.26.5" class="anchored" data-anchor-id="select-distinct"><span class="header-section-number">31.26.5</span> SELECT DISTINCT …</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="do">################################################################.</span></span>
<span id="cb237-2"><a href="#cb237-2" aria-hidden="true" tabindex="-1"></a><span class="co"># SELECT DISTINCT ...</span></span>
<span id="cb237-3"><a href="#cb237-3" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb237-4"><a href="#cb237-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Depending on which values are selected, a SELECT ... statement</span></span>
<span id="cb237-5"><a href="#cb237-5" aria-hidden="true" tabindex="-1"></a><span class="co"># might return exactly the same row in the output multiple times. </span></span>
<span id="cb237-6"><a href="#cb237-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb237-7"><a href="#cb237-7" aria-hidden="true" tabindex="-1"></a><span class="co"># To instead, show only one copy of each row in the output,</span></span>
<span id="cb237-8"><a href="#cb237-8" aria-hidden="true" tabindex="-1"></a><span class="co"># start the statement with  SELECT DISTINCT ... </span></span>
<span id="cb237-9"><a href="#cb237-9" aria-hidden="true" tabindex="-1"></a><span class="co"># (instead of just SELECT ...)</span></span>
<span id="cb237-10"><a href="#cb237-10" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb237-11"><a href="#cb237-11" aria-hidden="true" tabindex="-1"></a><span class="co"># See the examples below.</span></span>
<span id="cb237-12"><a href="#cb237-12" aria-hidden="true" tabindex="-1"></a><span class="do">################################################################.</span></span>
<span id="cb237-13"><a href="#cb237-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb237-14"><a href="#cb237-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb237-15"><a href="#cb237-15" aria-hidden="true" tabindex="-1"></a><span class="co"># The output of the following query includes some rows</span></span>
<span id="cb237-16"><a href="#cb237-16" aria-hidden="true" tabindex="-1"></a><span class="co"># that are exactly the same as other rows.</span></span>
<span id="cb237-17"><a href="#cb237-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb237-18"><a href="#cb237-18" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select year, honors, major </span></span>
<span id="cb237-19"><a href="#cb237-19" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb237-20"><a href="#cb237-20" aria-hidden="true" tabindex="-1"></a><span class="st">      where honors = TRUE and major = 'IDS'</span></span>
<span id="cb237-21"><a href="#cb237-21" aria-hidden="true" tabindex="-1"></a><span class="st">      order by year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  year honors major
1   fr   TRUE   IDS
2   fr   TRUE   IDS
3   ju   TRUE   IDS
4   se   TRUE   IDS
5   so   TRUE   IDS</code></pre>
</div>
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The following query is exactly the same as the previous query, except</span></span>
<span id="cb239-2"><a href="#cb239-2" aria-hidden="true" tabindex="-1"></a><span class="co"># that the following query includes the word DISTINCT at the beginning</span></span>
<span id="cb239-3"><a href="#cb239-3" aria-hidden="true" tabindex="-1"></a><span class="co"># of the query.</span></span>
<span id="cb239-4"><a href="#cb239-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb239-5"><a href="#cb239-5" aria-hidden="true" tabindex="-1"></a><span class="co"># This version of the query does not include any duplicated rows in the output.</span></span>
<span id="cb239-6"><a href="#cb239-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb239-7"><a href="#cb239-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select DISTINCT year, honors, major </span></span>
<span id="cb239-8"><a href="#cb239-8" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb239-9"><a href="#cb239-9" aria-hidden="true" tabindex="-1"></a><span class="st">      where honors = TRUE and major = 'IDS'</span></span>
<span id="cb239-10"><a href="#cb239-10" aria-hidden="true" tabindex="-1"></a><span class="st">      order by year, major"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  year honors major
1   fr   TRUE   IDS
2   ju   TRUE   IDS
3   se   TRUE   IDS
4   so   TRUE   IDS</code></pre>
</div>
<div class="sourceCode cell-code" id="cb241"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb241-1"><a href="#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select DISTINCT student, year, honors, major </span></span>
<span id="cb241-2"><a href="#cb241-2" aria-hidden="true" tabindex="-1"></a><span class="st">      from grades</span></span>
<span id="cb241-3"><a href="#cb241-3" aria-hidden="true" tabindex="-1"></a><span class="st">      where honors = TRUE and major = 'IDS'</span></span>
<span id="cb241-4"><a href="#cb241-4" aria-hidden="true" tabindex="-1"></a><span class="st">      order by year, major"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   student year honors major
1     anne   fr   TRUE   IDS
2 lucricia   fr   TRUE   IDS
3     mike   ju   TRUE   IDS
4    david   se   TRUE   IDS
5 samantha   so   TRUE   IDS</code></pre>
</div>
</div>
</section>
<section id="practice-4" class="level3" data-number="31.26.6">
<h3 data-number="31.26.6" class="anchored" data-anchor-id="practice-4"><span class="header-section-number">31.26.6</span> Practice</h3>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
click here for practice
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb243"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb243-1"><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exercise 4</span></span>
<span id="cb243-2"><a href="#cb243-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb243-3"><a href="#cb243-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Show just the director column</span></span>
<span id="cb243-4"><a href="#cb243-4" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select director </span></span>
<span id="cb243-5"><a href="#cb243-5" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies"</span></span>
<span id="cb243-6"><a href="#cb243-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         director
1   John Lasseter
2   John Lasseter
3   John Lasseter
4     Pete Docter
5  Andrew Stanton
6       Brad Bird
7   John Lasseter
8       Brad Bird
9  Andrew Stanton
10    Pete Docter
11    Lee Unkrich
12  John Lasseter
13 Brenda Chapman
14    Dan Scanlon
15 Brenda Chapman</code></pre>
</div>
<div class="sourceCode cell-code" id="cb245"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List all directors of movies, without duplicates</span></span>
<span id="cb245-2"><a href="#cb245-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb245-3"><a href="#cb245-3" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select DISTINCT director </span></span>
<span id="cb245-4"><a href="#cb245-4" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies"</span></span>
<span id="cb245-5"><a href="#cb245-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        director
1  John Lasseter
2    Pete Docter
3 Andrew Stanton
4      Brad Bird
5    Lee Unkrich
6 Brenda Chapman
7    Dan Scanlon</code></pre>
</div>
<div class="sourceCode cell-code" id="cb247"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List all directors of movies (alphabetically), without duplicates</span></span>
<span id="cb247-2"><a href="#cb247-2" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select DISTINCT director </span></span>
<span id="cb247-3"><a href="#cb247-3" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb247-4"><a href="#cb247-4" aria-hidden="true" tabindex="-1"></a><span class="st">       order by director"</span></span>
<span id="cb247-5"><a href="#cb247-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        director
1 Andrew Stanton
2      Brad Bird
3 Brenda Chapman
4    Dan Scanlon
5  John Lasseter
6    Lee Unkrich
7    Pete Docter</code></pre>
</div>
<div class="sourceCode cell-code" id="cb249"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Both the where clause and the order by clause may refer to information</span></span>
<span id="cb249-2"><a href="#cb249-2" aria-hidden="true" tabindex="-1"></a><span class="co"># that is not actually displayed by the select clause</span></span>
<span id="cb249-3"><a href="#cb249-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb249-4"><a href="#cb249-4" aria-hidden="true" tabindex="-1"></a><span class="co"># For example</span></span>
<span id="cb249-5"><a href="#cb249-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb249-6"><a href="#cb249-6" aria-hidden="true" tabindex="-1"></a><span class="co"># List the title and year for all movies directed by John Lasseter.</span></span>
<span id="cb249-7"><a href="#cb249-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Do not John Lasseter's name in the output.</span></span>
<span id="cb249-8"><a href="#cb249-8" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select title, year </span></span>
<span id="cb249-9"><a href="#cb249-9" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb249-10"><a href="#cb249-10" aria-hidden="true" tabindex="-1"></a><span class="st">       where director = 'John Lasseter'"</span></span>
<span id="cb249-11"><a href="#cb249-11" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         title year
1    Toy Story 1995
2 A Bug's Life 1998
3  Toy Story 2 1999
4         Cars 2006
5       Cars 2 2011</code></pre>
</div>
<div class="sourceCode cell-code" id="cb251"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb251-1"><a href="#cb251-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List the title of all movies in "reverse chronological order". </span></span>
<span id="cb251-2"><a href="#cb251-2" aria-hidden="true" tabindex="-1"></a><span class="co"># In other words, the most recent movie should be listed first and the </span></span>
<span id="cb251-3"><a href="#cb251-3" aria-hidden="true" tabindex="-1"></a><span class="co"># oldest movie listed last.</span></span>
<span id="cb251-4"><a href="#cb251-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Do NOT show the actual year in the output.</span></span>
<span id="cb251-5"><a href="#cb251-5" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select title </span></span>
<span id="cb251-6"><a href="#cb251-6" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb251-7"><a href="#cb251-7" aria-hidden="true" tabindex="-1"></a><span class="st">       order by year desc"</span></span>
<span id="cb251-8"><a href="#cb251-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 title
1               WALL-G
2  Monsters University
3                Brave
4               Cars 2
5          Toy Story 3
6                   Up
7               WALL-E
8          Ratatouille
9                 Cars
10     The Incredibles
11        Finding Nemo
12      Monsters, Inc.
13         Toy Story 2
14        A Bug's Life
15           Toy Story</code></pre>
</div>
<div class="sourceCode cell-code" id="cb253"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb253-1"><a href="#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List the last four movies released (ordered from least recent to most recent)</span></span>
<span id="cb253-2"><a href="#cb253-2" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb253-3"><a href="#cb253-3" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb253-4"><a href="#cb253-4" aria-hidden="true" tabindex="-1"></a><span class="st">       order by year"</span></span>
<span id="cb253-5"><a href="#cb253-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1   1           Toy Story  John Lasseter 1995             81
2   2        A Bug's Life  John Lasseter 1998             95
3   3         Toy Story 2  John Lasseter 1999             93
4   4      Monsters, Inc.    Pete Docter 2001             92
5   5        Finding Nemo Andrew Stanton 2003            107
6   6     The Incredibles      Brad Bird 2004            116
7   7                Cars  John Lasseter 2006            117
8   8         Ratatouille      Brad Bird 2007            115
9   9              WALL-E Andrew Stanton 2008            104
10 10                  Up    Pete Docter 2009            101
11 11         Toy Story 3    Lee Unkrich 2010            103
12 12              Cars 2  John Lasseter 2011            120
13 13               Brave Brenda Chapman 2012            102
14 14 Monsters University    Dan Scanlon 2013            110
15 87              WALL-G Brenda Chapman 2042             92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb255"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb255-1"><a href="#cb255-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the following does the same thing</span></span>
<span id="cb255-2"><a href="#cb255-2" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb255-3"><a href="#cb255-3" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb255-4"><a href="#cb255-4" aria-hidden="true" tabindex="-1"></a><span class="st">       order by year asc"</span></span>
<span id="cb255-5"><a href="#cb255-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1   1           Toy Story  John Lasseter 1995             81
2   2        A Bug's Life  John Lasseter 1998             95
3   3         Toy Story 2  John Lasseter 1999             93
4   4      Monsters, Inc.    Pete Docter 2001             92
5   5        Finding Nemo Andrew Stanton 2003            107
6   6     The Incredibles      Brad Bird 2004            116
7   7                Cars  John Lasseter 2006            117
8   8         Ratatouille      Brad Bird 2007            115
9   9              WALL-E Andrew Stanton 2008            104
10 10                  Up    Pete Docter 2009            101
11 11         Toy Story 3    Lee Unkrich 2010            103
12 12              Cars 2  John Lasseter 2011            120
13 13               Brave Brenda Chapman 2012            102
14 14 Monsters University    Dan Scanlon 2013            110
15 87              WALL-G Brenda Chapman 2042             92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb257"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb257-1"><a href="#cb257-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List the last four movies released (ordered from most recent to last)</span></span>
<span id="cb257-2"><a href="#cb257-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb257-3"><a href="#cb257-3" aria-hidden="true" tabindex="-1"></a><span class="co"># To order a column in descending order follow the name of the column with desc</span></span>
<span id="cb257-4"><a href="#cb257-4" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb257-5"><a href="#cb257-5" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb257-6"><a href="#cb257-6" aria-hidden="true" tabindex="-1"></a><span class="st">       order by year desc"</span></span>
<span id="cb257-7"><a href="#cb257-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1  87              WALL-G Brenda Chapman 2042             92
2  14 Monsters University    Dan Scanlon 2013            110
3  13               Brave Brenda Chapman 2012            102
4  12              Cars 2  John Lasseter 2011            120
5  11         Toy Story 3    Lee Unkrich 2010            103
6  10                  Up    Pete Docter 2009            101
7   9              WALL-E Andrew Stanton 2008            104
8   8         Ratatouille      Brad Bird 2007            115
9   7                Cars  John Lasseter 2006            117
10  6     The Incredibles      Brad Bird 2004            116
11  5        Finding Nemo Andrew Stanton 2003            107
12  4      Monsters, Inc.    Pete Docter 2001             92
13  3         Toy Story 2  John Lasseter 1999             93
14  2        A Bug's Life  John Lasseter 1998             95
15  1           Toy Story  John Lasseter 1995             81</code></pre>
</div>
<div class="sourceCode cell-code" id="cb259"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb259-1"><a href="#cb259-1" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb259-2"><a href="#cb259-2" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb259-3"><a href="#cb259-3" aria-hidden="true" tabindex="-1"></a><span class="st">       order by year desc</span></span>
<span id="cb259-4"><a href="#cb259-4" aria-hidden="true" tabindex="-1"></a><span class="st">       limit 4"</span></span>
<span id="cb259-5"><a href="#cb259-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id               title       director year length_minutes
1 87              WALL-G Brenda Chapman 2042             92
2 14 Monsters University    Dan Scanlon 2013            110
3 13               Brave Brenda Chapman 2012            102
4 12              Cars 2  John Lasseter 2011            120</code></pre>
</div>
<div class="sourceCode cell-code" id="cb261"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb261-1"><a href="#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List all movies sorted alphabetically by title</span></span>
<span id="cb261-2"><a href="#cb261-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-3"><a href="#cb261-3" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb261-4"><a href="#cb261-4" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb261-5"><a href="#cb261-5" aria-hidden="true" tabindex="-1"></a><span class="st">       order by title"</span></span>
<span id="cb261-6"><a href="#cb261-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id               title       director year length_minutes
1   2        A Bug's Life  John Lasseter 1998             95
2  13               Brave Brenda Chapman 2012            102
3   7                Cars  John Lasseter 2006            117
4  12              Cars 2  John Lasseter 2011            120
5   5        Finding Nemo Andrew Stanton 2003            107
6  14 Monsters University    Dan Scanlon 2013            110
7   4      Monsters, Inc.    Pete Docter 2001             92
8   8         Ratatouille      Brad Bird 2007            115
9   6     The Incredibles      Brad Bird 2004            116
10  1           Toy Story  John Lasseter 1995             81
11  3         Toy Story 2  John Lasseter 1999             93
12 11         Toy Story 3    Lee Unkrich 2010            103
13 10                  Up    Pete Docter 2009            101
14  9              WALL-E Andrew Stanton 2008            104
15 87              WALL-G Brenda Chapman 2042             92</code></pre>
</div>
<div class="sourceCode cell-code" id="cb263"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb263-1"><a href="#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List the first five movies sorted alphabetically</span></span>
<span id="cb263-2"><a href="#cb263-2" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb263-3"><a href="#cb263-3" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb263-4"><a href="#cb263-4" aria-hidden="true" tabindex="-1"></a><span class="st">       order by title</span></span>
<span id="cb263-5"><a href="#cb263-5" aria-hidden="true" tabindex="-1"></a><span class="st">       limit 5"</span></span>
<span id="cb263-6"><a href="#cb263-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id        title       director year length_minutes
1  2 A Bug's Life  John Lasseter 1998             95
2 13        Brave Brenda Chapman 2012            102
3  7         Cars  John Lasseter 2006            117
4 12       Cars 2  John Lasseter 2011            120
5  5 Finding Nemo Andrew Stanton 2003            107</code></pre>
</div>
<div class="sourceCode cell-code" id="cb265"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb265-1"><a href="#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List the next five movies sorted alphabetically</span></span>
<span id="cb265-2"><a href="#cb265-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb265-3"><a href="#cb265-3" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb265-4"><a href="#cb265-4" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb265-5"><a href="#cb265-5" aria-hidden="true" tabindex="-1"></a><span class="st">       order by title</span></span>
<span id="cb265-6"><a href="#cb265-6" aria-hidden="true" tabindex="-1"></a><span class="st">       limit 5 offset 5"</span></span>
<span id="cb265-7"><a href="#cb265-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id               title      director year length_minutes
1 14 Monsters University   Dan Scanlon 2013            110
2  4      Monsters, Inc.   Pete Docter 2001             92
3  8         Ratatouille     Brad Bird 2007            115
4  6     The Incredibles     Brad Bird 2004            116
5  1           Toy Story John Lasseter 1995             81</code></pre>
</div>
<div class="sourceCode cell-code" id="cb267"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb267-1"><a href="#cb267-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List the next five movies sorted alphabetically</span></span>
<span id="cb267-2"><a href="#cb267-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb267-3"><a href="#cb267-3" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb267-4"><a href="#cb267-4" aria-hidden="true" tabindex="-1"></a><span class="st">       from movies</span></span>
<span id="cb267-5"><a href="#cb267-5" aria-hidden="true" tabindex="-1"></a><span class="st">       order by title</span></span>
<span id="cb267-6"><a href="#cb267-6" aria-hidden="true" tabindex="-1"></a><span class="st">       limit 5 offset 10"</span></span>
<span id="cb267-7"><a href="#cb267-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id       title       director year length_minutes
1  3 Toy Story 2  John Lasseter 1999             93
2 11 Toy Story 3    Lee Unkrich 2010            103
3 10          Up    Pete Docter 2009            101
4  9      WALL-E Andrew Stanton 2008            104
5 87      WALL-G Brenda Chapman 2042             92</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="more-practice---north_american_cities" class="level3" data-number="31.26.7">
<h3 data-number="31.26.7" class="anchored" data-anchor-id="more-practice---north_american_cities"><span class="header-section-number">31.26.7</span> More practice - north_american_cities</h3>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
click here for practice
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb269"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb269-1"><a href="#cb269-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Review 1 - Tasks</span></span>
<span id="cb269-2"><a href="#cb269-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb269-3"><a href="#cb269-3" aria-hidden="true" tabindex="-1"></a><span class="co"># https://sqlbolt.com/lesson/select_queries_review</span></span>
<span id="cb269-4"><a href="#cb269-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb269-5"><a href="#cb269-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb269-6"><a href="#cb269-6" aria-hidden="true" tabindex="-1"></a><span class="co"># See the table (i.e. dataframe)</span></span>
<span id="cb269-7"><a href="#cb269-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(<span class="st">"select * north_american_cities"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: near "north_american_cities": syntax error</code></pre>
</div>
<div class="sourceCode cell-code" id="cb271"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb271-1"><a href="#cb271-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List all the Canadian cities and their populations</span></span>
<span id="cb271-2"><a href="#cb271-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb271-3"><a href="#cb271-3" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select country, city, population</span></span>
<span id="cb271-4"><a href="#cb271-4" aria-hidden="true" tabindex="-1"></a><span class="st">       from north_american_cities</span></span>
<span id="cb271-5"><a href="#cb271-5" aria-hidden="true" tabindex="-1"></a><span class="st">       where country='Canada'"</span></span>
<span id="cb271-6"><a href="#cb271-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  country     city population
1  Canada  Toronto    2795060
2  Canada Montreal    1717767</code></pre>
</div>
<div class="sourceCode cell-code" id="cb273"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb273-1"><a href="#cb273-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Order all the cities in the United States by their latitude from north to south</span></span>
<span id="cb273-2"><a href="#cb273-2" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"</span></span>
<span id="cb273-3"><a href="#cb273-3" aria-hidden="true" tabindex="-1"></a><span class="st">select *</span></span>
<span id="cb273-4"><a href="#cb273-4" aria-hidden="true" tabindex="-1"></a><span class="st">from north_american_cities</span></span>
<span id="cb273-5"><a href="#cb273-5" aria-hidden="true" tabindex="-1"></a><span class="st">where country = 'United States'</span></span>
<span id="cb273-6"><a href="#cb273-6" aria-hidden="true" tabindex="-1"></a><span class="st">order by latitude desc"</span></span>
<span id="cb273-7"><a href="#cb273-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          city       country population latitude  longitude
1      Chicago United States    2718782 41.87811  -87.62980
2     New York United States    8405837 40.71278  -74.00594
3 Philadelphia United States    1553165 39.95258  -75.16522
4  Los Angeles United States    3884307 34.05223 -118.24368
5      Phoenix United States    1513367 33.44838 -112.07404
6      Houston United States    2195914 29.76043  -95.36980</code></pre>
</div>
<div class="sourceCode cell-code" id="cb275"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb275-1"><a href="#cb275-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List all the cities west of Chicago, ordered from west to east</span></span>
<span id="cb275-2"><a href="#cb275-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb275-3"><a href="#cb275-3" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select *</span></span>
<span id="cb275-4"><a href="#cb275-4" aria-hidden="true" tabindex="-1"></a><span class="st">from north_american_cities</span></span>
<span id="cb275-5"><a href="#cb275-5" aria-hidden="true" tabindex="-1"></a><span class="st">where longitude &lt; -87.62980</span></span>
<span id="cb275-6"><a href="#cb275-6" aria-hidden="true" tabindex="-1"></a><span class="st">order by longitude</span></span>
<span id="cb275-7"><a href="#cb275-7" aria-hidden="true" tabindex="-1"></a><span class="st">"</span></span>
<span id="cb275-8"><a href="#cb275-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 city       country population latitude  longitude
1         Los Angeles United States    3884307 34.05223 -118.24368
2             Phoenix United States    1513367 33.44838 -112.07404
3         Guadalajara        Mexico    1500800 20.65970 -103.34961
4         Mexico City        Mexico    8555500 19.43261  -99.13321
5 Ecatepec de Morelos        Mexico    1742000 19.60184  -99.05067
6             Houston United States    2195914 29.76043  -95.36980</code></pre>
</div>
<div class="sourceCode cell-code" id="cb277"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb277-1"><a href="#cb277-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List the two largest cities in Mexico (by population)</span></span>
<span id="cb277-2"><a href="#cb277-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb277-3"><a href="#cb277-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Start by listing all of the cities in Mexico in order of decreasing population</span></span>
<span id="cb277-4"><a href="#cb277-4" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select *</span></span>
<span id="cb277-5"><a href="#cb277-5" aria-hidden="true" tabindex="-1"></a><span class="st">       from north_american_cities</span></span>
<span id="cb277-6"><a href="#cb277-6" aria-hidden="true" tabindex="-1"></a><span class="st">       where country = 'Mexico'</span></span>
<span id="cb277-7"><a href="#cb277-7" aria-hidden="true" tabindex="-1"></a><span class="st">       order by population desc"</span></span>
<span id="cb277-8"><a href="#cb277-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 city country population latitude  longitude
1         Mexico City  Mexico    8555500 19.43261  -99.13321
2 Ecatepec de Morelos  Mexico    1742000 19.60184  -99.05067
3         Guadalajara  Mexico    1500800 20.65970 -103.34961</code></pre>
</div>
<div class="sourceCode cell-code" id="cb279"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb279-1"><a href="#cb279-1" aria-hidden="true" tabindex="-1"></a><span class="co"># use the limit clause to limit results to only a specified number of values</span></span>
<span id="cb279-2"><a href="#cb279-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Start by listing all of the cities in Mexico</span></span>
<span id="cb279-3"><a href="#cb279-3" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select *</span></span>
<span id="cb279-4"><a href="#cb279-4" aria-hidden="true" tabindex="-1"></a><span class="st">       from north_american_cities</span></span>
<span id="cb279-5"><a href="#cb279-5" aria-hidden="true" tabindex="-1"></a><span class="st">       where country = 'Mexico'</span></span>
<span id="cb279-6"><a href="#cb279-6" aria-hidden="true" tabindex="-1"></a><span class="st">       order by population desc</span></span>
<span id="cb279-7"><a href="#cb279-7" aria-hidden="true" tabindex="-1"></a><span class="st">       limit 2"</span></span>
<span id="cb279-8"><a href="#cb279-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 city country population latitude longitude
1         Mexico City  Mexico    8555500 19.43261 -99.13321
2 Ecatepec de Morelos  Mexico    1742000 19.60184 -99.05067</code></pre>
</div>
<div class="sourceCode cell-code" id="cb281"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb281-1"><a href="#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The limit clause takes an option "offset"</span></span>
<span id="cb281-2"><a href="#cb281-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Each row in the data has an imaginary number starting with 0 for the 1st row</span></span>
<span id="cb281-3"><a href="#cb281-3" aria-hidden="true" tabindex="-1"></a><span class="co"># and 1 for the 2nd row , etc.</span></span>
<span id="cb281-4"><a href="#cb281-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb281-5"><a href="#cb281-5" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * from north_american_cities</span></span>
<span id="cb281-6"><a href="#cb281-6" aria-hidden="true" tabindex="-1"></a><span class="st">       order by population desc"</span></span>
<span id="cb281-7"><a href="#cb281-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  city       country population latitude  longitude
1          Mexico City        Mexico    8555500 19.43261  -99.13321
2             New York United States    8405837 40.71278  -74.00594
3          Los Angeles United States    3884307 34.05223 -118.24368
4              Toronto        Canada    2795060 43.65323  -79.38318
5              Chicago United States    2718782 41.87811  -87.62980
6              Houston United States    2195914 29.76043  -95.36980
7               Havana          Cuba    2106146 23.05407  -82.34519
8  Ecatepec de Morelos        Mexico    1742000 19.60184  -99.05067
9             Montreal        Canada    1717767 45.50169  -73.56726
10        Philadelphia United States    1553165 39.95258  -75.16522
11             Phoenix United States    1513367 33.44838 -112.07404
12         Guadalajara        Mexico    1500800 20.65970 -103.34961</code></pre>
</div>
<div class="sourceCode cell-code" id="cb283"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb283-1"><a href="#cb283-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Do the same thing but only get the 3 largest cities</span></span>
<span id="cb283-2"><a href="#cb283-2" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * from north_american_cities</span></span>
<span id="cb283-3"><a href="#cb283-3" aria-hidden="true" tabindex="-1"></a><span class="st">       order by population desc</span></span>
<span id="cb283-4"><a href="#cb283-4" aria-hidden="true" tabindex="-1"></a><span class="st">       limit 3"</span></span>
<span id="cb283-5"><a href="#cb283-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         city       country population latitude  longitude
1 Mexico City        Mexico    8555500 19.43261  -99.13321
2    New York United States    8405837 40.71278  -74.00594
3 Los Angeles United States    3884307 34.05223 -118.24368</code></pre>
</div>
<div class="sourceCode cell-code" id="cb285"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb285-1"><a href="#cb285-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Do the same thing but get the 4th, 5th and 6th largest cities</span></span>
<span id="cb285-2"><a href="#cb285-2" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * from north_american_cities</span></span>
<span id="cb285-3"><a href="#cb285-3" aria-hidden="true" tabindex="-1"></a><span class="st">       order by population desc</span></span>
<span id="cb285-4"><a href="#cb285-4" aria-hidden="true" tabindex="-1"></a><span class="st">       limit 3 offset 3"</span></span>
<span id="cb285-5"><a href="#cb285-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     city       country population latitude longitude
1 Toronto        Canada    2795060 43.65323 -79.38318
2 Chicago United States    2718782 41.87811 -87.62980
3 Houston United States    2195914 29.76043 -95.36980</code></pre>
</div>
<div class="sourceCode cell-code" id="cb287"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb287-1"><a href="#cb287-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Do the same thing but get the 7th 8th and 9th largest cities</span></span>
<span id="cb287-2"><a href="#cb287-2" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * from north_american_cities</span></span>
<span id="cb287-3"><a href="#cb287-3" aria-hidden="true" tabindex="-1"></a><span class="st">       order by population desc</span></span>
<span id="cb287-4"><a href="#cb287-4" aria-hidden="true" tabindex="-1"></a><span class="st">       limit 3 offset 6"</span></span>
<span id="cb287-5"><a href="#cb287-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 city country population latitude longitude
1              Havana    Cuba    2106146 23.05407 -82.34519
2 Ecatepec de Morelos  Mexico    1742000 19.60184 -99.05067
3            Montreal  Canada    1717767 45.50169 -73.56726</code></pre>
</div>
<div class="sourceCode cell-code" id="cb289"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb289-1"><a href="#cb289-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List the third and fourth largest cities (by population) in the United States and their population</span></span>
<span id="cb289-2"><a href="#cb289-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb289-3"><a href="#cb289-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's start by showing all USA cities</span></span>
<span id="cb289-4"><a href="#cb289-4" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb289-5"><a href="#cb289-5" aria-hidden="true" tabindex="-1"></a><span class="st">       from north_american_cities</span></span>
<span id="cb289-6"><a href="#cb289-6" aria-hidden="true" tabindex="-1"></a><span class="st">       where country = 'United States'</span></span>
<span id="cb289-7"><a href="#cb289-7" aria-hidden="true" tabindex="-1"></a><span class="st">       order by population desc</span></span>
<span id="cb289-8"><a href="#cb289-8" aria-hidden="true" tabindex="-1"></a><span class="st">       "</span></span>
<span id="cb289-9"><a href="#cb289-9" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          city       country population latitude  longitude
1     New York United States    8405837 40.71278  -74.00594
2  Los Angeles United States    3884307 34.05223 -118.24368
3      Chicago United States    2718782 41.87811  -87.62980
4      Houston United States    2195914 29.76043  -95.36980
5 Philadelphia United States    1553165 39.95258  -75.16522
6      Phoenix United States    1513367 33.44838 -112.07404</code></pre>
</div>
<div class="sourceCode cell-code" id="cb291"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb291-1"><a href="#cb291-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use limit 2 offset 3 to just show the 3rd and 4th largest cities</span></span>
<span id="cb291-2"><a href="#cb291-2" aria-hidden="true" tabindex="-1"></a>sql <span class="ot">=</span> <span class="st">"select * </span></span>
<span id="cb291-3"><a href="#cb291-3" aria-hidden="true" tabindex="-1"></a><span class="st">       from north_american_cities</span></span>
<span id="cb291-4"><a href="#cb291-4" aria-hidden="true" tabindex="-1"></a><span class="st">       where country = 'United States'</span></span>
<span id="cb291-5"><a href="#cb291-5" aria-hidden="true" tabindex="-1"></a><span class="st">       order by population desc</span></span>
<span id="cb291-6"><a href="#cb291-6" aria-hidden="true" tabindex="-1"></a><span class="st">       limit 2 offset 2</span></span>
<span id="cb291-7"><a href="#cb291-7" aria-hidden="true" tabindex="-1"></a><span class="st">       "</span></span>
<span id="cb291-8"><a href="#cb291-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sqldf</span>(sql)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     city       country population latitude longitude
1 Chicago United States    2718782 41.87811  -87.6298
2 Houston United States    2195914 29.76043  -95.3698</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="dynamic-sql---a-brief-introduction" class="level2" data-number="31.27">
<h2 data-number="31.27" class="anchored" data-anchor-id="dynamic-sql---a-brief-introduction"><span class="header-section-number">31.27</span> dynamic SQL - a brief introduction</h2>
<p><strong>NOTE</strong>:</p>
<ul>
<li>“IDS1020-Intro to IDS” students can ignore this section.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb293"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb293-1"><a href="#cb293-1" aria-hidden="true" tabindex="-1"></a><span class="do">########################################################################.</span></span>
<span id="cb293-2"><a href="#cb293-2" aria-hidden="true" tabindex="-1"></a><span class="co"># It is very common for SQL to be "embedded" in another language</span></span>
<span id="cb293-3"><a href="#cb293-3" aria-hidden="true" tabindex="-1"></a><span class="co"># very similar to what we are doing with R. There are ways to </span></span>
<span id="cb293-4"><a href="#cb293-4" aria-hidden="true" tabindex="-1"></a><span class="co"># "embed" SQL in all popular programming languages.</span></span>
<span id="cb293-5"><a href="#cb293-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb293-6"><a href="#cb293-6" aria-hidden="true" tabindex="-1"></a><span class="co"># This technique of building a sql statement  from different parts of</span></span>
<span id="cb293-7"><a href="#cb293-7" aria-hidden="true" tabindex="-1"></a><span class="co"># info using another language (in this case R) is known</span></span>
<span id="cb293-8"><a href="#cb293-8" aria-hidden="true" tabindex="-1"></a><span class="co"># as "dynamic sql".</span></span>
<span id="cb293-9"><a href="#cb293-9" aria-hidden="true" tabindex="-1"></a><span class="do">########################################################################.</span></span>
<span id="cb293-10"><a href="#cb293-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb293-11"><a href="#cb293-11" aria-hidden="true" tabindex="-1"></a><span class="do">#################################################################.</span></span>
<span id="cb293-12"><a href="#cb293-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Brief intro to an advanced concept: "dynamic SQL"?</span></span>
<span id="cb293-13"><a href="#cb293-13" aria-hidden="true" tabindex="-1"></a><span class="co">#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb293-14"><a href="#cb293-14" aria-hidden="true" tabindex="-1"></a><span class="co"># As we've already learned, the sqldf function takes a</span></span>
<span id="cb293-15"><a href="#cb293-15" aria-hidden="true" tabindex="-1"></a><span class="co"># single character value that contains</span></span>
<span id="cb293-16"><a href="#cb293-16" aria-hidden="true" tabindex="-1"></a><span class="co"># a SQL command, e.g. sqldf("SELECT * FROM SOME_TABLE")</span></span>
<span id="cb293-17"><a href="#cb293-17" aria-hidden="true" tabindex="-1"></a><span class="co"># This allows us to use the SQL language inside our R programs.</span></span>
<span id="cb293-18"><a href="#cb293-18" aria-hidden="true" tabindex="-1"></a><span class="co"># However, you must remember that SQL and R are very different </span></span>
<span id="cb293-19"><a href="#cb293-19" aria-hidden="true" tabindex="-1"></a><span class="co"># languages. As we learn SQL, we will focus primarily on how to write</span></span>
<span id="cb293-20"><a href="#cb293-20" aria-hidden="true" tabindex="-1"></a><span class="co"># various forms of SQL commands. We wont focus much on R</span></span>
<span id="cb293-21"><a href="#cb293-21" aria-hidden="true" tabindex="-1"></a><span class="co"># other than to use the sqldf function to run the SQL code.</span></span>
<span id="cb293-22"><a href="#cb293-22" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb293-23"><a href="#cb293-23" aria-hidden="true" tabindex="-1"></a><span class="co"># However, sometimes it is adventageous to </span></span>
<span id="cb293-24"><a href="#cb293-24" aria-hidden="true" tabindex="-1"></a><span class="co"># use R code (more than just sqldf) to "dynamically" construct a</span></span>
<span id="cb293-25"><a href="#cb293-25" aria-hidden="true" tabindex="-1"></a><span class="co"># SQL statement based on some other information that is </span></span>
<span id="cb293-26"><a href="#cb293-26" aria-hidden="true" tabindex="-1"></a><span class="co"># available to your R code but would not have been available</span></span>
<span id="cb293-27"><a href="#cb293-27" aria-hidden="true" tabindex="-1"></a><span class="co"># at the time you are writing the SQL code.</span></span>
<span id="cb293-28"><a href="#cb293-28" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb293-29"><a href="#cb293-29" aria-hidden="true" tabindex="-1"></a><span class="co"># For example, the following function, mySelect</span></span>
<span id="cb293-30"><a href="#cb293-30" aria-hidden="true" tabindex="-1"></a><span class="co"># takes two arguments: </span></span>
<span id="cb293-31"><a href="#cb293-31" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb293-32"><a href="#cb293-32" aria-hidden="true" tabindex="-1"></a><span class="co">#    table - The name of a table </span></span>
<span id="cb293-33"><a href="#cb293-33" aria-hidden="true" tabindex="-1"></a><span class="co">#    cols - The names of the columns to display from the table</span></span>
<span id="cb293-34"><a href="#cb293-34" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb293-35"><a href="#cb293-35" aria-hidden="true" tabindex="-1"></a><span class="co"># It displays just the specified columns from the specified table.</span></span>
<span id="cb293-36"><a href="#cb293-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb293-37"><a href="#cb293-37" aria-hidden="true" tabindex="-1"></a>mySelect <span class="ot">=</span> <span class="cf">function</span>( table, cols){</span>
<span id="cb293-38"><a href="#cb293-38" aria-hidden="true" tabindex="-1"></a>  colsList <span class="ot">=</span> <span class="fu">paste</span>(cols, <span class="at">collapse=</span><span class="st">","</span>)</span>
<span id="cb293-39"><a href="#cb293-39" aria-hidden="true" tabindex="-1"></a>  selectStatement <span class="ot">=</span> <span class="fu">paste0</span>( <span class="st">"select "</span>, colsList, <span class="st">" from "</span>, table)</span>
<span id="cb293-40"><a href="#cb293-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sqldf</span>(selectStatement)</span>
<span id="cb293-41"><a href="#cb293-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb293-42"><a href="#cb293-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb293-43"><a href="#cb293-43" aria-hidden="true" tabindex="-1"></a><span class="co"># The function can now be called with different tables and </span></span>
<span id="cb293-44"><a href="#cb293-44" aria-hidden="true" tabindex="-1"></a><span class="co"># lists of columns</span></span>
<span id="cb293-45"><a href="#cb293-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb293-46"><a href="#cb293-46" aria-hidden="true" tabindex="-1"></a><span class="fu">mySelect</span>(<span class="st">"movies"</span>, <span class="fu">c</span>(<span class="st">"title"</span>,<span class="st">"director"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 title       director
1            Toy Story  John Lasseter
2         A Bug's Life  John Lasseter
3          Toy Story 2  John Lasseter
4       Monsters, Inc.    Pete Docter
5         Finding Nemo Andrew Stanton
6      The Incredibles      Brad Bird
7                 Cars  John Lasseter
8          Ratatouille      Brad Bird
9               WALL-E Andrew Stanton
10                  Up    Pete Docter
11         Toy Story 3    Lee Unkrich
12              Cars 2  John Lasseter
13               Brave Brenda Chapman
14 Monsters University    Dan Scanlon
15              WALL-G Brenda Chapman</code></pre>
</div>
<div class="sourceCode cell-code" id="cb295"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb295-1"><a href="#cb295-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mySelect</span>(<span class="st">"grades"</span>, <span class="fu">c</span>(<span class="st">"student"</span>, <span class="st">"year"</span>, <span class="st">"test1"</span>, <span class="st">"test2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student year test1 test2
1       joe   fr    70    82
2       sue   fr    80    80
3      anne   fr    90    95
4     frank   so   100    95
5       bob   so    30    NA
6  samantha   so   100    70
7     larry   ju    32    80
8      bill   se    84    90
9  lucricia   fr    80   100
10 margaret   se    59    47
11    dalia   se    85    92
12      zvi   ju    90    98
13     mike   ju    90    86
14    david   se    90    87
15     dana   so   100    93</code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./0500400-sqlSelectIntro-v003.html" class="pagination-link" aria-label="<yrChapterNumber>29. </yrChapterNumber> Intro to SQL Select ***(assumes some knowledge of dplyr)***">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title"><yrchapternumber>29. </yrchapternumber> Intro to SQL Select <strong><em>(assumes some knowledge of dplyr)</em></strong></span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./sql0035-workingWithMultipleTables-v012.html" class="pagination-link" aria-label="<yrChapterNumber>31. </yrChapterNumber> Inner Joins.">
        <span class="nav-page-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title"><yrchapternumber>31. </yrchapternumber> Inner Joins.</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<script>
const titles = document.querySelectorAll('.title');

titles.forEach(title => {
  if (title.textContent.trim().startsWith('Appendix')) {
    const chapterNumber = title.querySelector('yrChapterNumber');
    if (chapterNumber) {
      chapterNumber.classList.add('yrAppendixChapterNumber');
    }
  }
});
</script>




</body></html>